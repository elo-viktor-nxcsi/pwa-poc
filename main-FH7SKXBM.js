var Em=Object.create;var Tc=Object.defineProperty,Im=Object.defineProperties,vm=Object.getOwnPropertyDescriptor,Dm=Object.getOwnPropertyDescriptors,Am=Object.getOwnPropertyNames,wf=Object.getOwnPropertySymbols,bm=Object.getPrototypeOf,Cf=Object.prototype.hasOwnProperty,Sm=Object.prototype.propertyIsEnumerable;var xf=(e,t,n)=>t in e?Tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||={})Cf.call(t,n)&&xf(e,n,t[n]);if(wf)for(var n of wf(t))Sm.call(t,n)&&xf(e,n,t[n]);return e},Je=(e,t)=>Im(e,Dm(t));var Tm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mm=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of Am(t))!Cf.call(e,c)&&c!==n&&Tc(e,c,{get:()=>t[c],enumerable:!(o=vm(t,c))||o.enumerable});return e};var Nm=(e,t,n)=>(n=e!=null?Em(bm(e)):{},Mm(t||!e||!e.__esModule?Tc(n,"default",{value:e,enumerable:!0}):n,e));var Mc=(e,t,n)=>new Promise((o,c)=>{var d=x=>{try{w(n.next(x))}catch(y){c(y)}},h=x=>{try{w(n.throw(x))}catch(y){c(y)}},w=x=>x.done?o(x.value):Promise.resolve(x.value).then(d,h);w((n=n.apply(e,t)).next())});var d1=Tm((tc,u1)=>{"use strict";(function(e,t){typeof tc=="object"&&typeof u1<"u"?t(tc):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ZXing={}))})(tc,function(e){"use strict";function t(m){return m==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,r){m.__proto__=r}||function(m,r){for(var i in r)r.hasOwnProperty(i)&&(m[i]=r[i])};function o(m,r){n(m,r);function i(){this.constructor=m}m.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function c(m,r){var i=Object.setPrototypeOf;i?i(m,r):m.__proto__=r}function d(m,r){r===void 0&&(r=m.constructor);var i=Error.captureStackTrace;i&&i(m,r)}var h=function(m){o(r,m);function r(i){var s=this.constructor,a=m.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),c(a,s.prototype),d(a),a}return r}(Error);let w=(()=>{class m extends h{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}return m.kind="Exception",m})(),x=(()=>{class m extends w{}return m.kind="ArgumentException",m})(),y=(()=>{class m extends w{}return m.kind="IllegalArgumentException",m})();class v{constructor(r){if(this.binarizer=r,r===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,s,a){let l=this.binarizer.getLuminanceSource().crop(r,i,s,a);return new v(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let b=(()=>{class m extends w{static getChecksumInstance(){return new m}}return m.kind="ChecksumException",m})();class k{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(r,i,s,a,l){for(;l--;)s[a++]=r[i++]}static currentTimeMillis(){return Date.now()}}let G=(()=>{class m extends w{}return m.kind="IndexOutOfBoundsException",m})(),X=(()=>{class m extends G{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}return m.kind="ArrayIndexOutOfBoundsException",m})();class Y{static fill(r,i){for(let s=0,a=r.length;s<a;s++)r[s]=i}static fillWithin(r,i,s,a){Y.rangeCheck(r.length,i,s);for(let l=i;l<s;l++)r[l]=a}static rangeCheck(r,i,s){if(i>s)throw new y("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new X(i);if(s>r)throw new X(s)}static asList(...r){return r}static create(r,i,s){return Array.from({length:r}).map(l=>Array.from({length:i}).fill(s))}static createInt32Array(r,i,s){return Array.from({length:r}).map(l=>Int32Array.from({length:i}).fill(s))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let s=0,a=r.length;s<a;s++)if(r[s]!==i[s])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(let s of r)i=31*i+s;return i}static fillUint8Array(r,i){for(let s=0;s!==r.length;s++)r[s]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){let s=new Uint8Array(i);return s.set(r),s}return r.slice(0,i)}static copyOfRange(r,i,s){let a=s-i,l=new Int32Array(a);return O.arraycopy(r,i,l,0,a),l}static binarySearch(r,i,s){s===void 0&&(s=Y.numberComparator);let a=0,l=r.length-1;for(;a<=l;){let u=l+a>>1,f=s(i,r[u]);if(f>0)a=u+1;else if(f<0)l=u-1;else return u}return-a-1}static numberComparator(r,i){return r-i}}class H{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let s=31;return i=r<<16,i!==0&&(s-=16,r=i),i=r<<8,i!==0&&(s-=8,r=i),i=r<<4,i!==0&&(s-=4,r=i),i=r<<2,i!==0&&(s-=2,r=i),s-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=re.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){let i=re.makeArray(r);O.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){let i=this.size;if(r>=i)return i;let s=this.bits,a=Math.floor(r/32),l=s[a];l&=~((1<<(r&31))-1);let u=s.length;for(;l===0;){if(++a===u)return i;l=s[a]}let f=a*32+H.numberOfTrailingZeros(l);return f>i?i:f}getNextUnset(r){let i=this.size;if(r>=i)return i;let s=this.bits,a=Math.floor(r/32),l=~s[a];l&=~((1<<(r&31))-1);let u=s.length;for(;l===0;){if(++a===u)return i;l=~s[a]}let f=a*32+H.numberOfTrailingZeros(l);return f>i?i:f}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new y;if(i===r)return;i--;let s=Math.floor(r/32),a=Math.floor(i/32),l=this.bits;for(let u=s;u<=a;u++){let f=u>s?0:r&31,g=(2<<(u<a?31:i&31))-(1<<f);l[u]|=g}}clear(){let r=this.bits.length,i=this.bits;for(let s=0;s<r;s++)i[s]=0}isRange(r,i,s){if(i<r||r<0||i>this.size)throw new y;if(i===r)return!0;i--;let a=Math.floor(r/32),l=Math.floor(i/32),u=this.bits;for(let f=a;f<=l;f++){let p=f>a?0:r&31,C=(2<<(f<l?31:i&31))-(1<<p)&4294967295;if((u[f]&C)!==(s?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((r>>s-1&1)===1)}appendBitArray(r){let i=r.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(r.get(s))}xor(r){if(this.size!==r.size)throw new y("Sizes don't match");let i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=r.bits[s]}toBytes(r,i,s,a){for(let l=0;l<a;l++){let u=0;for(let f=0;f<8;f++)this.get(r)&&(u|=1<<7-f),r++;i[s+l]=u}}getBitArray(){return this.bits}reverse(){let r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let l=0;l<s;l++){let u=a[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,r[i-l]=u}if(this.size!==s*32){let l=s*32-this.size,u=r[0]>>>l;for(let f=1;f<s;f++){let p=r[f];u|=p<<32-l,r[f-1]=u,u=p>>>l}r[s-1]=u}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof re))return!1;let i=r;return this.size===i.size&&Y.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let r="";for(let i=0,s=this.size;i<s;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new re(this.size,this.bits.slice())}}var $e=function(m){return m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",m}($e||{}),ae=$e;let j=(()=>{class m extends w{static getFormatInstance(){return new m}}return m.kind="FormatException",m})();var ce=function(m){return m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR",m}(ce||{});class U{constructor(r,i,s,...a){this.valueIdentifier=r,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,U.VALUE_IDENTIFIER_TO_ECI.set(r,this),U.NAME_TO_ECI.set(s,this);let l=this.values;for(let u=0,f=l.length;u!==f;u++){let p=l[u];U.VALUES_TO_ECI.set(p,this)}for(let u of a)U.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new j("incorect value");let i=U.VALUES_TO_ECI.get(r);if(i===void 0)throw new j("incorect value");return i}static getCharacterSetECIByName(r){let i=U.NAME_TO_ECI.get(r);if(i===void 0)throw new j("incorect value");return i}equals(r){if(!(r instanceof U))return!1;let i=r;return this.getName()===i.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(ce.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(ce.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(ce.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(ce.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(ce.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(ce.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(ce.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(ce.Big5,28,"Big5"),U.GB18030=new U(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(ce.EUC_KR,30,"EUC_KR","EUC-KR");let _n=(()=>{class m extends w{}return m.kind="UnsupportedOperationException",m})();class Ct{static decode(r,i){let s=this.encodingName(i);return this.customDecoder?this.customDecoder(r,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(r,s):new TextDecoder(s).decode(r)}static shouldDecodeOnFallback(r){return!Ct.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){let s=this.encodingName(i);return this.customEncoder?this.customEncoder(r,s):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof U?r:U.getCharacterSetECIByName(r)}static decodeFallback(r,i){let s=this.encodingCharacterSet(i);if(Ct.isDecodeFallbackSupported(s)){let a="";for(let l=0,u=r.length;l<u;l++){let f=r[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(s.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new _n(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(U.UTF8)||r.equals(U.ISO8859_1)||r.equals(U.ASCII)}static encodeFallback(r){let s=btoa(unescape(encodeURIComponent(r))).split(""),a=[];for(let l=0;l<s.length;l++)a.push(s[l].charCodeAt(0));return new Uint8Array(a)}}class le{static castAsNonUtf8Char(r,i=null){let s=i?i.getName():this.ISO88591;return Ct.decode(new Uint8Array([r]),s)}static guessEncoding(r,i){if(i!=null&&i.get(ae.CHARACTER_SET)!==void 0)return i.get(ae.CHARACTER_SET).toString();let s=r.length,a=!0,l=!0,u=!0,f=0,p=0,g=0,C=0,E=0,I=0,A=0,S=0,T=0,M=0,_=0,B=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let z=0;z<s&&(a||l||u);z++){let L=r[z]&255;u&&(f>0?L&128?f--:u=!1:L&128&&(L&64?(f++,L&32?(f++,L&16?(f++,L&8?u=!1:C++):g++):p++):u=!1)),a&&(L>127&&L<160?a=!1:L>159&&(L<192||L===215||L===247)&&_++),l&&(E>0?L<64||L===127||L>252?l=!1:E--:L===128||L===160||L>239?l=!1:L>160&&L<224?(I++,S=0,A++,A>T&&(T=A)):L>127?(E++,A=0,S++,S>M&&(M=S)):(A=0,S=0))}return u&&f>0&&(u=!1),l&&E>0&&(l=!1),u&&(B||p+g+C>0)?le.UTF8:l&&(le.ASSUME_SHIFT_JIS||T>=3||M>=3)?le.SHIFT_JIS:a&&l?T===2&&I===2||_*10>=s?le.SHIFT_JIS:le.ISO88591:a?le.ISO88591:l?le.SHIFT_JIS:u?le.UTF8:le.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let s=-1;function a(u,f,p,g,C,E){if(u==="%%")return"%";if(i[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,A;switch(E){case"s":A=i[s];break;case"c":A=i[s][0];break;case"f":A=parseFloat(i[s]).toFixed(u);break;case"p":A=parseFloat(i[s]).toPrecision(u);break;case"e":A=parseFloat(i[s]).toExponential(u);break;case"x":A=parseInt(i[s]).toString(I||16);break;case"d":A=parseFloat(parseInt(i[s],I||10).toPrecision(u)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let S=parseInt(p),T=p&&p[0]+""=="0"?"0":" ";for(;A.length<S;)A=f!==void 0?A+T:T+A;return A}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(l,a)}static getBytes(r,i){return Ct.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}le.SHIFT_JIS=U.SJIS.getName(),le.GB2312="GB2312",le.ISO88591=U.ISO8859_1.getName(),le.EUC_JP="EUC_JP",le.UTF8=U.UTF8.getName(),le.PLATFORM_DEFAULT_ENCODING=le.UTF8,le.ASSUME_SHIFT_JIS=!1;class Be{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=le.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,s){for(let a=i;i<i+s;a++)this.append(r[a]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class lt{constructor(r,i,s,a){if(this.width=r,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=r),this.height=i,r<1||i<1)throw new y("Both dimensions must be greater than 0");s==null&&(s=Math.floor((r+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){let i=r.length,s=r[0].length,a=new lt(s,i);for(let l=0;l<i;l++){let u=r[l];for(let f=0;f<s;f++)u[f]&&a.set(f,l)}return a}static parseFromString(r,i,s){if(r===null)throw new y("stringRepresentation cannot be null");let a=new Array(r.length),l=0,u=0,f=-1,p=0,g=0;for(;g<r.length;)if(r.charAt(g)===`
`||r.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new y("row lengths do not match");u=l,p++}g++}else if(r.substring(g,g+i.length)===i)g+=i.length,a[l]=!0,l++;else if(r.substring(g,g+s.length)===s)g+=s.length,a[l]=!1,l++;else throw new y("illegal character encountered: "+r.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new y("row lengths do not match");p++}let C=new lt(f,p);for(let E=0;E<l;E++)a[E]&&C.set(Math.floor(E%f),Math.floor(E/f));return C}get(r,i){let s=i*this.rowSize+Math.floor(r/32);return(this.bits[s]>>>(r&31)&1)!==0}set(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]|=1<<(r&31)&4294967295}unset(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]&=~(1<<(r&31)&4294967295)}flip(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new y("input matrix dimensions do not match");let i=new re(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let l=0,u=this.height;l<u;l++){let f=l*s,p=r.getRow(l,i).getBitArray();for(let g=0;g<s;g++)a[f+g]^=p[g]}}clear(){let r=this.bits,i=r.length;for(let s=0;s<i;s++)r[s]=0}setRegion(r,i,s,a){if(i<0||r<0)throw new y("Left and top must be nonnegative");if(a<1||s<1)throw new y("Height and width must be at least 1");let l=r+s,u=i+a;if(u>this.height||l>this.width)throw new y("The region must fit inside the matrix");let f=this.rowSize,p=this.bits;for(let g=i;g<u;g++){let C=g*f;for(let E=r;E<l;E++)p[C+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new re(this.width):i.clear();let s=this.rowSize,a=this.bits,l=r*s;for(let u=0;u<s;u++)i.setBulk(u*32,a[l+u]);return i}setRow(r,i){O.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){let r=this.getWidth(),i=this.getHeight(),s=new re(r),a=new re(r);for(let l=0,u=Math.floor((i+1)/2);l<u;l++)s=this.getRow(l,s),a=this.getRow(i-1-l,a),s.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,s)}getEnclosingRectangle(){let r=this.width,i=this.height,s=this.rowSize,a=this.bits,l=r,u=i,f=-1,p=-1;for(let g=0;g<i;g++)for(let C=0;C<s;C++){let E=a[g*s+C];if(E!==0){if(g<u&&(u=g),g>p&&(p=g),C*32<l){let I=0;for(;!(E<<31-I&4294967295);)I++;C*32+I<l&&(l=C*32+I)}if(C*32+31>f){let I=31;for(;!(E>>>I);)I--;C*32+I>f&&(f=C*32+I)}}}return f<l||p<u?null:Int32Array.from([l,u,f-l+1,p-u+1])}getTopLeftOnBit(){let r=this.rowSize,i=this.bits,s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;let a=s/r,l=s%r*32,u=i[s],f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){let r=this.rowSize,i=this.bits,s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;let a=Math.floor(s/r),l=Math.floor(s%r)*32,u=i[s],f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof lt))return!1;let i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Y.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+Y.hashCode(this.bits),r}toString(r="X ",i="  ",s=`
`){return this.buildToString(r,i,s)}buildToString(r,i,s){let a=new Be;for(let l=0,u=this.height;l<u;l++){for(let f=0,p=this.width;f<p;f++)a.append(this.get(f,l)?r:i);a.append(s)}return a.toString()}clone(){return new lt(this.width,this.height,this.rowSize,this.bits.slice())}}let P=(()=>{class m extends w{static getNotFoundInstance(){return new m}}return m.kind="NotFoundException",m})();class ut extends k{constructor(r){super(r),this.luminances=ut.EMPTY,this.buckets=new Int32Array(ut.LUMINANCE_BUCKETS)}getBlackRow(r,i){let s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new re(a):i.clear(),this.initArrays(a);let l=s.getRow(r,this.luminances),u=this.buckets;for(let p=0;p<a;p++)u[(l[p]&255)>>ut.LUMINANCE_SHIFT]++;let f=ut.estimateBlackPoint(u);if(a<3)for(let p=0;p<a;p++)(l[p]&255)<f&&i.set(p);else{let p=l[0]&255,g=l[1]&255;for(let C=1;C<a-1;C++){let E=l[C+1]&255;(g*4-p-E)/2<f&&i.set(C),p=g,g=E}}return i}getBlackMatrix(){let r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight(),a=new lt(i,s);this.initArrays(i);let l=this.buckets;for(let p=1;p<5;p++){let g=Math.floor(s*p/5),C=r.getRow(g,this.luminances),E=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<E;I++){let A=C[I]&255;l[A>>ut.LUMINANCE_SHIFT]++}}let u=ut.estimateBlackPoint(l),f=r.getMatrix();for(let p=0;p<s;p++){let g=p*i;for(let C=0;C<i;C++)(f[g+C]&255)<u&&a.set(C,p)}return a}createBinarizer(r){return new ut(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));let i=this.buckets;for(let s=0;s<ut.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(r){let i=r.length,s=0,a=0,l=0;for(let C=0;C<i;C++)r[C]>l&&(a=C,l=r[C]),r[C]>s&&(s=r[C]);let u=0,f=0;for(let C=0;C<i;C++){let E=C-a,I=r[C]*E*E;I>f&&(u=C,f=I)}if(a>u){let C=a;a=u,u=C}if(u-a<=i/16)throw new P;let p=u-1,g=-1;for(let C=u-1;C>a;C--){let E=C-a,I=E*E*(u-C)*(s-r[C]);I>g&&(p=C,g=I)}return p<<ut.LUMINANCE_SHIFT}}ut.LUMINANCE_BITS=5,ut.LUMINANCE_SHIFT=8-ut.LUMINANCE_BITS,ut.LUMINANCE_BUCKETS=1<<ut.LUMINANCE_BITS,ut.EMPTY=Uint8ClampedArray.from([0]);class me extends ut{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight();if(i>=me.MINIMUM_DIMENSION&&s>=me.MINIMUM_DIMENSION){let a=r.getMatrix(),l=i>>me.BLOCK_SIZE_POWER;i&me.BLOCK_SIZE_MASK&&l++;let u=s>>me.BLOCK_SIZE_POWER;s&me.BLOCK_SIZE_MASK&&u++;let f=me.calculateBlackPoints(a,l,u,i,s),p=new lt(i,s);me.calculateThresholdForBlock(a,l,u,i,s,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new me(r)}static calculateThresholdForBlock(r,i,s,a,l,u,f){let p=l-me.BLOCK_SIZE,g=a-me.BLOCK_SIZE;for(let C=0;C<s;C++){let E=C<<me.BLOCK_SIZE_POWER;E>p&&(E=p);let I=me.cap(C,2,s-3);for(let A=0;A<i;A++){let S=A<<me.BLOCK_SIZE_POWER;S>g&&(S=g);let T=me.cap(A,2,i-3),M=0;for(let B=-2;B<=2;B++){let z=u[I+B];M+=z[T-2]+z[T-1]+z[T]+z[T+1]+z[T+2]}let _=M/25;me.thresholdBlock(r,S,E,_,a,f)}}}static cap(r,i,s){return r<i?i:r>s?s:r}static thresholdBlock(r,i,s,a,l,u){for(let f=0,p=s*l+i;f<me.BLOCK_SIZE;f++,p+=l)for(let g=0;g<me.BLOCK_SIZE;g++)(r[p+g]&255)<=a&&u.set(i+g,s+f)}static calculateBlackPoints(r,i,s,a,l){let u=l-me.BLOCK_SIZE,f=a-me.BLOCK_SIZE,p=new Array(s);for(let g=0;g<s;g++){p[g]=new Int32Array(i);let C=g<<me.BLOCK_SIZE_POWER;C>u&&(C=u);for(let E=0;E<i;E++){let I=E<<me.BLOCK_SIZE_POWER;I>f&&(I=f);let A=0,S=255,T=0;for(let _=0,B=C*a+I;_<me.BLOCK_SIZE;_++,B+=a){for(let z=0;z<me.BLOCK_SIZE;z++){let L=r[B+z]&255;A+=L,L<S&&(S=L),L>T&&(T=L)}if(T-S>me.MIN_DYNAMIC_RANGE)for(_++,B+=a;_<me.BLOCK_SIZE;_++,B+=a)for(let z=0;z<me.BLOCK_SIZE;z++)A+=r[B+z]&255}let M=A>>me.BLOCK_SIZE_POWER*2;if(T-S<=me.MIN_DYNAMIC_RANGE&&(M=S/2,g>0&&E>0)){let _=(p[g-1][E]+2*p[g][E-1]+p[g-1][E-1])/4;S<_&&(M=_)}p[g][E]=M}}return p}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class Bi{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,s,a){throw new _n("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _n("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _n("This luminance source does not support rotation by 45 degrees.")}toString(){let r=new Uint8ClampedArray(this.width),i=new Be;for(let s=0;s<this.height;s++){let a=this.getRow(s,r);for(let l=0;l<this.width;l++){let u=a[l]&255,f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class Wn extends Bi{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){let s=this.delegate.getRow(r,i),a=this.getWidth();for(let l=0;l<a;l++)s[l]=255-(s[l]&255);return s}getMatrix(){let r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(r[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,s,a){return new Wn(this.delegate.crop(r,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Wn(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Wn(this.delegate.rotateCounterClockwise45())}}class $n extends Bi{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=$n.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){let i=r.getContext("2d").getImageData(0,0,r.width,r.height);return $n.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,s){let a=new Uint8ClampedArray(i*s);for(let l=0,u=0,f=r.length;l<f;l+=4,u++){let p;if(r[l+3]===0)p=255;else{let C=r[l],E=r[l+1],I=r[l+2];p=306*C+601*E+117*I+512>>10}a[u]=p}return a}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);let s=this.getWidth(),a=r*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,s,a){return super.crop(r,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){let i=this.getTempCanvasElement(),s=i.getContext("2d"),a=r*$n.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*u),p=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*u);return i.width=f,i.height=p,s.translate(f/2,p/2),s.rotate(a),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=$n.makeBufferFromCanvasImageData(i),this}invert(){return new Wn(this)}}$n.DEGREE_TO_RADIANS=Math.PI/180;class Gd{constructor(r,i,s){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var At=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(m,r,i,s){function a(l){return l instanceof i?l:new i(function(u){u(l)})}return new(i||(i=Promise))(function(l,u){function f(C){try{g(s.next(C))}catch(E){u(E)}}function p(C){try{g(s.throw(C))}catch(E){u(E)}}function g(C){C.done?l(C.value):a(C.value).then(f,p)}g((s=s.apply(m,r||[])).next())})};class gr{constructor(r,i=500,s){this.reader=r,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return At(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(let s of r){let a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;let l=s.deviceId||s.id,u=s.label||`Video device ${i.length+1}`,f=s.groupId,p={deviceId:l,label:u,kind:a,groupId:f};i.push(p)}return i})}getVideoInputDevices(){return At(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Gd(i.deviceId,i.label))})}findDeviceById(r){return At(this,void 0,void 0,function*(){let i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return At(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return At(this,void 0,void 0,function*(){this.reset();let s;r?s={deviceId:{exact:r}}:s={facingMode:"environment"};let a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(r,i){return At(this,void 0,void 0,function*(){let s=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(r,i){return At(this,void 0,void 0,function*(){this.reset();let s=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(r,i,s){return At(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,s)})}decodeFromVideoDevice(r,i,s){return At(this,void 0,void 0,function*(){let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};let l={video:a};return yield this.decodeFromConstraints(l,i,s)})}decodeFromConstraints(r,i,s){return At(this,void 0,void 0,function*(){let a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(r,i,s){return At(this,void 0,void 0,function*(){this.reset();let a=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return At(this,void 0,void 0,function*(){let s=this.prepareVideoElement(i);return this.addVideoSource(s,r),this.videoElement=s,this.stream=r,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(r){return new Promise((i,s)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return At(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){let s=document.getElementById(r);if(!s)throw new x(`element with id '${r}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new x(`element with id '${r}' must be an ${i} element`);return s}decodeFromImage(r,i){if(!r&&!i)throw new x("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new x("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,s){if(r===void 0&&i===void 0)throw new x("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(r,s)}decodeFromImageElement(r){if(!r)throw new x("An image element must be provided.");this.reset();let i=this.prepareImageElement(r);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(r){let i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){let s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(r){if(!r)throw new x("A video element must be provided.");this.reset();let i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new x("An URL must be provided.");this.reset();let i=this.prepareImageElement();this.imageElement=i;let s=this._decodeOnLoadImage(i);return i.src=r,s}decodeFromVideoUrl(r){if(!r)throw new x("An URL must be provided.");this.reset();let i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=r,s}decodeFromVideoUrlContinuously(r,i){if(!r)throw new x("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=r,a}_decodeOnLoadImage(r){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,s),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return At(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return At(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,s=!0){this._stopAsyncDecode=!1;let a=(l,u)=>{if(this._stopAsyncDecode){u(new P("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let f=this.decode(r);l(f)}catch(f){let p=i&&f instanceof P,C=(f instanceof b||f instanceof j)&&s;if(p||C)return setTimeout(a,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>a(l,u))}decodeContinuously(r,i){this._stopContinuousDecode=!1;let s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let a=this.decode(r);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);let l=a instanceof b||a instanceof j,u=a instanceof P;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(r){let i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,s){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){let i=this.getCaptureCanvasContext(r);this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);let s=this.getCaptureCanvas(r),a=new $n(s),l=new me(a);return new v(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){let s=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){let i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let i=document.createElement("canvas"),s,a;return typeof r<"u"&&(r instanceof HTMLVideoElement?(s=r.videoWidth,a=r.videoHeight):r instanceof HTMLImageElement&&(s=r.naturalWidth||r.width,a=r.naturalHeight||r.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class bt{constructor(r,i,s=i==null?0:8*i.length,a,l,u=O.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=l,this.timestamp=u,this.text=r,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=l,this.resultMetadata=null,u==null?this.timestamp=O.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){let i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){let s=new Array(i.length+r.length);O.arraycopy(i,0,s,0,i.length),O.arraycopy(r,0,s,i.length,r.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Wd=function(m){return m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",m}(Wd||{}),te=Wd,$d=function(m){return m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",m}($d||{}),dt=$d;class ji{constructor(r,i,s,a,l=-1,u=-1){this.rawBytes=r,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ui{exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class Rt{constructor(r,i){if(i.length===0)throw new y;this.field=r;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),O.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);let i=this.coefficients,s;if(r===1){s=0;for(let u=0,f=i.length;u!==f;u++){let p=i[u];s=Ui.addOrSubtract(s,p)}return s}s=i[0];let a=i.length,l=this.field;for(let u=1;u<a;u++)s=Ui.addOrSubtract(l.multiply(r,s),i[u]);return s}addOrSubtract(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){let u=i;i=s,s=u}let a=new Int32Array(s.length),l=s.length-i.length;O.arraycopy(s,0,a,0,l);for(let u=l;u<s.length;u++)a[u]=Ui.addOrSubtract(i[u-l],s[u]);return new Rt(this.field,a)}multiply(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();let i=this.coefficients,s=i.length,a=r.coefficients,l=a.length,u=new Int32Array(s+l-1),f=this.field;for(let p=0;p<s;p++){let g=i[p];for(let C=0;C<l;C++)u[p+C]=Ui.addOrSubtract(u[p+C],f.multiply(g,a[C]))}return new Rt(f,u)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;let i=this.coefficients.length,s=this.field,a=new Int32Array(i),l=this.coefficients;for(let u=0;u<i;u++)a[u]=s.multiply(l[u],r);return new Rt(s,a)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return this.field.getZero();let s=this.coefficients,a=s.length,l=new Int32Array(a+r),u=this.field;for(let f=0;f<a;f++)l[f]=u.multiply(s[f],i);return new Rt(u,l)}divide(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new y("Divide by 0");let i=this.field,s=i.getZero(),a=this,l=r.getCoefficient(r.getDegree()),u=i.inverse(l);for(;a.getDegree()>=r.getDegree()&&!a.isZero();){let f=a.getDegree()-r.getDegree(),p=i.multiply(a.getCoefficient(a.getDegree()),u),g=r.multiplyByMonomial(f,p),C=i.buildMonomial(f,p);s=s.addOrSubtract(C),a=a.addOrSubtract(g)}return[s,a]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(r+=" - ",s=-s):r.length>0&&(r+=" + "),i===0||s!==1){let a=this.field.log(s);a===0?r+="1":a===1?r+="a":(r+="a^",r+=a)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}let oc=(()=>{class m extends w{}return m.kind="ArithmeticException",m})();class _e extends Ui{constructor(r,i,s){super(),this.primitive=r,this.size=i,this.generatorBase=s;let a=new Int32Array(i),l=1;for(let f=0;f<i;f++)a[f]=l,l*=2,l>=i&&(l^=r,l&=i-1);this.expTable=a;let u=new Int32Array(i);for(let f=0;f<i-1;f++)u[a[f]]=f;this.logTable=u,this.zero=new Rt(this,Int32Array.from([0])),this.one=new Rt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;let s=new Int32Array(r+1);return s[0]=i,new Rt(this,s)}inverse(r){if(r===0)throw new oc;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}_e.AZTEC_DATA_12=new _e(4201,4096,1),_e.AZTEC_DATA_10=new _e(1033,1024,1),_e.AZTEC_DATA_6=new _e(67,64,1),_e.AZTEC_PARAM=new _e(19,16,1),_e.QR_CODE_FIELD_256=new _e(285,256,0),_e.DATA_MATRIX_FIELD_256=new _e(301,256,1),_e.AZTEC_DATA_8=_e.DATA_MATRIX_FIELD_256,_e.MAXICODE_FIELD_64=_e.AZTEC_DATA_6;let Vi=(()=>{class m extends w{}return m.kind="ReedSolomonException",m})(),Rn=(()=>{class m extends w{}return m.kind="IllegalStateException",m})();class Hi{constructor(r){this.field=r}decode(r,i){let s=this.field,a=new Rt(s,r),l=new Int32Array(i),u=!0;for(let A=0;A<i;A++){let S=a.evaluateAt(s.exp(A+s.getGeneratorBase()));l[l.length-1-A]=S,S!==0&&(u=!1)}if(u)return;let f=new Rt(s,l),p=this.runEuclideanAlgorithm(s.buildMonomial(i,1),f,i),g=p[0],C=p[1],E=this.findErrorLocations(g),I=this.findErrorMagnitudes(C,E);for(let A=0;A<E.length;A++){let S=r.length-1-s.log(E[A]);if(S<0)throw new Vi("Bad error location");r[S]=_e.addOrSubtract(r[S],I[A])}}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){let A=r;r=i,i=A}let a=this.field,l=r,u=i,f=a.getZero(),p=a.getOne();for(;u.getDegree()>=(s/2|0);){let A=l,S=f;if(l=u,f=p,l.isZero())throw new Vi("r_{i-1} was zero");u=A;let T=a.getZero(),M=l.getCoefficient(l.getDegree()),_=a.inverse(M);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let B=u.getDegree()-l.getDegree(),z=a.multiply(u.getCoefficient(u.getDegree()),_);T=T.addOrSubtract(a.buildMonomial(B,z)),u=u.addOrSubtract(l.multiplyByMonomial(B,z))}if(p=T.multiply(f).addOrSubtract(S),u.getDegree()>=l.getDegree())throw new Rn("Division algorithm failed to reduce polynomial?")}let g=p.getCoefficient(0);if(g===0)throw new Vi("sigmaTilde(0) was zero");let C=a.inverse(g),E=p.multiplyScalar(C),I=u.multiplyScalar(C);return[E,I]}findErrorLocations(r){let i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);let s=new Int32Array(i),a=0,l=this.field;for(let u=1;u<l.getSize()&&a<i;u++)r.evaluateAt(u)===0&&(s[a]=l.inverse(u),a++);if(a!==i)throw new Vi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(r,i){let s=i.length,a=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){let f=l.inverse(i[u]),p=1;for(let g=0;g<s;g++)if(u!==g){let C=l.multiply(i[g],f),E=C&1?C&-2:C|1;p=l.multiply(p,E)}a[u]=l.multiply(r.evaluateAt(f),l.inverse(p)),l.getGeneratorBase()!==0&&(a[u]=l.multiply(a[u],f))}return a}}var Et=function(m){return m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY",m}(Et||{});let sc=(()=>{class m{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),l=this.correctBits(a),u=m.convertBoolArrayToByteArray(l),f=m.getEncodedData(l),p=new ji(u,f,null,null);return p.setNumBits(l.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Et.UPPER,l=Et.UPPER,u="",f=0;for(;f<s;)if(l===Et.BINARY){if(s-f<5)break;let p=m.readCode(i,f,5);if(f+=5,p===0){if(s-f<11)break;p=m.readCode(i,f,11)+31,f+=11}for(let g=0;g<p;g++){if(s-f<8){f=s;break}let C=m.readCode(i,f,8);u+=le.castAsNonUtf8Char(C),f+=8}l=a}else{let p=l===Et.DIGIT?4:5;if(s-f<p)break;let g=m.readCode(i,f,p);f+=p;let C=m.getCharacter(l,g);C.startsWith("CTRL_")?(a=l,l=m.getTable(C.charAt(5)),C.charAt(6)==="L"&&(a=l)):(u+=C,l=a)}return u}static getTable(i){switch(i){case"L":return Et.LOWER;case"P":return Et.PUNCT;case"M":return Et.MIXED;case"D":return Et.DIGIT;case"B":return Et.BINARY;case"U":default:return Et.UPPER}}static getCharacter(i,s){switch(i){case Et.UPPER:return m.UPPER_TABLE[s];case Et.LOWER:return m.LOWER_TABLE[s];case Et.MIXED:return m.MIXED_TABLE[s];case Et.PUNCT:return m.PUNCT_TABLE[s];case Et.DIGIT:return m.DIGIT_TABLE[s];default:throw new Rn("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=_e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=_e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=_e.AZTEC_DATA_10):(a=12,s=_e.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=i.length/a;if(u<l)throw new j;let f=i.length%a,p=new Int32Array(u);for(let A=0;A<u;A++,f+=a)p[A]=m.readCode(i,f,a);try{new Hi(s).decode(p,u-l)}catch(A){throw new j(A)}let g=(1<<a)-1,C=0;for(let A=0;A<l;A++){let S=p[A];if(S===0||S===g)throw new j;(S===1||S===g-1)&&C++}let E=new Array(l*a-C),I=0;for(let A=0;A<l;A++){let S=p[A];if(S===1||S===g-1)E.fill(S>1,I,I+a-1),I+=a-1;else for(let T=a-1;T>=0;--T)E[I++]=(S&1<<T)!==0}return E}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(s?11:14)+a*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(a,s));if(s)for(let p=0;p<u.length;p++)u[p]=p;else{let p=l+1+2*H.truncDivision(H.truncDivision(l,2)-1,15),g=l/2,C=H.truncDivision(p,2);for(let E=0;E<g;E++){let I=E+H.truncDivision(E,15);u[g-E-1]=C-I-1,u[g+E]=C+I+1}}for(let p=0,g=0;p<a;p++){let C=(a-p)*4+(s?9:12),E=p*2,I=l-1-E;for(let A=0;A<C;A++){let S=A*2;for(let T=0;T<2;T++)f[g+S+T]=i.get(u[E+T],u[E+A]),f[g+2*C+S+T]=i.get(u[E+A],u[I-T]),f[g+4*C+S+T]=i.get(u[I-T],u[I-A]),f[g+6*C+S+T]=i.get(u[I-A],u[E+T])}g+=C*8}return f}static readCode(i,s,a){let l=0;for(let u=s;u<s+a;u++)l<<=1,i[u]&&(l|=1);return l}static readByte(i,s){let a=i.length-s;return a>=8?m.readCode(i,s,8):m.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=m.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}return m.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],m.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],m.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],m.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],m.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],m})();class Me{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,s,a){let l=r-s,u=i-a;return Math.sqrt(l*l+u*u)}static sum(r){let i=0;for(let s=0,a=r.length;s!==a;s++){let l=r[s];i+=l}return i}}class Xo{static floatToIntBits(r){return r}}Xo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof q){let i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Xo.floatToIntBits(this.x)+Xo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){let i=this.distance(r[0],r[1]),s=this.distance(r[1],r[2]),a=this.distance(r[0],r[2]),l,u,f;if(s>=i&&s>=a?(u=r[0],l=r[1],f=r[2]):a>=s&&a>=i?(u=r[1],l=r[0],f=r[2]):(u=r[2],l=r[0],f=r[1]),this.crossProductZ(l,u,f)<0){let p=l;l=f,f=p}r[0]=l,r[1]=u,r[2]=f}static distance(r,i){return Me.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,s){let a=i.x,l=i.y;return(s.x-a)*(r.y-l)-(s.y-l)*(r.x-a)}}class Qo{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Yd extends Qo{constructor(r,i,s,a,l){super(r,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Ko=(()=>{class m{constructor(i,s,a,l){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=m.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),l==null&&(l=i.getHeight()/2|0);let u=s/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,l=this.downInit,u=!1,f=!0,p=!1,g=!1,C=!1,E=!1,I=!1,A=this.width,S=this.height;for(;f;){f=!1;let T=!0;for(;(T||!g)&&s<A;)T=this.containsBlackPoint(a,l,s,!1),T?(s++,f=!0,g=!0):g||s++;if(s>=A){u=!0;break}let M=!0;for(;(M||!C)&&l<S;)M=this.containsBlackPoint(i,s,l,!0),M?(l++,f=!0,C=!0):C||l++;if(l>=S){u=!0;break}let _=!0;for(;(_||!E)&&i>=0;)_=this.containsBlackPoint(a,l,i,!1),_?(i--,f=!0,E=!0):E||i--;if(i<0){u=!0;break}let B=!0;for(;(B||!I)&&a>=0;)B=this.containsBlackPoint(i,s,a,!0),B?(a--,f=!0,I=!0):I||a--;if(a<0){u=!0;break}f&&(p=!0)}if(!u&&p){let T=s-i,M=null;for(let L=1;M===null&&L<T;L++)M=this.getBlackPointOnSegment(i,l-L,i+L,l);if(M==null)throw new P;let _=null;for(let L=1;_===null&&L<T;L++)_=this.getBlackPointOnSegment(i,a+L,i+L,a);if(_==null)throw new P;let B=null;for(let L=1;B===null&&L<T;L++)B=this.getBlackPointOnSegment(s,a+L,s-L,a);if(B==null)throw new P;let z=null;for(let L=1;z===null&&L<T;L++)z=this.getBlackPointOnSegment(s,l-L,s-L,l);if(z==null)throw new P;return this.centerEdges(z,M,B,_)}else throw new P}getBlackPointOnSegment(i,s,a,l){let u=Me.round(Me.distance(i,s,a,l)),f=(a-i)/u,p=(l-s)/u,g=this.image;for(let C=0;C<u;C++){let E=Me.round(i+C*f),I=Me.round(s+C*p);if(g.get(E,I))return new q(E,I)}return null}centerEdges(i,s,a,l){let u=i.getX(),f=i.getY(),p=s.getX(),g=s.getY(),C=a.getX(),E=a.getY(),I=l.getX(),A=l.getY(),S=m.CORR;return u<this.width/2?[new q(I-S,A+S),new q(p+S,g+S),new q(C-S,E-S),new q(u+S,f-S)]:[new q(I+S,A+S),new q(p+S,g-S),new q(C-S,E+S),new q(u-S,f-S)]}containsBlackPoint(i,s,a,l){let u=this.image;if(l){for(let f=i;f<=s;f++)if(u.get(f,a))return!0}else for(let f=i;f<=s;f++)if(u.get(a,f))return!0;return!1}}return m.INIT_SIZE=10,m.CORR=1,m})();class ac{static checkAndNudgePoints(r,i){let s=r.getWidth(),a=r.getHeight(),l=!0;for(let u=0;u<i.length&&l;u+=2){let f=Math.floor(i[u]),p=Math.floor(i[u+1]);if(f<-1||f>s||p<-1||p>a)throw new P;l=!1,f===-1?(i[u]=0,l=!0):f===s&&(i[u]=s-1,l=!0),p===-1?(i[u+1]=0,l=!0):p===a&&(i[u+1]=a-1,l=!0)}l=!0;for(let u=i.length-2;u>=0&&l;u-=2){let f=Math.floor(i[u]),p=Math.floor(i[u+1]);if(f<-1||f>s||p<-1||p>a)throw new P;l=!1,f===-1?(i[u]=0,l=!0):f===s&&(i[u]=s-1,l=!0),p===-1?(i[u+1]=0,l=!0):p===a&&(i[u+1]=a-1,l=!0)}}}class rn{constructor(r,i,s,a,l,u,f,p,g){this.a11=r,this.a21=i,this.a31=s,this.a12=a,this.a22=l,this.a32=u,this.a13=f,this.a23=p,this.a33=g}static quadrilateralToQuadrilateral(r,i,s,a,l,u,f,p,g,C,E,I,A,S,T,M){let _=rn.quadrilateralToSquare(r,i,s,a,l,u,f,p);return rn.squareToQuadrilateral(g,C,E,I,A,S,T,M).times(_)}transformPoints(r){let i=r.length,s=this.a11,a=this.a12,l=this.a13,u=this.a21,f=this.a22,p=this.a23,g=this.a31,C=this.a32,E=this.a33;for(let I=0;I<i;I+=2){let A=r[I],S=r[I+1],T=l*A+p*S+E;r[I]=(s*A+u*S+g)/T,r[I+1]=(a*A+f*S+C)/T}}transformPointsWithValues(r,i){let s=this.a11,a=this.a12,l=this.a13,u=this.a21,f=this.a22,p=this.a23,g=this.a31,C=this.a32,E=this.a33,I=r.length;for(let A=0;A<I;A++){let S=r[A],T=i[A],M=l*S+p*T+E;r[A]=(s*S+u*T+g)/M,i[A]=(a*S+f*T+C)/M}}static squareToQuadrilateral(r,i,s,a,l,u,f,p){let g=r-s+l-f,C=i-a+u-p;if(g===0&&C===0)return new rn(s-r,l-s,r,a-i,u-a,i,0,0,1);{let E=s-l,I=f-l,A=a-u,S=p-u,T=E*S-I*A,M=(g*S-I*C)/T,_=(E*C-g*A)/T;return new rn(s-r+M*s,f-r+_*f,r,a-i+M*a,p-i+_*p,i,M,_,1)}}static quadrilateralToSquare(r,i,s,a,l,u,f,p){return rn.squareToQuadrilateral(r,i,s,a,l,u,f,p).buildAdjoint()}buildAdjoint(){return new rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new rn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Zd extends ac{sampleGrid(r,i,s,a,l,u,f,p,g,C,E,I,A,S,T,M,_,B,z){let L=rn.quadrilateralToQuadrilateral(a,l,u,f,p,g,C,E,I,A,S,T,M,_,B,z);return this.sampleGridWithTransform(r,i,s,L)}sampleGridWithTransform(r,i,s,a){if(i<=0||s<=0)throw new P;let l=new lt(i,s),u=new Float32Array(2*i);for(let f=0;f<s;f++){let p=u.length,g=f+.5;for(let C=0;C<p;C+=2)u[C]=C/2+.5,u[C+1]=g;a.transformPoints(u),ac.checkAndNudgePoints(r,u);try{for(let C=0;C<p;C+=2)r.get(Math.floor(u[C]),Math.floor(u[C+1]))&&l.set(C/2,f)}catch{throw new P}}return l}}class Yn{static setGridSampler(r){Yn.gridSampler=r}static getInstance(){return Yn.gridSampler}}Yn.gridSampler=new Zd;class St{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new q(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qd{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(r){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new Yd(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new P;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let u=0;u<4;u++){let f=s[(this.shift+u)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(r,i){let s=0;r.forEach((a,l,u)=>{let f=(a>>i-2<<1)+(a&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(H.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new P}getCorrectedParameterData(r,i){let s,a;i?(s=7,a=2):(s=10,a=4);let l=s-a,u=new Int32Array(s);for(let p=s-1;p>=0;--p)u[p]=r&15,r>>=4;try{new Hi(_e.AZTEC_PARAM).decode(u,l)}catch{throw new P}let f=0;for(let p=0;p<a;p++)f=(f<<4)+u[p];return f}getBullsEyeCorners(r){let i=r,s=r,a=r,l=r,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(i,u,1,-1),I=this.getFirstDifferent(s,u,1,1),A=this.getFirstDifferent(a,u,-1,1),S=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let T=this.distancePoint(S,E)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(T<.75||T>1.25||!this.isWhiteOrBlackRectangle(E,I,A,S))break}i=E,s=I,a=A,l=S,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new P;this.compact=this.nbCenterLayers===5;let f=new q(i.getX()+.5,i.getY()-.5),p=new q(s.getX()+.5,s.getY()+.5),g=new q(a.getX()-.5,a.getY()+.5),C=new q(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,p,g,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,s,a;try{let f=new Ko(this.image).detect();r=f[0],i=f[1],s=f[2],a=f[3]}catch{let p=this.image.getWidth()/2,g=this.image.getHeight()/2;r=this.getFirstDifferent(new St(p+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new St(p+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new St(p-7,g+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new St(p-7,g-7),!1,-1,-1).toResultPoint()}let l=Me.round((r.getX()+a.getX()+i.getX()+s.getX())/4),u=Me.round((r.getY()+a.getY()+i.getY()+s.getY())/4);try{let f=new Ko(this.image,15,l,u).detect();r=f[0],i=f[1],s=f[2],a=f[3]}catch{r=this.getFirstDifferent(new St(l+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new St(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new St(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new St(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Me.round((r.getX()+a.getX()+i.getX()+s.getX())/4),u=Me.round((r.getY()+a.getY()+i.getY()+s.getY())/4),new St(l,u)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,s,a,l){let u=Yn.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(r,f,f,p,p,g,p,g,g,p,g,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(r,i,s){let a=0,l=this.distanceResultPoint(r,i),u=l/s,f=r.getX(),p=r.getY(),g=u*(i.getX()-r.getX())/l,C=u*(i.getY()-r.getY())/l;for(let E=0;E<s;E++)this.image.get(Me.round(f+E*g),Me.round(p+E*C))&&(a|=1<<s-E-1);return a}isWhiteOrBlackRectangle(r,i,s,a){let l=3;r=new St(r.getX()-l,r.getY()+l),i=new St(i.getX()-l,i.getY()-l),s=new St(s.getX()+l,s.getY()-l),a=new St(a.getX()+l,a.getY()+l);let u=this.getColor(a,r);if(u===0)return!1;let f=this.getColor(r,i);return f!==u||(f=this.getColor(i,s),f!==u)?!1:(f=this.getColor(s,a),f===u)}getColor(r,i){let s=this.distancePoint(r,i),a=(i.getX()-r.getX())/s,l=(i.getY()-r.getY())/s,u=0,f=r.getX(),p=r.getY(),g=this.image.get(r.getX(),r.getY()),C=Math.ceil(s);for(let I=0;I<C;I++)f+=a,p+=l,this.image.get(Me.round(f),Me.round(p))!==g&&u++;let E=u/s;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(r,i,s,a){let l=r.getX()+s,u=r.getY()+a;for(;this.isValid(l,u)&&this.image.get(l,u)===i;)l+=s,u+=a;for(l-=s,u-=a;this.isValid(l,u)&&this.image.get(l,u)===i;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===i;)u+=a;return u-=a,new St(l,u)}expandSquare(r,i,s){let a=s/(2*i),l=r[0].getX()-r[2].getX(),u=r[0].getY()-r[2].getY(),f=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,g=new q(f+a*l,p+a*u),C=new q(f-a*l,p-a*u);l=r[1].getX()-r[3].getX(),u=r[1].getY()-r[3].getY(),f=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let E=new q(f+a*l,p+a*u),I=new q(f-a*l,p-a*u);return[g,E,C,I]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Me.round(r.getX()),s=Me.round(r.getY());return this.isValid(i,s)}distancePoint(r,i){return Me.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Me.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Jo{decode(r,i=null){let s=null,a=new qd(r.getBlackMatrix()),l=null,u=null;try{let C=a.detectMirror(!1);l=C.getPoints(),this.reportFoundResultPoints(i,l),u=new sc().decode(C)}catch(C){s=C}if(u==null)try{let C=a.detectMirror(!0);l=C.getPoints(),this.reportFoundResultPoints(i,l),u=new sc().decode(C)}catch(C){throw s??C}let f=new bt(u.getText(),u.getRawBytes(),u.getNumBits(),l,te.AZTEC,O.currentTimeMillis()),p=u.getByteSegments();p!=null&&f.putMetadata(dt.BYTE_SEGMENTS,p);let g=u.getECLevel();return g!=null&&f.putMetadata(dt.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(r,i){if(r!=null){let s=r.get(ae.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,l,u)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class P1 extends gr{constructor(r=500){super(new Jo,r)}}class it{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(ae.TRY_HARDER)===!0&&r.isRotateSupported()){let l=r.rotateCounterClockwise(),u=this.doDecode(l,i),f=u.getResultMetadata(),p=270;f!==null&&f.get(dt.ORIENTATION)===!0&&(p=p+f.get(dt.ORIENTATION)%360),u.putMetadata(dt.ORIENTATION,p);let g=u.getResultPoints();if(g!==null){let C=l.getHeight();for(let E=0;E<g.length;E++)g[E]=new q(C-g[E].getY()-1,g[E].getX())}return u}else throw new P}}reset(){}doDecode(r,i){let s=r.getWidth(),a=r.getHeight(),l=new re(s),u=i&&i.get(ae.TRY_HARDER)===!0,f=Math.max(1,a>>(u?8:5)),p;u?p=a:p=15;let g=Math.trunc(a/2);for(let C=0;C<p;C++){let E=Math.trunc((C+1)/2),I=(C&1)===0,A=g+f*(I?E:-E);if(A<0||A>=a)break;try{l=r.getBlackRow(A,l)}catch{continue}for(let S=0;S<2;S++){if(S===1&&(l.reverse(),i&&i.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){let T=new Map;i.forEach((M,_)=>T.set(_,M)),T.delete(ae.NEED_RESULT_POINT_CALLBACK),i=T}try{let T=this.decodeRow(A,l,i);if(S===1){T.putMetadata(dt.ORIENTATION,180);let M=T.getResultPoints();M!==null&&(M[0]=new q(s-M[0].getX()-1,M[0].getY()),M[1]=new q(s-M[1].getX()-1,M[1].getY()))}return T}catch{}}}throw new P}static recordPattern(r,i,s){let a=s.length;for(let g=0;g<a;g++)s[g]=0;let l=r.getSize();if(i>=l)throw new P;let u=!r.get(i),f=0,p=i;for(;p<l;){if(r.get(p)!==u)s[f]++;else{if(++f===a)break;s[f]=1,u=!u}p++}if(!(f===a||f===a-1&&p===l))throw new P}static recordPatternInReverse(r,i,s){let a=s.length,l=r.get(i);for(;i>0&&a>=0;)r.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new P;it.recordPattern(r,i+1,s)}static patternMatchVariance(r,i,s){let a=r.length,l=0,u=0;for(let g=0;g<a;g++)l+=r[g],u+=i[g];if(l<u)return Number.POSITIVE_INFINITY;let f=l/u;s*=f;let p=0;for(let g=0;g<a;g++){let C=r[g],E=i[g]*f,I=C>E?C-E:E-C;if(I>s)return Number.POSITIVE_INFINITY;p+=I}return p/l}}class V extends it{static findStartPattern(r){let i=r.getSize(),s=r.getNextSet(0),a=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,f=!1,p=6;for(let g=s;g<i;g++)if(r.get(g)!==f)l[a]++;else{if(a===p-1){let C=V.MAX_AVG_VARIANCE,E=-1;for(let I=V.CODE_START_A;I<=V.CODE_START_C;I++){let A=it.patternMatchVariance(l,V.CODE_PATTERNS[I],V.MAX_INDIVIDUAL_VARIANCE);A<C&&(C=A,E=I)}if(E>=0&&r.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,E]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new P}static decodeCode(r,i,s){it.recordPattern(r,s,i);let a=V.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<V.CODE_PATTERNS.length;u++){let f=V.CODE_PATTERNS[u],p=this.patternMatchVariance(i,f,V.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,l=u)}if(l>=0)return l;throw new P}decodeRow(r,i,s){let a=s&&s.get(ae.ASSUME_GS1)===!0,l=V.findStartPattern(i),u=l[2],f=0,p=new Uint8Array(20);p[f++]=u;let g;switch(u){case V.CODE_START_A:g=V.CODE_CODE_A;break;case V.CODE_START_B:g=V.CODE_CODE_B;break;case V.CODE_START_C:g=V.CODE_CODE_C;break;default:throw new j}let C=!1,E=!1,I="",A=l[0],S=l[1],T=Int32Array.from([0,0,0,0,0,0]),M=0,_=0,B=u,z=0,L=!0,Ce=!1,fe=!1;for(;!C;){let Zr=E;switch(E=!1,M=_,_=V.decodeCode(i,T,S),p[f++]=_,_!==V.CODE_STOP&&(L=!0),_!==V.CODE_STOP&&(z++,B+=z*_),A=S,S+=T.reduce((xm,Cm)=>xm+Cm,0),_){case V.CODE_START_A:case V.CODE_START_B:case V.CODE_START_C:throw new j}switch(g){case V.CODE_CODE_A:if(_<64)fe===Ce?I+=String.fromCharCode(32+_):I+=String.fromCharCode(32+_+128),fe=!1;else if(_<96)fe===Ce?I+=String.fromCharCode(_-64):I+=String.fromCharCode(_+64),fe=!1;else switch(_!==V.CODE_STOP&&(L=!1),_){case V.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case V.CODE_FNC_2:case V.CODE_FNC_3:break;case V.CODE_FNC_4_A:!Ce&&fe?(Ce=!0,fe=!1):Ce&&fe?(Ce=!1,fe=!1):fe=!0;break;case V.CODE_SHIFT:E=!0,g=V.CODE_CODE_B;break;case V.CODE_CODE_B:g=V.CODE_CODE_B;break;case V.CODE_CODE_C:g=V.CODE_CODE_C;break;case V.CODE_STOP:C=!0;break}break;case V.CODE_CODE_B:if(_<96)fe===Ce?I+=String.fromCharCode(32+_):I+=String.fromCharCode(32+_+128),fe=!1;else switch(_!==V.CODE_STOP&&(L=!1),_){case V.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case V.CODE_FNC_2:case V.CODE_FNC_3:break;case V.CODE_FNC_4_B:!Ce&&fe?(Ce=!0,fe=!1):Ce&&fe?(Ce=!1,fe=!1):fe=!0;break;case V.CODE_SHIFT:E=!0,g=V.CODE_CODE_A;break;case V.CODE_CODE_A:g=V.CODE_CODE_A;break;case V.CODE_CODE_C:g=V.CODE_CODE_C;break;case V.CODE_STOP:C=!0;break}break;case V.CODE_CODE_C:if(_<100)_<10&&(I+="0"),I+=_;else switch(_!==V.CODE_STOP&&(L=!1),_){case V.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case V.CODE_CODE_A:g=V.CODE_CODE_A;break;case V.CODE_CODE_B:g=V.CODE_CODE_B;break;case V.CODE_STOP:C=!0;break}break}Zr&&(g=g===V.CODE_CODE_A?V.CODE_CODE_B:V.CODE_CODE_A)}let Lt=S-A;if(S=i.getNextUnset(S),!i.isRange(S,Math.min(i.getSize(),S+(S-A)/2),!1))throw new P;if(B-=z*M,B%103!==M)throw new b;let ln=I.length;if(ln===0)throw new P;ln>0&&L&&(g===V.CODE_CODE_C?I=I.substring(0,ln-2):I=I.substring(0,ln-1));let Pt=(l[1]+l[0])/2,Ve=A+Lt/2,yt=p.length,Ut=new Uint8Array(yt);for(let Zr=0;Zr<yt;Zr++)Ut[Zr]=p[Zr];let Yr=[new q(Pt,r),new q(Ve,r)];return new bt(I,Ut,0,Yr,te.CODE_128,new Date().getTime())}}V.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],V.MAX_AVG_VARIANCE=.25,V.MAX_INDIVIDUAL_VARIANCE=.7,V.CODE_SHIFT=98,V.CODE_CODE_C=99,V.CODE_CODE_B=100,V.CODE_CODE_A=101,V.CODE_FNC_1=102,V.CODE_FNC_2=97,V.CODE_FNC_3=96,V.CODE_FNC_4_A=101,V.CODE_FNC_4_B=100,V.CODE_START_A=103,V.CODE_START_B=104,V.CODE_START_C=105,V.CODE_STOP=106;let cc=(()=>{class m extends it{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=m.findAsteriskPattern(s,l),f=s.getNextSet(u[1]),p=s.getSize(),g,C;do{m.recordPattern(s,f,l);let M=m.toNarrowWidePattern(l);if(M<0)throw new P;g=m.patternToChar(M),this.decodeRowResult+=g,C=f;for(let _ of l)f+=_;f=s.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let M of l)E+=M;let I=f-C-E;if(f!==p&&I*2<E)throw new P;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,_=0;for(let B=0;B<M;B++)_+=m.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(M)!==m.ALPHABET_STRING.charAt(_%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new P;let A;this.extendedMode?A=m.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let S=(u[1]+u[0])/2,T=C+E/2;return new bt(A,null,0,[new q(S,i),new q(T,i)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),l=i.getNextSet(0),u=0,f=l,p=!1,g=s.length;for(let C=l;C<a;C++)if(i.get(C)!==p)s[u]++;else{if(u===g-1){if(this.toNarrowWidePattern(s)===m.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((C-f)/2)),f,!1))return[f,C];f+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,p=!p}throw new P}static toNarrowWidePattern(i){let s=i.length,a=0,l;do{let u=2147483647;for(let g of i)g<u&&g>a&&(u=g);a=u,l=0;let f=0,p=0;for(let g=0;g<s;g++){let C=i[g];C>a&&(p|=1<<s-1-g,l++,f+=C)}if(l===3){for(let g=0;g<s&&l>0;g++){let C=i[g];if(C>a&&(l--,C*2>=f))return-1}return p}}while(l>3);return-1}static patternToChar(i){for(let s=0;s<m.CHARACTER_ENCODINGS.length;s++)if(m.CHARACTER_ENCODINGS[s]===i)return m.ALPHABET_STRING.charAt(s);if(i===m.ASTERISK_ENCODING)return"*";throw new P}static decodeExtended(i){let s=i.length,a="";for(let l=0;l<s;l++){let u=i.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=i.charAt(l+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new j;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new j;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="\x7F";else throw new j;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new j;break}a+=p,l++}else a+=u}return a}}return m.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",m.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],m.ASTERISK_ENCODING=148,m})();class je extends it{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,s){let a=this.decodeStart(i),l=this.decodeEnd(i),u=new Be;je.decodeMiddle(i,a[1],l[0],u);let f=u.toString(),p=null;s!=null&&(p=s.get(ae.ALLOWED_LENGTHS)),p==null&&(p=je.DEFAULT_ALLOWED_LENGTHS);let g=f.length,C=!1,E=0;for(let S of p){if(g===S){C=!0;break}S>E&&(E=S)}if(!C&&g>E&&(C=!0),!C)throw new j;let I=[new q(a[1],r),new q(l[0],r)];return new bt(f,null,0,I,te.ITF,new Date().getTime())}static decodeMiddle(r,i,s,a){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);i<s;){it.recordPattern(r,i,l);for(let g=0;g<5;g++){let C=2*g;u[g]=l[C],f[g]=l[C+1]}let p=je.decodeDigit(u);a.append(p.toString()),p=this.decodeDigit(f),a.append(p.toString()),l.forEach(function(g){i+=g})}}decodeStart(r){let i=je.skipWhiteSpace(r),s=je.findGuardPattern(r,i,je.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(r,s[0]),s}validateQuietZone(r,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!r.get(a);a--)s--;if(s!==0)throw new P}static skipWhiteSpace(r){let i=r.getSize(),s=r.getNextSet(0);if(s===i)throw new P;return s}decodeEnd(r){r.reverse();try{let i=je.skipWhiteSpace(r),s;try{s=je.findGuardPattern(r,i,je.END_PATTERN_REVERSED[0])}catch(l){l instanceof P&&(s=je.findGuardPattern(r,i,je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,s[0]);let a=s[0];return s[0]=r.getSize()-s[1],s[1]=r.getSize()-a,s}finally{r.reverse()}}static findGuardPattern(r,i,s){let a=s.length,l=new Int32Array(a),u=r.getSize(),f=!1,p=0,g=i;l.fill(0);for(let C=i;C<u;C++)if(r.get(C)!==f)l[p]++;else{if(p===a-1){if(it.patternMatchVariance(l,s,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return[g,C];g+=l[0]+l[1],O.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,f=!f}throw new P}static decodeDigit(r){let i=je.MAX_AVG_VARIANCE,s=-1,a=je.PATTERNS.length;for(let l=0;l<a;l++){let u=je.PATTERNS[l],f=it.patternMatchVariance(r,u,je.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,s=l):f===i&&(s=-1)}if(s>=0)return s%10;throw new P}}je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],je.MAX_AVG_VARIANCE=.38,je.MAX_INDIVIDUAL_VARIANCE=.5,je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],je.START_PATTERN=Int32Array.from([1,1,1,1]),je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Qe extends it{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,s,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),s=Qe.findGuardPattern(r,a,!1,this.START_END_PATTERN,l);let u=s[0];a=s[1];let f=u-(a-u);f>=0&&(i=r.isRange(f,u,!1))}return s}static checkChecksum(r){return Qe.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return Qe.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let a=i-1;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}return(1e3-s)%10}static decodeEnd(r,i){return Qe.findGuardPattern(r,i,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,s,a){return this.findGuardPattern(r,i,s,a,new Int32Array(a.length))}static findGuardPattern(r,i,s,a,l){let u=r.getSize();i=s?r.getNextUnset(i):r.getNextSet(i);let f=0,p=i,g=a.length,C=s;for(let E=i;E<u;E++)if(r.get(E)!==C)l[f]++;else{if(f===g-1){if(it.patternMatchVariance(l,a,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return Int32Array.from([p,E]);p+=l[0]+l[1];let I=l.slice(2,l.length-1);for(let A=0;A<f-1;A++)l[A]=I[A];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,C=!C}throw new P}static decodeDigit(r,i,s,a){this.recordPattern(r,s,i);let l=this.MAX_AVG_VARIANCE,u=-1,f=a.length;for(let p=0;p<f;p++){let g=a[p],C=it.patternMatchVariance(i,g,Qe.MAX_INDIVIDUAL_VARIANCE);C<l&&(l=C,u=p)}if(u>=0)return u;throw new P}}Qe.MAX_AVG_VARIANCE=.48,Qe.MAX_INDIVIDUAL_VARIANCE=.7,Qe.START_END_PATTERN=Int32Array.from([1,1,1]),Qe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Qe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class zi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),u=a.toString(),f=zi.parseExtensionString(u),p=[new q((s[0]+s[1])/2,r),new q(l,r)],g=new bt(u,null,0,p,te.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),u=i[1],f=0;for(let g=0;g<5&&u<l;g++){let C=Qe.decodeDigit(r,a,u,Qe.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let E of a)u+=E;C>=10&&(f|=1<<4-g),g!==4&&(u=r.getNextSet(u),u=r.getNextUnset(u))}if(s.length!==5)throw new P;let p=this.determineCheckDigit(f);if(zi.extensionChecksum(s.toString())!==p)throw new P;return u}static extensionChecksum(r){let i=r.length,s=0;for(let a=i-2;a>=0;a-=2)s+=r.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=r.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new P}static parseExtensionString(r){if(r.length!==5)return null;let i=zi.parseExtension5String(r);return i==null?null:new Map([[dt.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="\xA3";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(r.substring(1)),a=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return i+a+"."+u}}class lc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),u=a.toString(),f=lc.parseExtensionString(u),p=[new q((s[0]+s[1])/2,r),new q(l,r)],g=new bt(u,null,0,p,te.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),u=i[1],f=0;for(let p=0;p<2&&u<l;p++){let g=Qe.decodeDigit(r,a,u,Qe.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let C of a)u+=C;g>=10&&(f|=1<<1-p),p!==1&&(u=r.getNextSet(u),u=r.getNextUnset(u))}if(s.length!==2)throw new P;if(parseInt(s.toString())%4!==f)throw new P;return u}static parseExtensionString(r){return r.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(r)]])}}class Xd{static decodeRow(r,i,s){let a=Qe.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new zi().decodeRow(r,i,a)}catch{return new lc().decodeRow(r,i,a)}}}Xd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends Qe{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Re.L_PATTERNS[r-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Re.L_AND_G_PATTERNS[r]=s}}decodeRow(r,i,s){let a=Re.findStartGuardPattern(i),l=s==null?null:s.get(ae.NEED_RESULT_POINT_CALLBACK);if(l!=null){let L=new q((a[0]+a[1])/2,r);l.foundPossibleResultPoint(L)}let u=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=u.rowOffset,p=u.resultString;if(l!=null){let L=new q(f,r);l.foundPossibleResultPoint(L)}let g=this.decodeEnd(i,f);if(l!=null){let L=new q((g[0]+g[1])/2,r);l.foundPossibleResultPoint(L)}let C=g[1],E=C+(C-g[0]);if(E>=i.getSize()||!i.isRange(C,E,!1))throw new P;let I=p.toString();if(I.length<8)throw new j;if(!Re.checkChecksum(I))throw new b;let A=(a[1]+a[0])/2,S=(g[1]+g[0])/2,T=this.getBarcodeFormat(),M=[new q(A,r),new q(S,r)],_=new bt(I,null,0,M,T,new Date().getTime()),B=0;try{let L=Xd.decodeRow(r,i,g[1]);_.putMetadata(dt.UPC_EAN_EXTENSION,L.getText()),_.putAllMetadata(L.getResultMetadata()),_.addResultPoints(L.getResultPoints()),B=L.getText().length}catch{}let z=s==null?null:s.get(ae.ALLOWED_EAN_EXTENSIONS);if(z!=null){let L=!1;for(let Ce in z)if(B.toString()===Ce){L=!0;break}if(!L)throw new P}return _}decodeEnd(r,i){return Re.findGuardPattern(r,i,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Re.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return Re.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let a=i-1;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}return(1e3-s)%10}}let es=(()=>{class m extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),f=s[1],p=0;for(let C=0;C<6&&f<u;C++){let E=Re.decodeDigit(i,l,f,Re.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let I of l)f+=I;E>=10&&(p|=1<<5-C)}a=m.determineFirstDigit(a,p),f=Re.findGuardPattern(i,f,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&f<u;C++){let E=Re.decodeDigit(i,l,f,Re.L_PATTERNS);a+=String.fromCharCode(48+E);for(let I of l)f+=I}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new P}}return m.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],m})();class Qd extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),u=i[1];for(let p=0;p<4&&u<l;p++){let g=Re.decodeDigit(r,a,u,Re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let C of a)u+=C}u=Re.findGuardPattern(r,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&u<l;p++){let g=Re.decodeDigit(r,a,u,Re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let C of a)u+=C}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return te.EAN_8}}class Kd extends Re{constructor(){super(...arguments),this.ean13Reader=new es}getBarcodeFormat(){return te.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,s))}decodeMiddle(r,i,s){return this.ean13Reader.decodeMiddle(r,i,s)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let s=new bt(i.substring(1),null,null,r.getResultPoints(),te.UPC_A);return r.getResultMetadata()!=null&&s.putAllMetadata(r.getResultMetadata()),s}else throw new P}reset(){this.ean13Reader.reset()}}class on extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters.map(g=>g);a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),u=i[1],f=0;for(let g=0;g<6&&u<l;g++){let C=on.decodeDigit(r,a,u,on.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let E of a)u+=E;C>=10&&(f|=1<<5-g)}let p=on.determineNumSysAndCheckDigit(s,f);return{rowOffset:u,resultString:p}}decodeEnd(r,i){return on.findGuardPatternWithoutCounters(r,i,!0,on.MIDDLE_END_PATTERN)}checkChecksum(r){return Re.checkChecksum(on.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let l=String.fromCharCode(48+s),u=String.fromCharCode(48+a);return l+r+u}throw P.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(r){let i=r.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Be;s.append(r.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return r.length>=8&&s.append(r.charAt(7)),s.toString()}}on.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),on.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class uc extends it{constructor(r){super();let i=r==null?null:r.get(ae.POSSIBLE_FORMATS),s=[];t(i)?(s.push(new es),s.push(new Kd),s.push(new Qd),s.push(new on)):(i.indexOf(te.EAN_13)>-1&&s.push(new es),i.indexOf(te.UPC_A)>-1&&s.push(new Kd),i.indexOf(te.EAN_8)>-1&&s.push(new Qd),i.indexOf(te.UPC_E)>-1&&s.push(new on)),this.readers=s}decodeRow(r,i,s){for(let a of this.readers)try{let l=a.decodeRow(r,i,s),u=l.getBarcodeFormat()===te.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(ae.POSSIBLE_FORMATS),p=f==null||f.includes(te.UPC_A);if(u&&p){let g=l.getRawBytes(),C=new bt(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),te.UPC_A);return C.putAllMetadata(l.getResultMetadata()),C}return l}catch{}throw new P}reset(){for(let r of this.readers)r.reset()}}let mr=(()=>{class m extends it{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(it.patternMatchVariance(i,s[a],m.MAX_INDIVIDUAL_VARIANCE)<m.MAX_AVG_VARIANCE)return a;throw new P}static count(i){return Me.sum(new Int32Array(i))}static increment(i,s){let a=0,l=s[0];for(let u=1;u<i.length;u++)s[u]>l&&(l=s[u],a=u);i[a]++}static decrement(i,s){let a=0,l=s[0];for(let u=1;u<i.length;u++)s[u]<l&&(l=s[u],a=u);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],l=s/a;if(l>=m.MIN_FINDER_PATTERN_RATIO&&l<=m.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of i)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}return m.MAX_AVG_VARIANCE=.2,m.MAX_INDIVIDUAL_VARIANCE=.45,m.MIN_FINDER_PATTERN_RATIO=9.5/12,m.MAX_FINDER_PATTERN_RATIO=12.5/14,m})();class Vr{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Vr))return!1;let i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ts{constructor(r,i,s,a,l){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new q(s,l)),this.resultPoints.push(new q(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof ts))return!1;let i=r;return this.value===i.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(r,i,s){let a=0;for(let p of r)a+=p;let l=0,u=0,f=r.length;for(let p=0;p<f-1;p++){let g;for(g=1,u|=1<<p;g<r[p];g++,u&=~(1<<p)){let C=yn.combins(a-g-1,f-p-2);if(s&&u===0&&a-g-(f-p-1)>=f-p-1&&(C-=yn.combins(a-g-(f-p),f-p-2)),f-p-1>1){let E=0;for(let I=a-g-(f-p-2);I>i;I--)E+=yn.combins(a-g-I-1,f-p-3);C-=E*(f-1-p)}else a-g>i&&C--;l+=C}a-=g}return l}static combins(r,i){let s,a;r-i>i?(a=i,s=r-i):(a=r-i,s=i);let l=1,u=1;for(let f=r;f>s;f--)l*=f,u<=a&&(l/=u,u++);for(;u<=a;)l/=u,u++;return l}}class F1{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new re(s),l=0,f=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&a.set(l),l++;for(let p=1;p<r.length;++p){let g=r[p],C=g.getLeftChar().getValue();for(let E=11;E>=0;--E)C&1<<E&&a.set(l),l++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let I=11;I>=0;--I)E&1<<I&&a.set(l),l++}}return a}}class yr{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class dc{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}let sn=(()=>{class m extends dc{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===m.FNC1}}return m.FNC1="$",m})();class wr extends dc{constructor(r,i,s){super(r),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Hr=(()=>{class m extends dc{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new j;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===m.FNC1}isSecondDigitFNC1(){return this.secondDigit===m.FNC1}isAnyFNC1(){return this.firstDigit===m.FNC1||this.secondDigit===m.FNC1}}return m.FNC1=10,m})();class Z{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new P;let i=r.substring(0,2);for(let l of Z.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Z.VARIABLE_LENGTH?Z.processVariableAI(2,l[2],r):Z.processFixedAI(2,l[1],r);if(r.length<3)throw new P;let s=r.substring(0,3);for(let l of Z.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===Z.VARIABLE_LENGTH?Z.processVariableAI(3,l[2],r):Z.processFixedAI(3,l[1],r);for(let l of Z.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===Z.VARIABLE_LENGTH?Z.processVariableAI(4,l[2],r):Z.processFixedAI(4,l[1],r);if(r.length<4)throw new P;let a=r.substring(0,4);for(let l of Z.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Z.VARIABLE_LENGTH?Z.processVariableAI(4,l[2],r):Z.processFixedAI(4,l[1],r);throw new P}static processFixedAI(r,i,s){if(s.length<r)throw new P;let a=s.substring(0,r);if(s.length<r+i)throw new P;let l=s.substring(r,r+i),u=s.substring(r+i),f="("+a+")"+l,p=Z.parseFieldsInGeneralPurpose(u);return p==null?f:f+p}static processVariableAI(r,i,s){let a=s.substring(0,r),l;s.length<r+i?l=s.length:l=r+i;let u=s.substring(r,l),f=s.substring(l),p="("+a+")"+u,g=Z.parseFieldsInGeneralPurpose(f);return g==null?p:p+g}}Z.VARIABLE_LENGTH=[],Z.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Z.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Z.VARIABLE_LENGTH,20],["22",Z.VARIABLE_LENGTH,29],["30",Z.VARIABLE_LENGTH,8],["37",Z.VARIABLE_LENGTH,8],["90",Z.VARIABLE_LENGTH,30],["91",Z.VARIABLE_LENGTH,30],["92",Z.VARIABLE_LENGTH,30],["93",Z.VARIABLE_LENGTH,30],["94",Z.VARIABLE_LENGTH,30],["95",Z.VARIABLE_LENGTH,30],["96",Z.VARIABLE_LENGTH,30],["97",Z.VARIABLE_LENGTH,3],["98",Z.VARIABLE_LENGTH,30],["99",Z.VARIABLE_LENGTH,30]],Z.THREE_DIGIT_DATA_LENGTH=[["240",Z.VARIABLE_LENGTH,30],["241",Z.VARIABLE_LENGTH,30],["242",Z.VARIABLE_LENGTH,6],["250",Z.VARIABLE_LENGTH,30],["251",Z.VARIABLE_LENGTH,30],["253",Z.VARIABLE_LENGTH,17],["254",Z.VARIABLE_LENGTH,20],["400",Z.VARIABLE_LENGTH,30],["401",Z.VARIABLE_LENGTH,30],["402",17],["403",Z.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Z.VARIABLE_LENGTH,20],["421",Z.VARIABLE_LENGTH,15],["422",3],["423",Z.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Z.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Z.VARIABLE_LENGTH,15],["391",Z.VARIABLE_LENGTH,18],["392",Z.VARIABLE_LENGTH,15],["393",Z.VARIABLE_LENGTH,18],["703",Z.VARIABLE_LENGTH,30]],Z.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Z.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Z.VARIABLE_LENGTH,20],["8003",Z.VARIABLE_LENGTH,30],["8004",Z.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Z.VARIABLE_LENGTH,30],["8008",Z.VARIABLE_LENGTH,12],["8018",18],["8020",Z.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Z.VARIABLE_LENGTH,70],["8200",Z.VARIABLE_LENGTH,70]];class zr{constructor(r){this.buffer=new Be,this.information=r}decodeAllCodes(r,i){let s=i,a=null;do{let l=this.decodeGeneralPurposeField(s,a),u=Z.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&r.append(u),l.isRemaining()?a=""+l.getRemainingValue():a=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(r,4);return l===0?new Hr(this.information.getSize(),Hr.FNC1,Hr.FNC1):new Hr(this.information.getSize(),l-1,Hr.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),s=(i-8)/11,a=(i-8)%11;return new Hr(r+7,s,a)}extractNumericValueFromBitArray(r,i){return zr.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,s){let a=0;for(let l=0;l<s;++l)r.get(i+l)&&(a|=1<<s-l-1);return a}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new wr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new wr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(s!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new wr(this.current.getPosition(),this.buffer.toString()):i=new wr(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new yr(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new wr(this.current.getPosition(),this.buffer.toString());return new yr(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new wr(this.current.getPosition(),this.buffer.toString());return new yr(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new wr(this.current.getPosition(),this.buffer.toString());return new yr(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<116)return!0;if(r+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,8);return a>=232&&a<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new sn(r+5,sn.FNC1);if(i>=5&&i<15)return new sn(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<90)return new sn(r+7,""+(s+1));if(s>=90&&s<116)return new sn(r+7,""+(s+7));let a=this.extractNumericValueFromBitArray(r,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new j}return new sn(r+8,l)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,6);return s>=16&&s<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new sn(r+5,sn.FNC1);if(i>=5&&i<15)return new sn(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,6);if(s>=32&&s<58)return new sn(r+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Rn("Decoding invalid alphanumeric value: "+s)}return new sn(r+6,a)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class fc{constructor(r){this.information=r,this.generalDecoder=new zr(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let an=(()=>{class m extends fc{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*l,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}m.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let l=0;l<13;l++){let u=i.charAt(l+s).charCodeAt(0)-48;a+=l&1?u:3*u}a=10-a%10,a===10&&(a=0),i.append(a)}}return m.GTIN_SIZE=40,m})(),k1=(()=>{class m extends an{constructor(i){super(i)}parseInformation(){let i=new Be;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,m.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE+44)}}return m.HEADER_SIZE=4,m})(),B1=(()=>{class m extends fc{constructor(i){super(i)}parseInformation(){let i=new Be;return this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE)}}return m.HEADER_SIZE=5,m})();class ns extends an{constructor(r){super(r)}encodeCompressedWeight(r,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(r,a);let l=this.checkWeight(a),u=1e5;for(let f=0;f<5;++f)l/u===0&&r.append("0"),u/=10;r.append(l)}}let Jd=(()=>{class m extends ns{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+ns.GTIN_SIZE+m.WEIGHT_SIZE)throw new P;let i=new Be;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+ns.GTIN_SIZE,m.WEIGHT_SIZE),i.toString()}}return m.HEADER_SIZE=5,m.WEIGHT_SIZE=15,m})();class j1 extends Jd{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class U1 extends Jd{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}let V1=(()=>{class m extends an{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+an.GTIN_SIZE)throw new P;let i=new Be;this.encodeCompressedGtin(i,m.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+an.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+an.GTIN_SIZE+m.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m})(),H1=(()=>{class m extends an{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+an.GTIN_SIZE)throw new P;let i=new Be;this.encodeCompressedGtin(i,m.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+an.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+an.GTIN_SIZE+m.LAST_DIGIT_SIZE,m.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+an.GTIN_SIZE+m.LAST_DIGIT_SIZE+m.FIRST_THREE_DIGITS_SIZE,null);return i.append(l.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m.FIRST_THREE_DIGITS_SIZE=10,m})(),Zn=(()=>{class m extends ns{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE+m.DATE_SIZE)throw new P;let i=new Be;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+m.GTIN_SIZE,m.WEIGHT_SIZE),this.encodeCompressedDate(i,m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,m.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let l=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u),l/10==0&&i.append("0"),i.append(l)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}return m.HEADER_SIZE=8,m.WEIGHT_SIZE=20,m.DATE_SIZE=16,m})();function ef(m){try{if(m.get(1))return new k1(m);if(!m.get(2))return new B1(m);switch(zr.extractNumericValueFromBitArray(m,1,4)){case 4:return new j1(m);case 5:return new U1(m)}switch(zr.extractNumericValueFromBitArray(m,1,5)){case 12:return new V1(m);case 13:return new H1(m)}switch(zr.extractNumericValueFromBitArray(m,1,7)){case 56:return new Zn(m,"310","11");case 57:return new Zn(m,"320","11");case 58:return new Zn(m,"310","13");case 59:return new Zn(m,"320","13");case 60:return new Zn(m,"310","15");case 61:return new Zn(m,"320","15");case 62:return new Zn(m,"310","17");case 63:return new Zn(m,"320","17")}}catch(r){throw console.log(r),new Rn("unknown decoder: "+m)}}class qn{constructor(r,i,s,a){this.leftchar=r,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof qn?qn.equalsOrNull(r.leftchar,i.leftchar)&&qn.equalsOrNull(r.rightchar,i.rightchar)&&qn.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:qn.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hc{constructor(r,i,s){this.pairs=r,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof hc?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let s;return r.forEach((a,l)=>{i.forEach(u=>{a.getLeftChar().getValue()===u.getLeftChar().getValue()&&a.getRightChar().getValue()===u.getRightChar().getValue()&&a.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class F extends mr{constructor(r){super(...arguments),this.pairs=new Array(F.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,s){this.pairs.length=0,this.startFromEven=!1;try{return F.constructResult(this.decodeRow2pairs(r,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,F.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(l){if(l instanceof P){if(!this.pairs.length)throw new P;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new P}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let u of r)this.pairs.push(u.getPairs());if(this.pairs.push(a.getPairs()),!F.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(r);l.push(a);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new P}static isValidSequence(r){for(let i of F.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let s=!0;for(let a=0;a<r.length;a++)if(r[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(r,i){let s=0,a=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>r){l=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),s++}l||a||F.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new hc(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let s of i)if(s.getPairs().length!==r.length){for(let a of s.getPairs())for(let l of r)if(qn.equals(a,l))break}}static isPartialRow(r,i){for(let s of i){let a=!0;for(let l of r){let u=!1;for(let f of s.getPairs())if(l.equals(f)){u=!0;break}if(!u){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=F1.buildBitArray(r),a=ef(i).parseInformation(),l=r[0].getFinderPattern().getResultPoints(),u=r[r.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new bt(a,null,null,f,te.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),s=r.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);a+=p.getLeftChar().getChecksumPortion(),l++;let g=p.getRightChar();g!=null&&(a+=g.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(r,i){let s;return r.get(i)?(s=r.getNextUnset(i),s=r.getNextSet(s)):(s=r.getNextSet(i),s=r.getNextUnset(s)),s}retrieveNextPair(r,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,u=!0,f=-1;do this.findNextPair(r,i,f),l=this.parseFoundFinderPattern(r,s,a),l==null?f=F.getNextSecondBar(r,this.startEnd[0]):u=!1;while(u);let p=this.decodeDataCharacter(r,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new P;let g;try{g=this.decodeDataCharacter(r,l,a,!1)}catch(C){g=null,this.verbose&&console.log(C)}return new qn(p,g,l,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),u;s>=0?u=s:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;u<l&&(p=!r.get(u),!!p);)u++;let g=0,C=u;for(let E=u;E<l;E++)if(r.get(E)!=p)a[g]++;else{if(g==3){if(f&&F.reverseCounters(a),F.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=E;return}f&&F.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new P}static reverseCounters(r){let i=r.length;for(let s=0;s<i/2;++s){let a=r[s];r[s]=r[i-s-1],r[i-s-1]=a}}parseFoundFinderPattern(r,i,s){let a,l,u;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!r.get(g);)g--;g++,a=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=r.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];let f=this.getDecodeFinderCounters();O.arraycopy(f,0,f,1,f.length-1),f[0]=a;let p;try{p=this.parseFinderValue(f,F.FINDER_PATTERNS)}catch{return null}return new ts(p,[l,u],l,u,i)}decodeDataCharacter(r,i,s,a){let l=this.getDataCharacterCounters();for(let Ve=0;Ve<l.length;Ve++)l[Ve]=0;if(a)F.recordPatternInReverse(r,i.getStartEnd()[0],l);else{F.recordPattern(r,i.getStartEnd()[1],l);for(let Ve=0,yt=l.length-1;Ve<yt;Ve++,yt--){let Ut=l[Ve];l[Ve]=l[yt],l[yt]=Ut}}let u=17,f=Me.sum(new Int32Array(l))/u,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new P;let g=this.getOddCounts(),C=this.getEvenCounts(),E=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ve=0;Ve<l.length;Ve++){let yt=1*l[Ve]/f,Ut=yt+.5;if(Ut<1){if(yt<.3)throw new P;Ut=1}else if(Ut>8){if(yt>8.7)throw new P;Ut=8}let Yr=Ve/2;Ve&1?(C[Yr]=Ut,I[Yr]=yt-Ut):(g[Yr]=Ut,E[Yr]=yt-Ut)}this.adjustOddEvenCounts(u);let A=4*i.getValue()+(s?0:2)+(a?0:1)-1,S=0,T=0;for(let Ve=g.length-1;Ve>=0;Ve--){if(F.isNotA1left(i,s,a)){let yt=F.WEIGHTS[A][2*Ve];T+=g[Ve]*yt}S+=g[Ve]}let M=0;for(let Ve=C.length-1;Ve>=0;Ve--)if(F.isNotA1left(i,s,a)){let yt=F.WEIGHTS[A][2*Ve+1];M+=C[Ve]*yt}let _=T+M;if(S&1||S>13||S<4)throw new P;let B=(13-S)/2,z=F.SYMBOL_WIDEST[B],L=9-z,Ce=yn.getRSSvalue(g,z,!0),fe=yn.getRSSvalue(C,L,!1),Lt=F.EVEN_TOTAL_SUBSET[B],ln=F.GSUM[B],Pt=Ce*Lt+fe+ln;return new Vr(Pt,_)}static isNotA1left(r,i,s){return!(r.getValue()==0&&i&&s)}adjustOddEvenCounts(r){let i=Me.sum(new Int32Array(this.getOddCounts())),s=Me.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let u=!1,f=!1;s>13?f=!0:s<4&&(u=!0);let p=i+s-r,g=(i&1)==1,C=(s&1)==0;if(p==1)if(g){if(C)throw new P;l=!0}else{if(!C)throw new P;f=!0}else if(p==-1)if(g){if(C)throw new P;a=!0}else{if(!C)throw new P;u=!0}else if(p==0){if(g){if(!C)throw new P;i<s?(a=!0,f=!0):(l=!0,u=!0)}else if(C)throw new P}else throw new P;if(a){if(l)throw new P;F.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&F.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new P;F.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&F.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}F.SYMBOL_WIDEST=[7,5,4,3,1],F.EVEN_TOTAL_SUBSET=[4,20,52,104,204],F.GSUM=[0,348,1388,2948,3988],F.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],F.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],F.FINDER_PAT_A=0,F.FINDER_PAT_B=1,F.FINDER_PAT_C=2,F.FINDER_PAT_D=3,F.FINDER_PAT_E=4,F.FINDER_PAT_F=5,F.FINDER_PATTERN_SEQUENCES=[[F.FINDER_PAT_A,F.FINDER_PAT_A],[F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B],[F.FINDER_PAT_A,F.FINDER_PAT_C,F.FINDER_PAT_B,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_C],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F]],F.MAX_PAIRS=11;class z1 extends Vr{constructor(r,i,s){super(r,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ke extends mr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,s){let a=this.decodePair(i,!1,r,s);Ke.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,r,s);Ke.addOrTally(this.possibleRightPairs,l),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Ke.checkChecksum(u,f))return Ke.constructResult(u,f)}throw new P}static addOrTally(r,i){if(i==null)return;let s=!1;for(let a of r)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let s=4537077*r.getValue()+i.getValue(),a=new String(s).toString(),l=new Be;for(let g=13-a.length;g>0;g--)l.append("0");l.append(a);let u=0;for(let g=0;g<13;g++){let C=l.charAt(g).charCodeAt(0)-48;u+=g&1?C:3*C}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=r.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new bt(l.toString(),null,0,[f[0],f[1],p[0],p[1]],te.RSS_14,new Date().getTime())}static checkChecksum(r,i){let s=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(r,i,s,a){try{let l=this.findFinderPattern(r,i),u=this.parseFoundFinderPattern(r,s,i,l),f=a==null?null:a.get(ae.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(l[0]+l[1])/2;i&&(C=r.getSize()-1-C),f.foundPossibleResultPoint(new q(C,s))}let p=this.decodeDataCharacter(r,u,!0),g=this.decodeDataCharacter(r,u,!1);return new z1(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(r,i,s){let a=this.getDataCharacterCounters();for(let M=0;M<a.length;M++)a[M]=0;if(s)it.recordPatternInReverse(r,i.getStartEnd()[0],a);else{it.recordPattern(r,i.getStartEnd()[1]+1,a);for(let M=0,_=a.length-1;M<_;M++,_--){let B=a[M];a[M]=a[_],a[_]=B}}let l=s?16:15,u=Me.sum(new Int32Array(a))/l,f=this.getOddCounts(),p=this.getEvenCounts(),g=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let M=0;M<a.length;M++){let _=a[M]/u,B=Math.floor(_+.5);B<1?B=1:B>8&&(B=8);let z=Math.floor(M/2);M&1?(p[z]=B,C[z]=_-B):(f[z]=B,g[z]=_-B)}this.adjustOddEvenCounts(s,l);let E=0,I=0;for(let M=f.length-1;M>=0;M--)I*=9,I+=f[M],E+=f[M];let A=0,S=0;for(let M=p.length-1;M>=0;M--)A*=9,A+=p[M],S+=p[M];let T=I+3*A;if(s){if(E&1||E>12||E<4)throw new P;let M=(12-E)/2,_=Ke.OUTSIDE_ODD_WIDEST[M],B=9-_,z=yn.getRSSvalue(f,_,!1),L=yn.getRSSvalue(p,B,!0),Ce=Ke.OUTSIDE_EVEN_TOTAL_SUBSET[M],fe=Ke.OUTSIDE_GSUM[M];return new Vr(z*Ce+L+fe,T)}else{if(S&1||S>10||S<4)throw new P;let M=(10-S)/2,_=Ke.INSIDE_ODD_WIDEST[M],B=9-_,z=yn.getRSSvalue(f,_,!0),L=yn.getRSSvalue(p,B,!1),Ce=Ke.INSIDE_ODD_TOTAL_SUBSET[M],fe=Ke.INSIDE_GSUM[M];return new Vr(L*Ce+z+fe,T)}}findFinderPattern(r,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=r.getSize(),l=!1,u=0;for(;u<a&&(l=!r.get(u),i!==l);)u++;let f=0,p=u;for(let g=u;g<a;g++)if(r.get(g)!==l)s[f]++;else{if(f===3){if(mr.isFinderPattern(s))return[p,g];p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new P}parseFoundFinderPattern(r,i,s,a){let l=r.get(a[0]),u=a[0]-1;for(;u>=0&&l!==r.get(u);)u--;u++;let f=a[0]-u,p=this.getDecodeFinderCounters(),g=new Int32Array(p.length);O.arraycopy(p,0,g,1,p.length-1),g[0]=f;let C=this.parseFinderValue(g,Ke.FINDER_PATTERNS),E=u,I=a[1];return s&&(E=r.getSize()-1-E,I=r.getSize()-1-I),new ts(C,[u,a[1]],E,I,i)}adjustOddEvenCounts(r,i){let s=Me.sum(new Int32Array(this.getOddCounts())),a=Me.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,p=!1;r?(s>12?u=!0:s<4&&(l=!0),a>12?p=!0:a<4&&(f=!0)):(s>11?u=!0:s<5&&(l=!0),a>10?p=!0:a<4&&(f=!0));let g=s+a-i,C=(s&1)===(r?1:0),E=(a&1)===1;if(g===1)if(C){if(E)throw new P;u=!0}else{if(!E)throw new P;p=!0}else if(g===-1)if(C){if(E)throw new P;l=!0}else{if(!E)throw new P;f=!0}else if(g===0){if(C){if(!E)throw new P;s<a?(l=!0,p=!0):(u=!0,f=!0)}else if(E)throw new P}else throw new P;if(l){if(u)throw new P;mr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&mr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new P;mr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&mr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ke.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ke.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ke.OUTSIDE_GSUM=[0,161,961,2015,2715],Ke.INSIDE_GSUM=[0,336,1036,1516],Ke.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ke.INSIDE_ODD_WIDEST=[2,4,6,8],Ke.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Gr extends it{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;let s=r?r.get(ae.POSSIBLE_FORMATS):null,a=r&&r.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(te.EAN_13)||s.includes(te.UPC_A)||s.includes(te.EAN_8)||s.includes(te.UPC_E))&&this.readers.push(new uc(r)),s.includes(te.CODE_39)&&this.readers.push(new cc(a)),s.includes(te.CODE_128)&&this.readers.push(new V),s.includes(te.ITF)&&this.readers.push(new je),s.includes(te.RSS_14)&&this.readers.push(new Ke),s.includes(te.RSS_EXPANDED)&&this.readers.push(new F(this.verbose))):(this.readers.push(new uc(r)),this.readers.push(new cc),this.readers.push(new uc(r)),this.readers.push(new V),this.readers.push(new je),this.readers.push(new Ke),this.readers.push(new F(this.verbose)))}decodeRow(r,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,i,s)}catch{}throw new P}reset(){this.readers.forEach(r=>r.reset())}}class G1 extends gr{constructor(r=500,i){super(new Gr(i),r,i)}}class Pe{constructor(r,i,s){this.ecCodewords=r,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(r,i,s,a,l,u){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0,p=u.getECCodewords(),g=u.getECBlocks();for(let C of g)f+=C.getCount()*(C.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new j;for(let s of Ae.VERSIONS)if(s.symbolSizeRows===r&&s.symbolSizeColumns===i)return s;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Ae(1,10,10,8,8,new Pe(5,new Oe(1,3))),new Ae(2,12,12,10,10,new Pe(7,new Oe(1,5))),new Ae(3,14,14,12,12,new Pe(10,new Oe(1,8))),new Ae(4,16,16,14,14,new Pe(12,new Oe(1,12))),new Ae(5,18,18,16,16,new Pe(14,new Oe(1,18))),new Ae(6,20,20,18,18,new Pe(18,new Oe(1,22))),new Ae(7,22,22,20,20,new Pe(20,new Oe(1,30))),new Ae(8,24,24,22,22,new Pe(24,new Oe(1,36))),new Ae(9,26,26,24,24,new Pe(28,new Oe(1,44))),new Ae(10,32,32,14,14,new Pe(36,new Oe(1,62))),new Ae(11,36,36,16,16,new Pe(42,new Oe(1,86))),new Ae(12,40,40,18,18,new Pe(48,new Oe(1,114))),new Ae(13,44,44,20,20,new Pe(56,new Oe(1,144))),new Ae(14,48,48,22,22,new Pe(68,new Oe(1,174))),new Ae(15,52,52,24,24,new Pe(42,new Oe(2,102))),new Ae(16,64,64,14,14,new Pe(56,new Oe(2,140))),new Ae(17,72,72,16,16,new Pe(36,new Oe(4,92))),new Ae(18,80,80,18,18,new Pe(48,new Oe(4,114))),new Ae(19,88,88,20,20,new Pe(56,new Oe(4,144))),new Ae(20,96,96,22,22,new Pe(68,new Oe(4,174))),new Ae(21,104,104,24,24,new Pe(56,new Oe(6,136))),new Ae(22,120,120,18,18,new Pe(68,new Oe(6,175))),new Ae(23,132,132,20,20,new Pe(62,new Oe(8,163))),new Ae(24,144,144,22,22,new Pe(62,new Oe(8,156),new Oe(2,155))),new Ae(25,8,18,6,16,new Pe(7,new Oe(1,5))),new Ae(26,8,32,6,14,new Pe(11,new Oe(1,10))),new Ae(27,12,26,10,24,new Pe(14,new Oe(1,16))),new Ae(28,12,36,10,16,new Pe(18,new Oe(1,22))),new Ae(29,16,36,14,16,new Pe(24,new Oe(1,32))),new Ae(30,16,48,14,22,new Pe(28,new Oe(1,49)))]}}Ae.VERSIONS=Ae.buildVersions();class pc{constructor(r){let i=r.getHeight();if(i<8||i>144||i&1)throw new j;this.version=pc.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new lt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){let i=r.getHeight(),s=r.getWidth();return Ae.getVersionForDimensions(i,s)}readCodewords(){let r=new Int8Array(this.version.getTotalCodewords()),i=0,s=4,a=0,l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth(),f=!1,p=!1,g=!1,C=!1;do if(s===l&&a===0&&!f)r[i++]=this.readCorner1(l,u)&255,s-=2,a+=2,f=!0;else if(s===l-2&&a===0&&u&3&&!p)r[i++]=this.readCorner2(l,u)&255,s-=2,a+=2,p=!0;else if(s===l+4&&a===2&&!(u&7)&&!g)r[i++]=this.readCorner3(l,u)&255,s-=2,a+=2,g=!0;else if(s===l-2&&a===0&&(u&7)===4&&!C)r[i++]=this.readCorner4(l,u)&255,s-=2,a+=2,C=!0;else{do s<l&&a>=0&&!this.readMappingMatrix.get(a,s)&&(r[i++]=this.readUtah(s,a,l,u)&255),s-=2,a+=2;while(s>=0&&a<u);s+=1,a+=3;do s>=0&&a<u&&!this.readMappingMatrix.get(a,s)&&(r[i++]=this.readUtah(s,a,l,u)&255),s+=2,a-=2;while(s<l&&a>=0);s+=3,a+=1}while(s<l||a<u);if(i!==this.version.getTotalCodewords())throw new j;return r}readModule(r,i,s,a){return r<0&&(r+=s,i+=4-(s+4&7)),i<0&&(i+=a,r+=4-(a+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,s,a){let l=0;return this.readModule(r-2,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r-2,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i,s,a)&&(l|=1),l<<=1,this.readModule(r,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r,i,s,a)&&(l|=1),l}readCorner1(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,1,r,i)&&(s|=1),s<<=1,this.readModule(r-1,2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}readCorner2(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-4,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner3(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-3,r,i)&&(s|=1),s<<=1,this.readModule(1,i-2,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner4(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}extractDataRegion(r){let i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new y("Dimension of bitMatrix must match the version size");let a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=i/a|0,f=s/l|0,p=u*a,g=f*l,C=new lt(g,p);for(let E=0;E<u;++E){let I=E*a;for(let A=0;A<f;++A){let S=A*l;for(let T=0;T<a;++T){let M=E*(a+2)+1+T,_=I+T;for(let B=0;B<l;++B){let z=A*(l+2)+1+B;if(r.get(z,M)){let L=S+B;C.set(L,_)}}}}}return C}}class gc{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){let s=i.getECBlocks(),a=0,l=s.getECBlocks();for(let T of l)a+=T.getCount();let u=new Array(a),f=0;for(let T of l)for(let M=0;M<T.getCount();M++){let _=T.getDataCodewords(),B=s.getECCodewords()+_;u[f++]=new gc(_,new Uint8Array(B))}let g=u[0].codewords.length-s.getECCodewords(),C=g-1,E=0;for(let T=0;T<C;T++)for(let M=0;M<f;M++)u[M].codewords[T]=r[E++];let I=i.getVersionNumber()===24,A=I?8:f;for(let T=0;T<A;T++)u[T].codewords[g-1]=r[E++];let S=u[0].codewords.length;for(let T=g;T<S;T++)for(let M=0;M<f;M++){let _=I?(M+8)%f:M,B=I&&_>7?T-1:T;u[_].codewords[B]=r[E++]}if(E!==r.length)throw new y;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class mc{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new y(""+r);let i=0,s=this.bitOffset,a=this.byteOffset,l=this.bytes;if(s>0){let u=8-s,f=r<u?r:u,p=u-f,g=255>>8-f<<p;i=(l[a]&g)>>p,r-=f,s+=f,s===8&&(s=0,a++)}if(r>0){for(;r>=8;)i=i<<8|l[a]&255,a++,r-=8;if(r>0){let u=8-r,f=255>>u<<u;i=i<<r|(l[a]&f)>>u,s+=r}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ft=function(m){return m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE",m}(ft||{});class Xn{static decode(r){let i=new mc(r),s=new Be,a=new Be,l=new Array,u=ft.ASCII_ENCODE;do if(u===ft.ASCII_ENCODE)u=this.decodeAsciiSegment(i,s,a);else{switch(u){case ft.C40_ENCODE:this.decodeC40Segment(i,s);break;case ft.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case ft.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case ft.BASE256_ENCODE:this.decodeBase256Segment(i,s,l);break;default:throw new j}u=ft.ASCII_ENCODE}while(u!==ft.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new ji(r,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(r,i,s){let a=!1;do{let l=r.readBits(8);if(l===0)throw new j;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),ft.ASCII_ENCODE;if(l===129)return ft.PAD_ENCODE;if(l<=229){let u=l-130;u<10&&i.append("0"),i.append(""+u)}else switch(l){case 230:return ft.C40_ENCODE;case 231:return ft.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return ft.ANSIX12_ENCODE;case 239:return ft.TEXT_ENCODE;case 240:return ft.EDIFACT_ENCODE;case 241:break;default:if(l!==254||r.available()!==0)throw new j;break}}while(r.available()>0);return ft.ASCII_ENCODE}static decodeC40Segment(r,i){let s=!1,a=[],l=0;do{if(r.available()===8)return;let u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),a);for(let f=0;f<3;f++){let p=a[f];switch(l){case 0:if(p<3)l=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){let g=this.C40_BASIC_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else throw new j;break;case 1:s?(i.append(String.fromCharCode(p+128)),s=!1):i.append(String.fromCharCode(p)),l=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){let g=this.C40_SHIFT2_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else switch(p){case 27:i.append("");break;case 30:s=!0;break;default:throw new j}l=0;break;case 3:s?(i.append(String.fromCharCode(p+224)),s=!1):i.append(String.fromCharCode(p+96)),l=0;break;default:throw new j}}}while(r.available()>0)}static decodeTextSegment(r,i){let s=!1,a=[],l=0;do{if(r.available()===8)return;let u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),a);for(let f=0;f<3;f++){let p=a[f];switch(l){case 0:if(p<3)l=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){let g=this.TEXT_BASIC_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else throw new j;break;case 1:s?(i.append(String.fromCharCode(p+128)),s=!1):i.append(String.fromCharCode(p)),l=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){let g=this.TEXT_SHIFT2_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else switch(p){case 27:i.append("");break;case 30:s=!0;break;default:throw new j}l=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){let g=this.TEXT_SHIFT3_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g),l=0}else throw new j;break;default:throw new j}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){let s=[];do{if(r.available()===8)return;let a=r.readBits(8);if(a===254)return;this.parseTwoBytes(a,r.readBits(8),s);for(let l=0;l<3;l++){let u=s[l];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new j;break}}}while(r.available()>0)}static parseTwoBytes(r,i,s){let a=(r<<8)+i-1,l=Math.floor(a/1600);s[0]=l,a-=l*1600,l=Math.floor(a/40),s[1]=l,s[2]=a-l*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let s=0;s<4;s++){let a=r.readBits(6);if(a===31){let l=8-r.getBitOffset();l!==8&&r.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(r.available()>0)}static decodeBase256Segment(r,i,s){let a=1+r.getByteOffset(),l=this.unrandomize255State(r.readBits(8),a++),u;if(l===0?u=r.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(r.readBits(8),a++),u<0)throw new j;let f=new Uint8Array(u);for(let p=0;p<u;p++){if(r.available()<8)throw new j;f[p]=this.unrandomize255State(r.readBits(8),a++)}s.push(f);try{i.append(Ct.decode(f,le.ISO88591))}catch(p){throw new Rn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,i){let s=149*i%255+1,a=r-s;return a>=0?a:a+256}}Xn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xn.TEXT_SHIFT2_SET_CHARS=Xn.C40_SHIFT2_SET_CHARS,Xn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class W1{constructor(){this.rsDecoder=new Hi(_e.DATA_MATRIX_FIELD_256)}decode(r){let i=new pc(r),s=i.getVersion(),a=i.readCodewords(),l=gc.getDataBlocks(a,s),u=0;for(let g of l)u+=g.getNumDataCodewords();let f=new Uint8Array(u),p=l.length;for(let g=0;g<p;g++){let C=l[g],E=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(E,I);for(let A=0;A<I;A++)f[A*p+g]=E[A]}return Xn.decode(f)}correctErrors(r,i){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new b}for(let a=0;a<i;a++)r[a]=s[a]}}class nt{constructor(r){this.image=r,this.rectangleDetector=new Ko(this.image)}detect(){let r=this.rectangleDetector.detect(),i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new P;i=this.shiftToModuleCenter(i);let s=i[0],a=i[1],l=i[2],u=i[3],f=this.transitionsBetween(s,u)+1,p=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let g=nt.sampleGrid(this.image,s,a,l,u,f,p);return new Qo(g,[s,a,l,u])}static shiftPoint(r,i,s){let a=(i.getX()-r.getX())/(s+1),l=(i.getY()-r.getY())/(s+1);return new q(r.getX()+a,r.getY()+l)}static moveAway(r,i,s){let a=r.getX(),l=r.getY();return a<i?a-=1:a+=1,l<s?l-=1:l+=1,new q(a,l)}detectSolid1(r){let i=r[0],s=r[1],a=r[3],l=r[2],u=this.transitionsBetween(i,s),f=this.transitionsBetween(s,a),p=this.transitionsBetween(a,l),g=this.transitionsBetween(l,i),C=u,E=[l,i,s,a];return C>f&&(C=f,E[0]=i,E[1]=s,E[2]=a,E[3]=l),C>p&&(C=p,E[0]=s,E[1]=a,E[2]=l,E[3]=i),C>g&&(E[0]=a,E[1]=l,E[2]=i,E[3]=s),E}detectSolid2(r){let i=r[0],s=r[1],a=r[2],l=r[3],u=this.transitionsBetween(i,l),f=nt.shiftPoint(s,a,(u+1)*4),p=nt.shiftPoint(a,s,(u+1)*4),g=this.transitionsBetween(f,i),C=this.transitionsBetween(p,l);return g<C?(r[0]=i,r[1]=s,r[2]=a,r[3]=l):(r[0]=s,r[1]=a,r[2]=l,r[3]=i),r}correctTopRight(r){let i=r[0],s=r[1],a=r[2],l=r[3],u=this.transitionsBetween(i,l),f=this.transitionsBetween(s,l),p=nt.shiftPoint(i,s,(f+1)*4),g=nt.shiftPoint(a,s,(u+1)*4);u=this.transitionsBetween(p,l),f=this.transitionsBetween(g,l);let C=new q(l.getX()+(a.getX()-s.getX())/(u+1),l.getY()+(a.getY()-s.getY())/(u+1)),E=new q(l.getX()+(i.getX()-s.getX())/(f+1),l.getY()+(i.getY()-s.getY())/(f+1));if(!this.isValid(C))return this.isValid(E)?E:null;if(!this.isValid(E))return C;let I=this.transitionsBetween(p,C)+this.transitionsBetween(g,C),A=this.transitionsBetween(p,E)+this.transitionsBetween(g,E);return I>A?C:E}shiftToModuleCenter(r){let i=r[0],s=r[1],a=r[2],l=r[3],u=this.transitionsBetween(i,l)+1,f=this.transitionsBetween(a,l)+1,p=nt.shiftPoint(i,s,f*4),g=nt.shiftPoint(a,s,u*4);u=this.transitionsBetween(p,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let C=(i.getX()+s.getX()+a.getX()+l.getX())/4,E=(i.getY()+s.getY()+a.getY()+l.getY())/4;i=nt.moveAway(i,C,E),s=nt.moveAway(s,C,E),a=nt.moveAway(a,C,E),l=nt.moveAway(l,C,E);let I,A;return p=nt.shiftPoint(i,s,f*4),p=nt.shiftPoint(p,l,u*4),I=nt.shiftPoint(s,i,f*4),I=nt.shiftPoint(I,a,u*4),g=nt.shiftPoint(a,l,f*4),g=nt.shiftPoint(g,s,u*4),A=nt.shiftPoint(l,a,f*4),A=nt.shiftPoint(A,i,u*4),[p,I,g,A]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,s,a,l,u,f){return Yn.getInstance().sampleGrid(r,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(r,i){let s=Math.trunc(r.getX()),a=Math.trunc(r.getY()),l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),f=Math.abs(u-a)>Math.abs(l-s);if(f){let T=s;s=a,a=T,T=l,l=u,u=T}let p=Math.abs(l-s),g=Math.abs(u-a),C=-p/2,E=a<u?1:-1,I=s<l?1:-1,A=0,S=this.image.get(f?a:s,f?s:a);for(let T=s,M=a;T!==l;T+=I){let _=this.image.get(f?M:T,f?T:M);if(_!==S&&(A++,S=_),C+=g,C>0){if(M===u)break;M+=E,C-=p}}return A}}let rs=(()=>{class m{constructor(){this.decoder=new W1}decode(i,s=null){let a,l;if(s!=null&&s.has(ae.PURE_BARCODE)){let C=m.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(C),l=m.NO_POINTS}else{let C=new nt(i.getBlackMatrix()).detect();a=this.decoder.decode(C.getBits()),l=C.getPoints()}let u=a.getRawBytes(),f=new bt(a.getText(),u,8*u.length,l,te.DATA_MATRIX,O.currentTimeMillis()),p=a.getByteSegments();p!=null&&f.putMetadata(dt.BYTE_SEGMENTS,p);let g=a.getECLevel();return g!=null&&f.putMetadata(dt.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(i){let s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new P;let l=this.moduleSize(s,i),u=s[1],f=a[1],p=s[0],C=(a[0]-p+1)/l,E=(f-u+1)/l;if(C<=0||E<=0)throw new P;let I=l/2;u+=I,p+=I;let A=new lt(C,E);for(let S=0;S<E;S++){let T=u+S*l;for(let M=0;M<C;M++)i.get(p+M*l,T)&&A.set(M,S)}return A}static moduleSize(i,s){let a=s.getWidth(),l=i[0],u=i[1];for(;l<a&&s.get(l,u);)l++;if(l===a)throw new P;let f=l-i[0];if(f===0)throw new P;return f}}return m.NO_POINTS=[],m})();class $1 extends gr{constructor(r=500){super(new rs,r)}}var Gi=function(m){return m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H",m}(Gi||{});class ze{constructor(r,i,s){this.value=r,this.stringValue=i,this.bits=s,ze.FOR_BITS.set(s,this),ze.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new x(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ze))return!1;let i=r;return this.value===i.value}static forBits(r){if(r<0||r>=ze.FOR_BITS.size)throw new y;return ze.FOR_BITS.get(r)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(Gi.L,"L",1),ze.M=new ze(Gi.M,"M",0),ze.Q=new ze(Gi.Q,"Q",3),ze.H=new ze(Gi.H,"H",2);class It{constructor(r){this.errorCorrectionLevel=ze.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return H.bitCount(r^i)}static decodeFormatInformation(r,i){let s=It.doDecodeFormatInformation(r,i);return s!==null?s:It.doDecodeFormatInformation(r^It.FORMAT_INFO_MASK_QR,i^It.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let l of It.FORMAT_INFO_DECODE_LOOKUP){let u=l[0];if(u===r||u===i)return new It(l[1]);let f=It.numBitsDiffering(r,u);f<s&&(a=l[1],s=f),r!==i&&(f=It.numBitsDiffering(i,u),f<s&&(a=l[1],s=f))}return s<=3?new It(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof It))return!1;let i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}It.FORMAT_INFO_MASK_QR=21522,It.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class N{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0,i=this.ecBlocks;for(let s of i)r+=s.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class K{constructor(r,i,...s){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0,l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(let f of u)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new j;try{return this.getVersionForNumber((r-17)/4)}catch{throw new j}}static getVersionForNumber(r){if(r<1||r>40)throw new y;return K.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<K.VERSION_DECODE_INFO.length;a++){let l=K.VERSION_DECODE_INFO[a];if(l===r)return K.getVersionForNumber(a+7);let u=It.numBitsDiffering(r,l);u<i&&(s=a+7,i=u)}return i<=3?K.getVersionForNumber(s):null}buildFunctionPattern(){let r=this.getDimensionForVersion(),i=new lt(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);let s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){let l=this.alignmentPatternCenters[a]-2;for(let u=0;u<s;u++)a===0&&(u===0||u===s-1)||a===s-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}K.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),K.VERSIONS=[new K(1,new Int32Array(0),new N(7,new D(1,19)),new N(10,new D(1,16)),new N(13,new D(1,13)),new N(17,new D(1,9))),new K(2,Int32Array.from([6,18]),new N(10,new D(1,34)),new N(16,new D(1,28)),new N(22,new D(1,22)),new N(28,new D(1,16))),new K(3,Int32Array.from([6,22]),new N(15,new D(1,55)),new N(26,new D(1,44)),new N(18,new D(2,17)),new N(22,new D(2,13))),new K(4,Int32Array.from([6,26]),new N(20,new D(1,80)),new N(18,new D(2,32)),new N(26,new D(2,24)),new N(16,new D(4,9))),new K(5,Int32Array.from([6,30]),new N(26,new D(1,108)),new N(24,new D(2,43)),new N(18,new D(2,15),new D(2,16)),new N(22,new D(2,11),new D(2,12))),new K(6,Int32Array.from([6,34]),new N(18,new D(2,68)),new N(16,new D(4,27)),new N(24,new D(4,19)),new N(28,new D(4,15))),new K(7,Int32Array.from([6,22,38]),new N(20,new D(2,78)),new N(18,new D(4,31)),new N(18,new D(2,14),new D(4,15)),new N(26,new D(4,13),new D(1,14))),new K(8,Int32Array.from([6,24,42]),new N(24,new D(2,97)),new N(22,new D(2,38),new D(2,39)),new N(22,new D(4,18),new D(2,19)),new N(26,new D(4,14),new D(2,15))),new K(9,Int32Array.from([6,26,46]),new N(30,new D(2,116)),new N(22,new D(3,36),new D(2,37)),new N(20,new D(4,16),new D(4,17)),new N(24,new D(4,12),new D(4,13))),new K(10,Int32Array.from([6,28,50]),new N(18,new D(2,68),new D(2,69)),new N(26,new D(4,43),new D(1,44)),new N(24,new D(6,19),new D(2,20)),new N(28,new D(6,15),new D(2,16))),new K(11,Int32Array.from([6,30,54]),new N(20,new D(4,81)),new N(30,new D(1,50),new D(4,51)),new N(28,new D(4,22),new D(4,23)),new N(24,new D(3,12),new D(8,13))),new K(12,Int32Array.from([6,32,58]),new N(24,new D(2,92),new D(2,93)),new N(22,new D(6,36),new D(2,37)),new N(26,new D(4,20),new D(6,21)),new N(28,new D(7,14),new D(4,15))),new K(13,Int32Array.from([6,34,62]),new N(26,new D(4,107)),new N(22,new D(8,37),new D(1,38)),new N(24,new D(8,20),new D(4,21)),new N(22,new D(12,11),new D(4,12))),new K(14,Int32Array.from([6,26,46,66]),new N(30,new D(3,115),new D(1,116)),new N(24,new D(4,40),new D(5,41)),new N(20,new D(11,16),new D(5,17)),new N(24,new D(11,12),new D(5,13))),new K(15,Int32Array.from([6,26,48,70]),new N(22,new D(5,87),new D(1,88)),new N(24,new D(5,41),new D(5,42)),new N(30,new D(5,24),new D(7,25)),new N(24,new D(11,12),new D(7,13))),new K(16,Int32Array.from([6,26,50,74]),new N(24,new D(5,98),new D(1,99)),new N(28,new D(7,45),new D(3,46)),new N(24,new D(15,19),new D(2,20)),new N(30,new D(3,15),new D(13,16))),new K(17,Int32Array.from([6,30,54,78]),new N(28,new D(1,107),new D(5,108)),new N(28,new D(10,46),new D(1,47)),new N(28,new D(1,22),new D(15,23)),new N(28,new D(2,14),new D(17,15))),new K(18,Int32Array.from([6,30,56,82]),new N(30,new D(5,120),new D(1,121)),new N(26,new D(9,43),new D(4,44)),new N(28,new D(17,22),new D(1,23)),new N(28,new D(2,14),new D(19,15))),new K(19,Int32Array.from([6,30,58,86]),new N(28,new D(3,113),new D(4,114)),new N(26,new D(3,44),new D(11,45)),new N(26,new D(17,21),new D(4,22)),new N(26,new D(9,13),new D(16,14))),new K(20,Int32Array.from([6,34,62,90]),new N(28,new D(3,107),new D(5,108)),new N(26,new D(3,41),new D(13,42)),new N(30,new D(15,24),new D(5,25)),new N(28,new D(15,15),new D(10,16))),new K(21,Int32Array.from([6,28,50,72,94]),new N(28,new D(4,116),new D(4,117)),new N(26,new D(17,42)),new N(28,new D(17,22),new D(6,23)),new N(30,new D(19,16),new D(6,17))),new K(22,Int32Array.from([6,26,50,74,98]),new N(28,new D(2,111),new D(7,112)),new N(28,new D(17,46)),new N(30,new D(7,24),new D(16,25)),new N(24,new D(34,13))),new K(23,Int32Array.from([6,30,54,78,102]),new N(30,new D(4,121),new D(5,122)),new N(28,new D(4,47),new D(14,48)),new N(30,new D(11,24),new D(14,25)),new N(30,new D(16,15),new D(14,16))),new K(24,Int32Array.from([6,28,54,80,106]),new N(30,new D(6,117),new D(4,118)),new N(28,new D(6,45),new D(14,46)),new N(30,new D(11,24),new D(16,25)),new N(30,new D(30,16),new D(2,17))),new K(25,Int32Array.from([6,32,58,84,110]),new N(26,new D(8,106),new D(4,107)),new N(28,new D(8,47),new D(13,48)),new N(30,new D(7,24),new D(22,25)),new N(30,new D(22,15),new D(13,16))),new K(26,Int32Array.from([6,30,58,86,114]),new N(28,new D(10,114),new D(2,115)),new N(28,new D(19,46),new D(4,47)),new N(28,new D(28,22),new D(6,23)),new N(30,new D(33,16),new D(4,17))),new K(27,Int32Array.from([6,34,62,90,118]),new N(30,new D(8,122),new D(4,123)),new N(28,new D(22,45),new D(3,46)),new N(30,new D(8,23),new D(26,24)),new N(30,new D(12,15),new D(28,16))),new K(28,Int32Array.from([6,26,50,74,98,122]),new N(30,new D(3,117),new D(10,118)),new N(28,new D(3,45),new D(23,46)),new N(30,new D(4,24),new D(31,25)),new N(30,new D(11,15),new D(31,16))),new K(29,Int32Array.from([6,30,54,78,102,126]),new N(30,new D(7,116),new D(7,117)),new N(28,new D(21,45),new D(7,46)),new N(30,new D(1,23),new D(37,24)),new N(30,new D(19,15),new D(26,16))),new K(30,Int32Array.from([6,26,52,78,104,130]),new N(30,new D(5,115),new D(10,116)),new N(28,new D(19,47),new D(10,48)),new N(30,new D(15,24),new D(25,25)),new N(30,new D(23,15),new D(25,16))),new K(31,Int32Array.from([6,30,56,82,108,134]),new N(30,new D(13,115),new D(3,116)),new N(28,new D(2,46),new D(29,47)),new N(30,new D(42,24),new D(1,25)),new N(30,new D(23,15),new D(28,16))),new K(32,Int32Array.from([6,34,60,86,112,138]),new N(30,new D(17,115)),new N(28,new D(10,46),new D(23,47)),new N(30,new D(10,24),new D(35,25)),new N(30,new D(19,15),new D(35,16))),new K(33,Int32Array.from([6,30,58,86,114,142]),new N(30,new D(17,115),new D(1,116)),new N(28,new D(14,46),new D(21,47)),new N(30,new D(29,24),new D(19,25)),new N(30,new D(11,15),new D(46,16))),new K(34,Int32Array.from([6,34,62,90,118,146]),new N(30,new D(13,115),new D(6,116)),new N(28,new D(14,46),new D(23,47)),new N(30,new D(44,24),new D(7,25)),new N(30,new D(59,16),new D(1,17))),new K(35,Int32Array.from([6,30,54,78,102,126,150]),new N(30,new D(12,121),new D(7,122)),new N(28,new D(12,47),new D(26,48)),new N(30,new D(39,24),new D(14,25)),new N(30,new D(22,15),new D(41,16))),new K(36,Int32Array.from([6,24,50,76,102,128,154]),new N(30,new D(6,121),new D(14,122)),new N(28,new D(6,47),new D(34,48)),new N(30,new D(46,24),new D(10,25)),new N(30,new D(2,15),new D(64,16))),new K(37,Int32Array.from([6,28,54,80,106,132,158]),new N(30,new D(17,122),new D(4,123)),new N(28,new D(29,46),new D(14,47)),new N(30,new D(49,24),new D(10,25)),new N(30,new D(24,15),new D(46,16))),new K(38,Int32Array.from([6,32,58,84,110,136,162]),new N(30,new D(4,122),new D(18,123)),new N(28,new D(13,46),new D(32,47)),new N(30,new D(48,24),new D(14,25)),new N(30,new D(42,15),new D(32,16))),new K(39,Int32Array.from([6,26,54,82,110,138,166]),new N(30,new D(20,117),new D(4,118)),new N(28,new D(40,47),new D(7,48)),new N(30,new D(43,24),new D(22,25)),new N(30,new D(10,15),new D(67,16))),new K(40,Int32Array.from([6,30,58,86,114,142,170]),new N(30,new D(19,118),new D(6,119)),new N(28,new D(18,47),new D(31,48)),new N(30,new D(34,24),new D(34,25)),new N(30,new D(20,15),new D(61,16)))];var pt=function(m){return m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111",m}(pt||{});class Wt{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&r.flip(a,s)}}Wt.values=new Map([[pt.DATA_MASK_000,new Wt(pt.DATA_MASK_000,(m,r)=>(m+r&1)===0)],[pt.DATA_MASK_001,new Wt(pt.DATA_MASK_001,(m,r)=>(m&1)===0)],[pt.DATA_MASK_010,new Wt(pt.DATA_MASK_010,(m,r)=>r%3===0)],[pt.DATA_MASK_011,new Wt(pt.DATA_MASK_011,(m,r)=>(m+r)%3===0)],[pt.DATA_MASK_100,new Wt(pt.DATA_MASK_100,(m,r)=>(Math.floor(m/2)+Math.floor(r/3)&1)===0)],[pt.DATA_MASK_101,new Wt(pt.DATA_MASK_101,(m,r)=>m*r%6===0)],[pt.DATA_MASK_110,new Wt(pt.DATA_MASK_110,(m,r)=>m*r%6<3)],[pt.DATA_MASK_111,new Wt(pt.DATA_MASK_111,(m,r)=>(m+r+m*r%3&1)===0)]]);class Y1{constructor(r){let i=r.getHeight();if(i<21||(i&3)!==1)throw new j;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let l=0;l<6;l++)r=this.copyBit(l,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let l=5;l>=0;l--)r=this.copyBit(8,l,r);let i=this.bitMatrix.getHeight(),s=0,a=i-7;for(let l=i-1;l>=a;l--)s=this.copyBit(8,l,s);for(let l=i-8;l<i;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=It.decodeFormatInformation(r,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return K.getVersionForNumber(i);let s=0,a=r-11;for(let u=5;u>=0;u--)for(let f=r-9;f>=a;f--)s=this.copyBit(f,u,s);let l=K.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===r)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let f=r-9;f>=a;f--)s=this.copyBit(u,f,s);if(l=K.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===r)return this.parsedVersion=l,l;throw new j}copyBit(r,i,s){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?s<<1|1:s<<1}readCodewords(){let r=this.readFormatInformation(),i=this.readVersion(),s=Wt.values.get(r.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);let l=i.buildFunctionPattern(),u=!0,f=new Uint8Array(i.getTotalCodewords()),p=0,g=0,C=0;for(let E=a-1;E>0;E-=2){E===6&&E--;for(let I=0;I<a;I++){let A=u?a-1-I:I;for(let S=0;S<2;S++)l.get(E-S,A)||(C++,g<<=1,this.bitMatrix.get(E-S,A)&&(g|=1),C===8&&(f[p++]=g,C=0,g=0))}u=!u}if(p!==i.getTotalCodewords())throw new j;return f}remask(){if(this.parsedFormatInfo===null)return;let r=Wt.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){let r=this.bitMatrix;for(let i=0,s=r.getWidth();i<s;i++)for(let a=i+1,l=r.getHeight();a<l;a++)r.get(i,a)!==r.get(a,i)&&(r.flip(a,i),r.flip(i,a))}}class yc{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,s){if(r.length!==i.getTotalCodewords())throw new y;let a=i.getECBlocksForLevel(s),l=0,u=a.getECBlocks();for(let S of u)l+=S.getCount();let f=new Array(l),p=0;for(let S of u)for(let T=0;T<S.getCount();T++){let M=S.getDataCodewords(),_=a.getECCodewordsPerBlock()+M;f[p++]=new yc(M,new Uint8Array(_))}let g=f[0].codewords.length,C=f.length-1;for(;C>=0&&f[C].codewords.length!==g;)C--;C++;let E=g-a.getECCodewordsPerBlock(),I=0;for(let S=0;S<E;S++)for(let T=0;T<p;T++)f[T].codewords[S]=r[I++];for(let S=C;S<p;S++)f[S].codewords[E]=r[I++];let A=f[0].codewords.length;for(let S=E;S<A;S++)for(let T=0;T<p;T++){let M=T<C?S:S+1;f[T].codewords[M]=r[I++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var cn=function(m){return m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI",m}(cn||{});class ee{constructor(r,i,s,a){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,ee.FOR_BITS.set(a,this),ee.FOR_VALUE.set(r,this)}static forBits(r){let i=ee.FOR_BITS.get(r);if(i===void 0)throw new y;return i}getCharacterCountBits(r){let i=r.getVersionNumber(),s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof ee))return!1;let i=r;return this.value===i.value}toString(){return this.stringValue}}ee.FOR_BITS=new Map,ee.FOR_VALUE=new Map,ee.TERMINATOR=new ee(cn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ee.NUMERIC=new ee(cn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ee.ALPHANUMERIC=new ee(cn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ee.STRUCTURED_APPEND=new ee(cn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ee.BYTE=new ee(cn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ee.ECI=new ee(cn.ECI,"ECI",Int32Array.from([0,0,0]),7),ee.KANJI=new ee(cn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ee.FNC1_FIRST_POSITION=new ee(cn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ee.FNC1_SECOND_POSITION=new ee(cn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ee.HANZI=new ee(cn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let tf=(()=>{class m{static decode(i,s,a,l){let u=new mc(i),f=new Be,p=new Array,g=-1,C=-1;try{let E=null,I=!1,A;do{if(u.available()<4)A=ee.TERMINATOR;else{let S=u.readBits(4);A=ee.forBits(S)}switch(A){case ee.TERMINATOR:break;case ee.FNC1_FIRST_POSITION:case ee.FNC1_SECOND_POSITION:I=!0;break;case ee.STRUCTURED_APPEND:if(u.available()<16)throw new j;g=u.readBits(8),C=u.readBits(8);break;case ee.ECI:let S=m.parseECIValue(u);if(E=U.getCharacterSetECIByValue(S),E===null)throw new j;break;case ee.HANZI:let T=u.readBits(4),M=u.readBits(A.getCharacterCountBits(s));T===m.GB2312_SUBSET&&m.decodeHanziSegment(u,f,M);break;default:let _=u.readBits(A.getCharacterCountBits(s));switch(A){case ee.NUMERIC:m.decodeNumericSegment(u,f,_);break;case ee.ALPHANUMERIC:m.decodeAlphanumericSegment(u,f,_,I);break;case ee.BYTE:m.decodeByteSegment(u,f,_,E,p,l);break;case ee.KANJI:m.decodeKanjiSegment(u,f,_);break;default:throw new j}break}}while(A!==ee.TERMINATOR)}catch{throw new j}return new ji(i,f.toString(),p.length===0?null:p,a===null?null:a.toString(),g,C)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new j;let l=new Uint8Array(2*a),u=0;for(;a>0;){let f=i.readBits(13),p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,l[u]=p>>8&255,l[u+1]=p&255,u+=2,a--}try{s.append(Ct.decode(l,le.GB2312))}catch(f){throw new j(f)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new j;let l=new Uint8Array(2*a),u=0;for(;a>0;){let f=i.readBits(13),p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,l[u]=p>>8,l[u+1]=p,u+=2,a--}try{s.append(Ct.decode(l,le.SHIFT_JIS))}catch(f){throw new j(f)}}static decodeByteSegment(i,s,a,l,u,f){if(8*a>i.available())throw new j;let p=new Uint8Array(a);for(let C=0;C<a;C++)p[C]=i.readBits(8);let g;l===null?g=le.guessEncoding(p,f):g=l.getName();try{s.append(Ct.decode(p,g))}catch(C){throw new j(C)}u.push(p)}static toAlphaNumericChar(i){if(i>=m.ALPHANUMERIC_CHARS.length)throw new j;return m.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,l){let u=s.length();for(;a>1;){if(i.available()<11)throw new j;let f=i.readBits(11);s.append(m.toAlphaNumericChar(Math.floor(f/45))),s.append(m.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new j;s.append(m.toAlphaNumericChar(i.readBits(6)))}if(l)for(let f=u;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new j;let l=i.readBits(10);if(l>=1e3)throw new j;s.append(m.toAlphaNumericChar(Math.floor(l/100))),s.append(m.toAlphaNumericChar(Math.floor(l/10)%10)),s.append(m.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(i.available()<7)throw new j;let l=i.readBits(7);if(l>=100)throw new j;s.append(m.toAlphaNumericChar(Math.floor(l/10))),s.append(m.toAlphaNumericChar(l%10))}else if(a===1){if(i.available()<4)throw new j;let l=i.readBits(4);if(l>=10)throw new j;s.append(m.toAlphaNumericChar(l))}}static parseECIValue(i){let s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){let a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){let a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new j}}return m.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",m.GB2312_SUBSET=1,m})();class nf{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;let i=r[0];r[0]=r[2],r[2]=i}}class Z1{constructor(){this.rsDecoder=new Hi(_e.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(lt.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){let s=new Y1(r),a=null;try{return this.decodeBitMatrixParser(s,i)}catch(l){a=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();let l=this.decodeBitMatrixParser(s,i);return l.setOther(new nf(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(r,i){let s=r.readVersion(),a=r.readFormatInformation().getErrorCorrectionLevel(),l=r.readCodewords(),u=yc.getDataBlocks(l,s,a),f=0;for(let C of u)f+=C.getNumDataCodewords();let p=new Uint8Array(f),g=0;for(let C of u){let E=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(E,I);for(let A=0;A<I;A++)p[g++]=E[A]}return tf.decode(p,s,a,i)}correctErrors(r,i){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new b}for(let a=0;a<i;a++)r[a]=s[a]}}class wc extends q{constructor(r,i,s){super(r,i),this.estimatedModuleSize=s}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){let a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){let a=(this.getX()+i)/2,l=(this.getY()+r)/2,u=(this.estimatedModuleSize+s)/2;return new wc(a,l,u)}}class is{constructor(r,i,s,a,l,u,f){this.image=r,this.startX=i,this.startY=s,this.width=a,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let r=this.startX,i=this.height,s=this.width,a=r+s,l=this.startY+i/2,u=new Int32Array(3),f=this.image;for(let p=0;p<i;p++){let g=l+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));u[0]=0,u[1]=0,u[2]=0;let C=r;for(;C<a&&!f.get(C,g);)C++;let E=0;for(;C<a;){if(f.get(C,g))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){let I=this.handlePossibleCenter(u,g,C);if(I!==null)return I}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;C++}if(this.foundPatternCross(u)){let I=this.handlePossibleCenter(u,g,a);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){let i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-r[a])>=s)return!1;return!0}crossCheckVertical(r,i,s,a){let l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=r;for(;p>=0&&l.get(i,p)&&f[1]<=s;)f[1]++,p--;if(p<0||f[1]>s)return NaN;for(;p>=0&&!l.get(i,p)&&f[0]<=s;)f[0]++,p--;if(f[0]>s)return NaN;for(p=r+1;p<u&&l.get(i,p)&&f[1]<=s;)f[1]++,p++;if(p===u||f[1]>s)return NaN;for(;p<u&&!l.get(i,p)&&f[2]<=s;)f[2]++,p++;if(f[2]>s)return NaN;let g=f[0]+f[1]+f[2];return 5*Math.abs(g-a)>=2*a?NaN:this.foundPatternCross(f)?is.centerFromEnd(f,p):NaN}handlePossibleCenter(r,i,s){let a=r[0]+r[1]+r[2],l=is.centerFromEnd(r,s),u=this.crossCheckVertical(i,l,2*r[1],a);if(!isNaN(u)){let f=(r[0]+r[1]+r[2])/3;for(let g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);let p=new wc(l,u,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class xc extends q{constructor(r,i,s,a){super(r,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){let a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){let a=this.count+1,l=(this.count*this.getX()+i)/a,u=(this.count*this.getY()+r)/a,f=(this.count*this.estimatedModuleSize+s)/a;return new xc(l,u,f,a)}}class q1{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let X1=(()=>{class m{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){let s=i!=null&&i.get(ae.TRY_HARDER)!==void 0,a=i!=null&&i.get(ae.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth(),p=Math.floor(3*u/(4*m.MAX_MODULES));(p<m.MIN_SKIP||s)&&(p=m.MIN_SKIP);let g=!1,C=new Int32Array(5);for(let I=p-1;I<u&&!g;I+=p){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let A=0;for(let S=0;S<f;S++)if(l.get(S,I))(A&1)===1&&A++,C[A]++;else if(A&1)C[A]++;else if(A===4)if(m.foundPatternCross(C)){if(this.handlePossibleCenter(C,I,S,a)===!0)if(p=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{let M=this.findRowSkip();M>C[2]&&(I+=M-C[2]-p,S=f-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,A=3;continue}A=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,A=3;else C[++A]++;m.foundPatternCross(C)&&this.handlePossibleCenter(C,I,f,a)===!0&&(p=C[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}let E=this.selectBestPatterns();return q.orderBestPatterns(E),new q1(E)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let u=0;u<5;u++){let f=i[u];if(f===0)return!1;s+=f}if(s<7)return!1;let a=s/7,l=a/2;return Math.abs(a-i[0])<l&&Math.abs(a-i[1])<l&&Math.abs(3*a-i[2])<3*l&&Math.abs(a-i[3])<l&&Math.abs(a-i[4])<l}getCrossCheckStateCount(){let i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,l){let u=this.getCrossCheckStateCount(),f=0,p=this.image;for(;i>=f&&s>=f&&p.get(s-f,i-f);)u[2]++,f++;if(i<f||s<f)return!1;for(;i>=f&&s>=f&&!p.get(s-f,i-f)&&u[1]<=a;)u[1]++,f++;if(i<f||s<f||u[1]>a)return!1;for(;i>=f&&s>=f&&p.get(s-f,i-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;let g=p.getHeight(),C=p.getWidth();for(f=1;i+f<g&&s+f<C&&p.get(s+f,i+f);)u[2]++,f++;if(i+f>=g||s+f>=C)return!1;for(;i+f<g&&s+f<C&&!p.get(s+f,i+f)&&u[3]<a;)u[3]++,f++;if(i+f>=g||s+f>=C||u[3]>=a)return!1;for(;i+f<g&&s+f<C&&p.get(s+f,i+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;let E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-l)<2*l&&m.foundPatternCross(u)}crossCheckVertical(i,s,a,l){let u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount(),g=i;for(;g>=0&&u.get(s,g);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(s,g)&&p[1]<=a;)p[1]++,g--;if(g<0||p[1]>a)return NaN;for(;g>=0&&u.get(s,g)&&p[0]<=a;)p[0]++,g--;if(p[0]>a)return NaN;for(g=i+1;g<f&&u.get(s,g);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(s,g)&&p[3]<a;)p[3]++,g++;if(g===f||p[3]>=a)return NaN;for(;g<f&&u.get(s,g)&&p[4]<a;)p[4]++,g++;if(p[4]>=a)return NaN;let C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-l)>=2*l?NaN:m.foundPatternCross(p)?m.centerFromEnd(p,g):NaN}crossCheckHorizontal(i,s,a,l){let u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount(),g=i;for(;g>=0&&u.get(g,s);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(g,s)&&p[1]<=a;)p[1]++,g--;if(g<0||p[1]>a)return NaN;for(;g>=0&&u.get(g,s)&&p[0]<=a;)p[0]++,g--;if(p[0]>a)return NaN;for(g=i+1;g<f&&u.get(g,s);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(g,s)&&p[3]<a;)p[3]++,g++;if(g===f||p[3]>=a)return NaN;for(;g<f&&u.get(g,s)&&p[4]<a;)p[4]++,g++;if(p[4]>=a)return NaN;let C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-l)>=l?NaN:m.foundPatternCross(p)?m.centerFromEnd(p,g):NaN}handlePossibleCenter(i,s,a,l){let u=i[0]+i[1]+i[2]+i[3]+i[4],f=m.centerFromEnd(i,a),p=this.crossCheckVertical(s,Math.floor(f),i[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),i[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),i[2],u)))){let g=u/7,C=!1,E=this.possibleCenters;for(let I=0,A=E.length;I<A;I++){let S=E[I];if(S.aboutEquals(g,p,f)){E[I]=S.combineEstimate(p,f,g),C=!0;break}}if(!C){let I=new xc(f,p,g);E.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(let a of this.possibleCenters)if(a.getCount()>=m.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0,a=this.possibleCenters.length;for(let f of this.possibleCenters)f.getCount()>=m.CENTER_QUORUM&&(i++,s+=f.getEstimatedModuleSize());if(i<3)return!1;let l=s/a,u=0;for(let f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*s}selectBestPatterns(){let i=this.possibleCenters.length;if(i<3)throw new P;let s=this.possibleCenters,a;if(i>3){let l=0,u=0;for(let g of this.possibleCenters){let C=g.getEstimatedModuleSize();l+=C,u+=C*C}a=l/i;let f=Math.sqrt(u/i-a*a);s.sort((g,C)=>{let E=Math.abs(C.getEstimatedModuleSize()-a),I=Math.abs(g.getEstimatedModuleSize()-a);return E<I?-1:E>I?1:0});let p=Math.max(.2*a,f);for(let g=0;g<s.length&&s.length>3;g++){let C=s[g];Math.abs(C.getEstimatedModuleSize()-a)>p&&(s.splice(g,1),g--)}}if(s.length>3){let l=0;for(let u of s)l+=u.getEstimatedModuleSize();a=l/s.length,s.sort((u,f)=>{if(f.getCount()===u.getCount()){let p=Math.abs(f.getEstimatedModuleSize()-a),g=Math.abs(u.getEstimatedModuleSize()-a);return p<g?1:p>g?-1:0}else return f.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}return m.CENTER_QUORUM=2,m.MIN_SKIP=3,m.MAX_MODULES=57,m})();class Wi{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(ae.NEED_RESULT_POINT_CALLBACK);let s=new X1(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(s)}processFinderPatternInfo(r){let i=r.getTopLeft(),s=r.getTopRight(),a=r.getBottomLeft(),l=this.calculateModuleSize(i,s,a);if(l<1)throw new P("No pattern found in proccess finder.");let u=Wi.computeDimension(i,s,a,l),f=K.getProvisionalVersionForDimension(u),p=f.getDimensionForVersion()-7,g=null;if(f.getAlignmentPatternCenters().length>0){let A=s.getX()-i.getX()+a.getX(),S=s.getY()-i.getY()+a.getY(),T=1-3/p,M=Math.floor(i.getX()+T*(A-i.getX())),_=Math.floor(i.getY()+T*(S-i.getY()));for(let B=4;B<=16;B<<=1)try{g=this.findAlignmentInRegion(l,M,_,B);break}catch(z){if(!(z instanceof P))throw z}}let C=Wi.createTransform(i,s,a,g,u),E=Wi.sampleGrid(this.image,C,u),I;return g===null?I=[a,i,s]:I=[a,i,s,g],new Qo(E,I)}static createTransform(r,i,s,a,l){let u=l-3.5,f,p,g,C;return a!==null?(f=a.getX(),p=a.getY(),g=u-3,C=g):(f=i.getX()-r.getX()+s.getX(),p=i.getY()-r.getY()+s.getY(),g=u,C=u),rn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,C,3.5,u,r.getX(),r.getY(),i.getX(),i.getY(),f,p,s.getX(),s.getY())}static sampleGrid(r,i,s){return Yn.getInstance().sampleGridWithTransform(r,s,s,i)}static computeDimension(r,i,s,a){let l=Me.round(q.distance(r,i)/a),u=Me.round(q.distance(r,s)/a),f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new P("Dimensions could be not found.")}return f}calculateModuleSize(r,i,s){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,s))/2}calculateModuleSizeOneWay(r,i){let s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,s,a){let l=this.sizeOfBlackWhiteBlackRun(r,i,s,a),u=1,f=r-(s-r);f<0?(u=r/(r-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-r)/(f-r),f=this.image.getWidth()-1);let p=Math.floor(i-(a-i)*u);return u=1,p<0?(u=i/(i-p),p=0):p>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),f=Math.floor(r+(f-r)*u),l+=this.sizeOfBlackWhiteBlackRun(r,i,f,p),l-1}sizeOfBlackWhiteBlackRun(r,i,s,a){let l=Math.abs(a-i)>Math.abs(s-r);if(l){let A=r;r=i,i=A,A=s,s=a,a=A}let u=Math.abs(s-r),f=Math.abs(a-i),p=-u/2,g=r<s?1:-1,C=i<a?1:-1,E=0,I=s+g;for(let A=r,S=i;A!==I;A+=g){let T=l?S:A,M=l?A:S;if(E===1===this.image.get(T,M)){if(E===2)return Me.distance(A,S,r,i);E++}if(p+=f,p>0){if(S===a)break;S+=C,p-=u}}return E===2?Me.distance(s+g,a,r,i):NaN}findAlignmentInRegion(r,i,s,a){let l=Math.floor(a*r),u=Math.max(0,i-l),f=Math.min(this.image.getWidth()-1,i+l);if(f-u<r*3)throw new P("Alignment top exceeds estimated module size.");let p=Math.max(0,s-l),g=Math.min(this.image.getHeight()-1,s+l);if(g-p<r*3)throw new P("Alignment bottom exceeds estimated module size.");return new is(this.image,u,p,f-u,g-p,r,this.resultPointCallback).find()}}class Qn{constructor(){this.decoder=new Z1}getDecoder(){return this.decoder}decode(r,i){let s,a;if(i!=null&&i.get(ae.PURE_BARCODE)!==void 0){let p=Qn.extractPureBits(r.getBlackMatrix());s=this.decoder.decodeBitMatrix(p,i),a=Qn.NO_POINTS}else{let p=new Wi(r.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(p.getBits(),i),a=p.getPoints()}s.getOther()instanceof nf&&s.getOther().applyMirroredCorrection(a);let l=new bt(s.getText(),s.getRawBytes(),void 0,a,te.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(dt.BYTE_SEGMENTS,u);let f=s.getECLevel();return f!==null&&l.putMetadata(dt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(dt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(r){let i=r.getTopLeftOnBit(),s=r.getBottomRightOnBit();if(i===null||s===null)throw new P;let a=this.moduleSize(i,r),l=i[1],u=s[1],f=i[0],p=s[0];if(f>=p||l>=u)throw new P;if(u-l!==p-f&&(p=f+(u-l),p>=r.getWidth()))throw new P;let g=Math.round((p-f+1)/a),C=Math.round((u-l+1)/a);if(g<=0||C<=0)throw new P;if(C!==g)throw new P;let E=Math.floor(a/2);l+=E,f+=E;let I=f+Math.floor((g-1)*a)-p;if(I>0){if(I>E)throw new P;f-=I}let A=l+Math.floor((C-1)*a)-u;if(A>0){if(A>E)throw new P;l-=A}let S=new lt(g,C);for(let T=0;T<C;T++){let M=l+Math.floor(T*a);for(let _=0;_<g;_++)r.get(f+Math.floor(_*a),M)&&S.set(_,T)}return S}static moduleSize(r,i){let s=i.getHeight(),a=i.getWidth(),l=r[0],u=r[1],f=!0,p=0;for(;l<a&&u<s;){if(f!==i.get(l,u)){if(++p===5)break;f=!f}l++,u++}if(l===a||u===s)throw new P;return(l-r[0])/7}}Qn.NO_POINTS=new Array;class ie{PDF417Common(){}static getBitCountSum(r){return Me.sum(r)}static toIntArray(r){if(r==null||!r.length)return ie.EMPTY_INT_ARRAY;let i=new Int32Array(r.length),s=0;for(let a of r)i[s++]=a;return i}static getCodeword(r){let i=Y.binarySearch(ie.SYMBOL_TABLE,r&262143);return i<0?-1:(ie.CODEWORD_TABLE[i]-1)%ie.NUMBER_OF_CODEWORDS}}ie.NUMBER_OF_CODEWORDS=929,ie.MAX_CODEWORDS_IN_BARCODE=ie.NUMBER_OF_CODEWORDS-1,ie.MIN_ROWS_IN_BARCODE=3,ie.MAX_ROWS_IN_BARCODE=90,ie.MODULES_IN_CODEWORD=17,ie.MODULES_IN_STOP_PATTERN=18,ie.BARS_IN_MODULE=8,ie.EMPTY_INT_ARRAY=new Int32Array([]),ie.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ie.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Q1{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(r,i,s){let a=r.getBlackMatrix(),l=ye.detect(s,a);return l.length||(a=a.clone(),a.rotate180(),l=ye.detect(s,a)),new Q1(a,l)}static detect(r,i){let s=new Array,a=0,l=0,u=!1;for(;a<i.getHeight();){let f=ye.findVertices(i,a,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(let p of s)p[1]!=null&&(a=Math.trunc(Math.max(a,p[1].getY()))),p[3]!=null&&(a=Math.max(a,Math.trunc(p[3].getY())));a+=ye.ROW_STEP;continue}if(u=!0,s.push(f),!r)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return s}static findVertices(r,i,s){let a=r.getHeight(),l=r.getWidth(),u=new Array(8);return ye.copyToResult(u,ye.findRowsWithPattern(r,a,l,i,s,ye.START_PATTERN),ye.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),ye.copyToResult(u,ye.findRowsWithPattern(r,a,l,i,s,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),u}static copyToResult(r,i,s){for(let a=0;a<s.length;a++)r[s[a]]=i[a]}static findRowsWithPattern(r,i,s,a,l,u){let f=new Array(4),p=!1,g=new Int32Array(u.length);for(;a<i;a+=ye.ROW_STEP){let E=ye.findGuardPattern(r,l,a,s,!1,u,g);if(E!=null){for(;a>0;){let I=ye.findGuardPattern(r,l,--a,s,!1,u,g);if(I!=null)E=I;else{a++;break}}f[0]=new q(E[0],a),f[1]=new q(E[1],a),p=!0;break}}let C=a+1;if(p){let E=0,I=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<i;C++){let A=ye.findGuardPattern(r,I[0],C,s,!1,u,g);if(A!=null&&Math.abs(I[0]-A[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(I[1]-A[1])<ye.MAX_PATTERN_DRIFT)I=A,E=0;else{if(E>ye.SKIPPED_ROW_COUNT_MAX)break;E++}}C-=E+1,f[2]=new q(I[0],C),f[3]=new q(I[1],C)}return C-a<ye.BARCODE_MIN_HEIGHT&&Y.fill(f,null),f}static findGuardPattern(r,i,s,a,l,u,f){Y.fillWithin(f,0,f.length,0);let p=i,g=0;for(;r.get(p,s)&&p>0&&g++<ye.MAX_PIXEL_DRIFT;)p--;let C=p,E=0,I=u.length;for(let A=l;C<a;C++)if(r.get(C,s)!==A)f[E]++;else{if(E===I-1){if(ye.patternMatchVariance(f,u,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([p,C]);p+=f[0]+f[1],O.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,A=!A}return E===I-1&&ye.patternMatchVariance(f,u,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([p,C-1]):null}static patternMatchVariance(r,i,s){let a=r.length,l=0,u=0;for(let g=0;g<a;g++)l+=r[g],u+=i[g];if(l<u)return 1/0;let f=l/u;s*=f;let p=0;for(let g=0;g<a;g++){let C=r[g],E=i[g]*f,I=C>E?C-E:E-C;if(I>s)return 1/0;p+=I}return p/l}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class gt{constructor(r,i){if(i.length===0)throw new y;this.field=r;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),O.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(r,i),this.coefficients[a]);return i}add(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){let u=i;i=s,s=u}let a=new Int32Array(s.length),l=s.length-i.length;O.arraycopy(s,0,a,0,l);for(let u=l;u<s.length;u++)a[u]=this.field.add(i[u-l],s[u]);return new gt(this.field,a)}subtract(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof gt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new gt(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=r.coefficients,l=a.length,u=new Int32Array(s+l-1);for(let f=0;f<s;f++){let p=i[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(p,a[g]))}return new gt(this.field,u)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new gt(this.field,i)}multiplyScalar(r){if(r===0)return new gt(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],r);return new gt(this.field,s)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return new gt(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+r);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new gt(this.field,a)}toString(){let r=new Be;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(r.append(" - "),s=-s):r.length()>0&&r.append(" + "),(i===0||s!==1)&&r.append(s),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class K1{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}inverse(r){if(r===0)throw new oc;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Cc extends K1{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let s=1;for(let a=0;a<r;a++)this.expTable[a]=s,s=s*i%r;for(let a=0;a<r-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new gt(this,new Int32Array([0])),this.one=new gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;let s=new Int32Array(r+1);return s[0]=i,new gt(this,s)}}Cc.PDF417_GF=new Cc(ie.NUMBER_OF_CODEWORDS,3);class rf{constructor(){this.field=Cc.PDF417_GF}decode(r,i,s){let a=new gt(this.field,r),l=new Int32Array(i),u=!1;for(let S=i;S>0;S--){let T=a.evaluateAt(this.field.exp(S));l[i-S]=T,T!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(s!=null)for(let S of s){let T=this.field.exp(r.length-1-S),M=new gt(this.field,new Int32Array([this.field.subtract(0,T),1]));f=f.multiply(M)}let p=new gt(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),C=g[0],E=g[1],I=this.findErrorLocations(C),A=this.findErrorMagnitudes(E,C,I);for(let S=0;S<I.length;S++){let T=r.length-1-this.field.log(I[S]);if(T<0)throw b.getChecksumInstance();r[T]=this.field.subtract(r[T],A[S])}return I.length}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){let I=r;r=i,i=I}let a=r,l=i,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let I=a,A=u;if(a=l,u=f,a.isZero())throw b.getChecksumInstance();l=I;let S=this.field.getZero(),T=a.getCoefficient(a.getDegree()),M=this.field.inverse(T);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let _=l.getDegree()-a.getDegree(),B=this.field.multiply(l.getCoefficient(l.getDegree()),M);S=S.add(this.field.buildMonomial(_,B)),l=l.subtract(a.multiplyByMonomial(_,B))}f=S.multiply(u).subtract(A).negative()}let p=f.getCoefficient(0);if(p===0)throw b.getChecksumInstance();let g=this.field.inverse(p),C=f.multiply(g),E=l.multiply(g);return[C,E]}findErrorLocations(r){let i=r.getDegree(),s=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)r.evaluateAt(l)===0&&(s[a]=this.field.inverse(l),a++);if(a!==i)throw b.getChecksumInstance();return s}findErrorMagnitudes(r,i,s){let a=i.getDegree(),l=new Int32Array(a);for(let g=1;g<=a;g++)l[a-g]=this.field.multiply(g,i.getCoefficient(g));let u=new gt(this.field,l),f=s.length,p=new Int32Array(f);for(let g=0;g<f;g++){let C=this.field.inverse(s[g]),E=this.field.subtract(0,r.evaluateAt(C)),I=this.field.inverse(u.evaluateAt(C));p[g]=this.field.multiply(E,I)}return p}}class xr{constructor(r,i,s,a,l){r instanceof xr?this.constructor_2(r):this.constructor_1(r,i,s,a,l)}constructor_1(r,i,s,a,l){let u=i==null||s==null,f=a==null||l==null;if(u&&f)throw new P;u?(i=new q(0,a.getY()),s=new q(0,l.getY())):f&&(a=new q(r.getWidth()-1,i.getY()),l=new q(r.getWidth()-1,s.getY())),this.image=r,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new xr(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,s){let a=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(r>0){let p=s?this.topLeft:this.topRight,g=Math.trunc(p.getY()-r);g<0&&(g=0);let C=new q(p.getX(),g);s?a=C:u=C}if(i>0){let p=s?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+i);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let C=new q(p.getX(),g);s?l=C:f=C}return new xr(this.image,a,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class J1{constructor(r,i,s,a){this.columnCount=r,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class $i{constructor(){this.buffer=""}static form(r,i){let s=-1;function a(u,f,p,g,C,E){if(u==="%%")return"%";if(i[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,A;switch(E){case"s":A=i[s];break;case"c":A=i[s][0];break;case"f":A=parseFloat(i[s]).toFixed(u);break;case"p":A=parseFloat(i[s]).toPrecision(u);break;case"e":A=parseFloat(i[s]).toExponential(u);break;case"x":A=parseInt(i[s]).toString(I||16);break;case"d":A=parseFloat(parseInt(i[s],I||10).toPrecision(u)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let S=parseInt(p),T=p&&p[0]+""=="0"?"0":" ";for(;A.length<S;)A=f!==void 0?A+T:T+A;return A}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(l,a)}format(r,...i){this.buffer+=$i.form(r,i)}toString(){return this.buffer}}let of=(()=>{class m{constructor(i){this.boundingBox=new xr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<m.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(i)-a;if(l>=0&&(s=this.codewords[l],s!=null)||(l=this.imageRowToCodewordIndex(i)+a,l<this.codewords.length&&(s=this.codewords[l],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let i=new $i,s=0;for(let a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}return m.MAX_NEARBY_DISTANCE=5,m})();class Yi{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(let[s,a]of this.values.entries()){let l={getKey:()=>s,getValue:()=>a};l.getValue()>r?(r=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===r&&i.push(l.getKey())}return ie.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class sf extends of{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=-1,g=1,C=0;for(let E=u;E<f;E++){if(i[E]==null)continue;let I=i[E],A=I.getRowNumber()-p;if(A===0)C++;else if(A===1)g=Math.max(g,C),C=1,p=I.getRowNumber();else if(A<0||I.getRowNumber()>=r.getRowCount()||A>E)i[E]=null;else{let S;g>2?S=(g-2)*A:S=A;let T=S>=E;for(let M=1;M<=S&&!T;M++)T=i[E-M]!=null;T?i[E]=null:(p=I.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),p=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let C=f[g];C.setRowNumberAsRowIndicatorColumn();let E=C.getRowNumber()-p;E===0||(E===1?p=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?f[g]=null:p=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new Yi,s=new Yi,a=new Yi,l=new Yi;for(let f of r){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(p*3+1);break;case 1:l.setValue(p/3),a.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<ie.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>ie.MAX_ROWS_IN_BARCODE)return null;let u=new J1(i.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(r,u),u}removeIncorrectCodewords(r,i){for(let s=0;s<r.length;s++){let a=r[s];if(r[s]==null)continue;let l=a.getValue()%30,u=a.getRowNumber();if(u>i.getRowCount()){r[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(r[s]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(r[s]=null);break;case 2:l+1!==i.getColumnCount()&&(r[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Zi{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=ie.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++)if(r[s]!=null&&i[s]!=null&&r[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[s];l!=null&&(l.setRowNumber(r[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=Zi.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=Zi.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(r)?(s.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,s){if(!this.detectionResultColumns[r-1])return;let a=s[i],l=this.detectionResultColumns[r-1].getCodewords(),u=l;this.detectionResultColumns[r+1]!=null&&(u=this.detectionResultColumns[r+1].getCodewords());let f=new Array(14);f[2]=l[i],f[3]=u[i],i>0&&(f[0]=s[i-1],f[4]=l[i-1],f[5]=u[i-1]),i>1&&(f[8]=s[i-2],f[10]=l[i-2],f[11]=u[i-2]),i<s.length-1&&(f[1]=s[i+1],f[6]=l[i+1],f[7]=u[i+1]),i<s.length-2&&(f[9]=s[i+2],f[12]=l[i+2],f[13]=u[i+2]);for(let p of f)if(Zi.adjustRowNumber(a,p))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new $i;for(let s=0;s<r.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[s];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}let em=(()=>{class m{constructor(i,s,a,l){this.rowNumber=m.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==m.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}return m.BARCODE_ROW_UNKNOWN=-1,m})();class Ot{static initialize(){for(let r=0;r<ie.SYMBOL_TABLE.length;r++){let i=ie.SYMBOL_TABLE[r],s=i&1;for(let a=0;a<ie.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===s;)l+=1,i>>=1;s=i&1,Ot.RATIOS_TABLE[r]||(Ot.RATIOS_TABLE[r]=new Array(ie.BARS_IN_MODULE)),Ot.RATIOS_TABLE[r][ie.BARS_IN_MODULE-a-1]=Math.fround(l/ie.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Ot.getDecodedCodewordValue(Ot.sampleBitCounts(r));return i!==-1?i:Ot.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Me.sum(r),s=new Int32Array(ie.BARS_IN_MODULE),a=0,l=0;for(let u=0;u<ie.MODULES_IN_CODEWORD;u++){let f=i/(2*ie.MODULES_IN_CODEWORD)+u*i/ie.MODULES_IN_CODEWORD;l+r[a]<=f&&(l+=r[a],a++),s[a]++}return s}static getDecodedCodewordValue(r){let i=Ot.getBitValue(r);return ie.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let s=0;s<r.length;s++)for(let a=0;a<r[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Me.sum(r),s=new Array(ie.BARS_IN_MODULE);if(i>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(r[u]/i);let a=Xo.MAX_VALUE,l=-1;this.bSymbolTableReady||Ot.initialize();for(let u=0;u<Ot.RATIOS_TABLE.length;u++){let f=0,p=Ot.RATIOS_TABLE[u];for(let g=0;g<ie.BARS_IN_MODULE;g++){let C=Math.fround(p[g]-s[g]);if(f+=Math.fround(C*C),f>=a)break}f<a&&(a=f,l=ie.SYMBOL_TABLE[u])}return l}}Ot.bSymbolTableReady=!1,Ot.RATIOS_TABLE=new Array(ie.SYMBOL_TABLE.length).map(m=>m=new Array(ie.BARS_IN_MODULE));class af{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class cf{static parseLong(r,i=void 0){return parseInt(r,i)}}let tm=(()=>{class m extends w{}return m.kind="NullPointerException",m})();class nm{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,s){if(r==null)throw new tm;if(i<0||i>r.length||s<0||i+s>r.length||i+s<0)throw new G;if(s===0)return;for(let a=0;a<s;a++)this.write(r[i+a])}flush(){}close(){}}class rm extends w{}class im extends nm{constructor(r=32){if(super(),this.count=0,r<0)throw new y("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let s=this.buf.length<<1;if(s-r<0&&(s=r),s<0){if(r<0)throw new rm;s=H.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,s)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,s){if(i<0||i>r.length||s<0||i+s-r.length>0)throw new G;this.ensureCapacity(this.count+s),O.arraycopy(r,i,this.buf,this.count,s),this.count+=s}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ue=function(m){return m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT",m}(Ue||{});function lf(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let os;function Kn(m){if(typeof os>"u"&&(os=lf()),os===null)throw new Error("BigInt is not supported!");return os(m)}function om(){let m=[];m[0]=Kn(1);let r=Kn(900);m[1]=r;for(let i=2;i<16;i++)m[i]=m[i-1]*r;return m}class R{static decode(r,i){let s=new Be(""),a=U.ISO8859_1;s.enableDecoding(a);let l=1,u=r[l++],f=new af;for(;l<r[0];){switch(u){case R.TEXT_COMPACTION_MODE_LATCH:l=R.textCompaction(r,l,s);break;case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:l=R.byteCompaction(u,r,a,l,s);break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[l++]);break;case R.NUMERIC_COMPACTION_MODE_LATCH:l=R.numericCompaction(r,l,s);break;case R.ECI_CHARSET:let g=U.getCharacterSetECIByValue(r[l++]);break;case R.ECI_GENERAL_PURPOSE:l+=2;break;case R.ECI_USER_DEFINED:l++;break;case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=R.decodeMacroBlock(r,l,f);break;case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:throw new j;default:l--,l=R.textCompaction(r,l,s);break}if(l<r.length)u=r[l++];else throw j.getFormatInstance()}if(s.length()===0)throw j.getFormatInstance();let p=new ji(null,s.toString(),null,i);return p.setOther(f),p}static decodeMacroBlock(r,i,s){if(i+R.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw j.getFormatInstance();let a=new Int32Array(R.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<R.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=r[i];s.setSegmentIndex(H.parseInt(R.decodeBase900toBase10(a,R.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Be;i=R.textCompaction(r,i,l),s.setFileId(l.toString());let u=-1;for(r[i]===R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<r[0];)switch(r[i]){case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case R.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Be;i=R.textCompaction(r,i+1,f),s.setFileName(f.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Be;i=R.textCompaction(r,i+1,p),s.setSender(p.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Be;i=R.textCompaction(r,i+1,g),s.setAddressee(g.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Be;i=R.numericCompaction(r,i+1,C),s.setSegmentCount(H.parseInt(C.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Be;i=R.numericCompaction(r,i+1,E),s.setTimestamp(cf.parseLong(E.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Be;i=R.numericCompaction(r,i+1,I),s.setChecksum(H.parseInt(I.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let A=new Be;i=R.numericCompaction(r,i+1,A),s.setFileSize(cf.parseLong(A.toString()));break;default:throw j.getFormatInstance()}break;case R.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(u!==-1){let f=i-u;s.isLastSegment()&&f--,s.setOptionalData(Y.copyOfRange(r,u,u+f))}return i}static textCompaction(r,i,s){let a=new Int32Array((r[0]-i)*2),l=new Int32Array((r[0]-i)*2),u=0,f=!1;for(;i<r[0]&&!f;){let p=r[i++];if(p<R.TEXT_COMPACTION_MODE_LATCH)a[u]=p/30,a[u+1]=p%30,u+=2;else switch(p){case R.TEXT_COMPACTION_MODE_LATCH:a[u++]=R.TEXT_COMPACTION_MODE_LATCH;break;case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[u]=R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[i++],l[u]=p,u++;break}}return R.decodeTextCompaction(a,l,u,s),i}static decodeTextCompaction(r,i,s,a){let l=Ue.ALPHA,u=Ue.ALPHA,f=0;for(;f<s;){let p=r[f],g="";switch(l){case Ue.ALPHA:if(p<26)g=String.fromCharCode(65+p);else switch(p){case 26:g=" ";break;case R.LL:l=Ue.LOWER;break;case R.ML:l=Ue.MIXED;break;case R.PS:u=l,l=Ue.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.LOWER:if(p<26)g=String.fromCharCode(97+p);else switch(p){case 26:g=" ";break;case R.AS:u=l,l=Ue.ALPHA_SHIFT;break;case R.ML:l=Ue.MIXED;break;case R.PS:u=l,l=Ue.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.MIXED:if(p<R.PL)g=R.MIXED_CHARS[p];else switch(p){case R.PL:l=Ue.PUNCT;break;case 26:g=" ";break;case R.LL:l=Ue.LOWER;break;case R.AL:l=Ue.ALPHA;break;case R.PS:u=l,l=Ue.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT:if(p<R.PAL)g=R.PUNCT_CHARS[p];else switch(p){case R.PAL:l=Ue.ALPHA;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.ALPHA_SHIFT:if(l=u,p<26)g=String.fromCharCode(65+p);else switch(p){case 26:g=" ";break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT_SHIFT:if(l=u,p<R.PAL)g=R.PUNCT_CHARS[p];else switch(p){case R.PAL:l=Ue.ALPHA;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break}g!==""&&a.append(g),f++}}static byteCompaction(r,i,s,a,l){let u=new im,f=0,p=0,g=!1;switch(r){case R.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),E=i[a++];for(;a<i[0]&&!g;)switch(C[f++]=E,p=900*p+E,E=i[a++],E){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:a--,g=!0;break;default:if(f%5===0&&f>0){for(let I=0;I<6;++I)u.write(Number(Kn(p)>>Kn(8*(5-I))));p=0,f=0}break}a===i[0]&&E<R.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=E);for(let I=0;I<f;I++)u.write(C[I]);break;case R.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!g;){let I=i[a++];if(I<R.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+I;else switch(I){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:a--,g=!0;break}if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(Kn(p)>>Kn(8*(5-A))));p=0,f=0}}break}return l.append(Ct.decode(u.toByteArray(),s)),a}static numericCompaction(r,i,s){let a=0,l=!1,u=new Int32Array(R.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!l;){let f=r[i++];if(i===r[0]&&(l=!0),f<R.TEXT_COMPACTION_MODE_LATCH)u[a]=f,a++;else switch(f){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%R.MAX_NUMERIC_CODEWORDS===0||f===R.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(s.append(R.decodeBase900toBase10(u,a)),a=0)}return i}static decodeBase900toBase10(r,i){let s=Kn(0);for(let l=0;l<i;l++)s+=R.EXP900[i-l-1]*Kn(r[l]);let a=s.toString();if(a.charAt(0)!=="1")throw new j;return a.substring(1)}}R.TEXT_COMPACTION_MODE_LATCH=900,R.BYTE_COMPACTION_MODE_LATCH=901,R.NUMERIC_COMPACTION_MODE_LATCH=902,R.BYTE_COMPACTION_MODE_LATCH_6=924,R.ECI_USER_DEFINED=925,R.ECI_GENERAL_PURPOSE=926,R.ECI_CHARSET=927,R.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,R.MACRO_PDF417_TERMINATOR=922,R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,R.MAX_NUMERIC_CODEWORDS=15,R.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,R.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,R.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,R.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,R.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,R.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,R.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,R.PL=25,R.LL=27,R.AS=27,R.ML=28,R.AL=28,R.PS=29,R.PAL=29,R.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,R.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",R.EXP900=lf()?om():[],R.NUMBER_OF_SEQUENCE_CODEWORDS=2;class we{constructor(){}static decode(r,i,s,a,l,u,f){let p=new xr(r,i,s,a,l),g=null,C=null,E;for(let S=!0;;S=!1){if(i!=null&&(g=we.getRowIndicatorColumn(r,p,i,!0,u,f)),a!=null&&(C=we.getRowIndicatorColumn(r,p,a,!1,u,f)),E=we.merge(g,C),E==null)throw P.getNotFoundInstance();let T=E.getBoundingBox();if(S&&T!=null&&(T.getMinY()<p.getMinY()||T.getMaxY()>p.getMaxY()))p=T;else break}E.setBoundingBox(p);let I=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(I,C);let A=g!=null;for(let S=1;S<=I;S++){let T=A?S:I-S;if(E.getDetectionResultColumn(T)!==void 0)continue;let M;T===0||T===I?M=new sf(p,T===0):M=new of(p),E.setDetectionResultColumn(T,M);let _=-1,B=_;for(let z=p.getMinY();z<=p.getMaxY();z++){if(_=we.getStartColumn(E,T,z,A),_<0||_>p.getMaxX()){if(B===-1)continue;_=B}let L=we.detectCodeword(r,p.getMinX(),p.getMaxX(),A,_,z,u,f);L!=null&&(M.setCodeword(z,L),B=_,u=Math.min(u,L.getWidth()),f=Math.max(f,L.getWidth()))}}return we.createDecoderResult(E)}static merge(r,i){if(r==null&&i==null)return null;let s=we.getBarcodeMetadata(r,i);if(s==null)return null;let a=xr.merge(we.adjustBoundingBox(r),we.adjustBoundingBox(i));return new Zi(s,a)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let s=we.getMax(i),a=0;for(let f of i)if(a+=s-f,f>0)break;let l=r.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let u=0;for(let f=i.length-1;f>=0&&(u+=s-i[f],!(i[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return r.getBoundingBox().addMissingRows(a,u,r.isLeft())}static getMax(r){let i=-1;for(let s of r)i=Math.max(i,s);return i}static getBarcodeMetadata(r,i){let s;if(r==null||(s=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(r,i,s,a,l,u){let f=new sf(i,a);for(let p=0;p<2;p++){let g=p===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=i.getMaxY()&&E>=i.getMinY();E+=g){let I=we.detectCodeword(r,0,r.getWidth(),a,C,E,l,u);I!=null&&(f.setCodeword(E,I),a?C=I.getStartX():C=I.getEndX())}}return f}static adjustCodewordCount(r,i){let s=i[0][1],a=s.getValue(),l=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-we.getNumberOfECCodeWords(r.getBarcodeECLevel());if(a.length===0){if(l<1||l>ie.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();s.setValue(l)}else a[0]!==l&&s.setValue(l)}static createDecoderResult(r){let i=we.createBarcodeMatrix(r);we.adjustCodewordCount(r,i);let s=new Array,a=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),l=[],u=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let g=0;g<r.getBarcodeColumnCount();g++){let C=i[p][g+1].getValue(),E=p*r.getBarcodeColumnCount()+g;C.length===0?s.push(E):C.length===1?a[E]=C[0]:(u.push(E),l.push(C))}let f=new Array(l.length);for(let p=0;p<f.length;p++)f[p]=l[p];return we.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),a,ie.toIntArray(s),ie.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(r,i,s,a,l){let u=new Int32Array(a.length),f=100;for(;f-- >0;){for(let p=0;p<u.length;p++)i[a[p]]=l[p][u[p]];try{return we.decodeCodewords(i,r,s)}catch(p){if(!(p instanceof b))throw p}if(u.length===0)throw b.getChecksumInstance();for(let p=0;p<u.length;p++)if(u[p]<l[p].length-1){u[p]++;break}else if(u[p]=0,p===u.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new Yi;let s=0;for(let a of r.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][s].setValue(l.getValue())}}}s++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,s,a){let l=a?1:-1,u=null;if(we.isValidBarcodeColumn(r,i-l)&&(u=r.getDetectionResultColumn(i-l).getCodeword(s)),u!=null)return a?u.getEndX():u.getStartX();if(u=r.getDetectionResultColumn(i).getCodewordNearby(s),u!=null)return a?u.getStartX():u.getEndX();if(we.isValidBarcodeColumn(r,i-l)&&(u=r.getDetectionResultColumn(i-l).getCodewordNearby(s)),u!=null)return a?u.getEndX():u.getStartX();let f=0;for(;we.isValidBarcodeColumn(r,i-l);){i-=l;for(let p of r.getDetectionResultColumn(i).getCodewords())if(p!=null)return(a?p.getEndX():p.getStartX())+l*f*(p.getEndX()-p.getStartX());f++}return a?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,s,a,l,u,f,p){l=we.adjustCodewordStartColumn(r,i,s,a,l,u);let g=we.getModuleBitCount(r,i,s,a,l,u);if(g==null)return null;let C,E=Me.sum(g);if(a)C=l+E;else{for(let S=0;S<g.length/2;S++){let T=g[S];g[S]=g[g.length-1-S],g[g.length-1-S]=T}C=l,l=C-E}if(!we.checkCodewordSkew(E,f,p))return null;let I=Ot.getDecodedValue(g),A=ie.getCodeword(I);return A===-1?null:new em(l,C,we.getCodewordBucketNumber(I),A)}static getModuleBitCount(r,i,s,a,l,u){let f=l,p=new Int32Array(8),g=0,C=a?1:-1,E=a;for(;(a?f<s:f>=i)&&g<p.length;)r.get(f,u)===E?(p[g]++,f+=C):(g++,E=!E);return g===p.length||f===(a?s:i)&&g===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,s,a,l,u){let f=l,p=a?-1:1;for(let g=0;g<2;g++){for(;(a?f>=i:f<s)&&a===r.get(f,u);){if(Math.abs(l-f)>we.CODEWORD_SKEW_SIZE)return l;f+=p}p=-p,a=!a}return f}static checkCodewordSkew(r,i,s){return i-we.CODEWORD_SKEW_SIZE<=r&&r<=s+we.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,s){if(r.length===0)throw j.getFormatInstance();let a=1<<i+1,l=we.correctErrors(r,s,a);we.verifyCodewordCount(r,a);let u=R.decode(r,""+i);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(r,i,s){if(i!=null&&i.length>s/2+we.MAX_ERRORS||s<0||s>we.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return we.errorCorrection.decode(r,s,i)}static verifyCodewordCount(r,i){if(r.length<4)throw j.getFormatInstance();let s=r[0];if(s>r.length)throw j.getFormatInstance();if(s===0)if(i<r.length)r[0]=r.length-i;else throw j.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((r&1)!==s&&(s=r&1,a--,a<0));)i[a]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return we.getCodewordBucketNumber(we.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new $i;for(let s=0;s<r.length;s++){i.format("Row %2d: ",s);for(let a=0;a<r[s].length;a++){let l=r[s][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}we.CODEWORD_SKEW_SIZE=2,we.MAX_ERRORS=3,we.MAX_EC_CODEWORDS=512,we.errorCorrection=new rf;class mt{decode(r,i=null){let s=mt.decode(r,i,!1);if(s==null||s.length===0||s[0]==null)throw P.getNotFoundInstance();return s[0]}decodeMultiple(r,i=null){try{return mt.decode(r,i,!0)}catch(s){throw s instanceof j||s instanceof b?P.getNotFoundInstance():s}}static decode(r,i,s){let a=new Array,l=ye.detectMultiple(r,i,s);for(let u of l.getPoints()){let f=we.decode(l.getBits(),u[4],u[5],u[6],u[7],mt.getMinCodewordWidth(u),mt.getMaxCodewordWidth(u)),p=new bt(f.getText(),f.getRawBytes(),void 0,u,te.PDF_417);p.putMetadata(dt.ERROR_CORRECTION_LEVEL,f.getECLevel());let g=f.getOther();g!=null&&p.putMetadata(dt.PDF417_EXTRA_METADATA,g),a.push(p)}return a.map(u=>u)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?H.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(mt.getMaxWidth(r[0],r[4]),mt.getMaxWidth(r[6],r[2])*ie.MODULES_IN_CODEWORD/ie.MODULES_IN_STOP_PATTERN),Math.max(mt.getMaxWidth(r[1],r[5]),mt.getMaxWidth(r[7],r[3])*ie.MODULES_IN_CODEWORD/ie.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(mt.getMinWidth(r[0],r[4]),mt.getMinWidth(r[6],r[2])*ie.MODULES_IN_CODEWORD/ie.MODULES_IN_STOP_PATTERN),Math.min(mt.getMinWidth(r[1],r[5]),mt.getMinWidth(r[7],r[3])*ie.MODULES_IN_CODEWORD/ie.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ec=(()=>{class m extends w{}return m.kind="ReaderException",m})();class uf{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;let i=!t(r)&&r.get(ae.TRY_HARDER)===!0,s=t(r)?null:r.get(ae.POSSIBLE_FORMATS),a=new Array;if(!t(s)){let l=s.some(u=>u===te.UPC_A||u===te.UPC_E||u===te.EAN_13||u===te.EAN_8||u===te.CODABAR||u===te.CODE_39||u===te.CODE_93||u===te.CODE_128||u===te.ITF||u===te.RSS_14||u===te.RSS_EXPANDED);l&&!i&&a.push(new Gr(r,this.verbose)),s.includes(te.QR_CODE)&&a.push(new Qn),s.includes(te.DATA_MATRIX)&&a.push(new rs),s.includes(te.AZTEC)&&a.push(new Jo),s.includes(te.PDF_417)&&a.push(new mt),l&&i&&a.push(new Gr(r,this.verbose))}a.length===0&&(i||a.push(new Gr(r,this.verbose)),a.push(new Qn),a.push(new rs),a.push(new Jo),a.push(new mt),i&&a.push(new Gr(r,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(let r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Ec("No readers where selected, nothing can be read.");for(let i of this.readers)try{return i.decode(r,this.hints)}catch(s){if(s instanceof Ec)continue}throw new P("No MultiFormat Readers were able to detect the code.")}}class sm extends gr{constructor(r=null,i=500){let s=new uf;s.setHints(r),super(s,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class am extends gr{constructor(r=500){super(new mt,r)}}class cm extends gr{constructor(r=500){super(new Qn,r)}}var df=function(m){return m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION",m}(df||{}),st=df;class Ic{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Rt(r,Int32Array.from([1])))}buildGenerator(r){let i=this.cachedGenerators;if(r>=i.length){let s=i[i.length-1],a=this.field;for(let l=i.length;l<=r;l++){let u=s.multiply(new Rt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(u),s=u}}return i[r]}encode(r,i){if(i===0)throw new y("No error correction bytes");let s=r.length-i;if(s<=0)throw new y("No data bytes provided");let a=this.buildGenerator(i),l=new Int32Array(s);O.arraycopy(r,0,l,0,s);let u=new Rt(this.field,l);u=u.multiplyByMonomial(i,1);let p=u.divide(a)[1].getCoefficients(),g=i-p.length;for(let C=0;C<g;C++)r[s+C]=0;O.arraycopy(p,0,r,s+g,p.length)}}let Wr=(()=>{class m{constructor(){}static applyMaskPenaltyRule1(i){return m.applyMaskPenaltyRule1Internal(i,!0)+m.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0,a=i.getArray(),l=i.getWidth(),u=i.getHeight();for(let f=0;f<u-1;f++){let p=a[f];for(let g=0;g<l-1;g++){let C=p[g];C===p[g+1]&&C===a[f+1][g]&&C===a[f+1][g+1]&&s++}}return m.N2*s}static applyMaskPenaltyRule3(i){let s=0,a=i.getArray(),l=i.getWidth(),u=i.getHeight();for(let f=0;f<u;f++)for(let p=0;p<l;p++){let g=a[f];p+6<l&&g[p]===1&&g[p+1]===0&&g[p+2]===1&&g[p+3]===1&&g[p+4]===1&&g[p+5]===0&&g[p+6]===1&&(m.isWhiteHorizontal(g,p-4,p)||m.isWhiteHorizontal(g,p+7,p+11))&&s++,f+6<u&&a[f][p]===1&&a[f+1][p]===0&&a[f+2][p]===1&&a[f+3][p]===1&&a[f+4][p]===1&&a[f+5][p]===0&&a[f+6][p]===1&&(m.isWhiteVertical(a,p,f-4,f)||m.isWhiteVertical(a,p,f+7,f+11))&&s++}return s*m.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let l=s;l<a;l++)if(i[l]===1)return!1;return!0}static isWhiteVertical(i,s,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let u=a;u<l;u++)if(i[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0,a=i.getArray(),l=i.getWidth(),u=i.getHeight();for(let g=0;g<u;g++){let C=a[g];for(let E=0;E<l;E++)C[E]===1&&s++}let f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*m.N4}static getDataMaskBit(i,s,a){let l,u;switch(i){case 0:l=a+s&1;break;case 1:l=a&1;break;case 2:l=s%3;break;case 3:l=(a+s)%3;break;case 4:l=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:u=a*s,l=(u&1)+u%3;break;case 6:u=a*s,l=(u&1)+u%3&1;break;case 7:u=a*s,l=u%3+(a+s&1)&1;break;default:throw new y("Invalid mask pattern: "+i)}return l===0}static applyMaskPenaltyRule1Internal(i,s){let a=0,l=s?i.getHeight():i.getWidth(),u=s?i.getWidth():i.getHeight(),f=i.getArray();for(let p=0;p<l;p++){let g=0,C=-1;for(let E=0;E<u;E++){let I=s?f[p][E]:f[E][p];I===C?g++:(g>=5&&(a+=m.N1+(g-5)),g=1,C=I)}g>=5&&(a+=m.N1+(g-5))}return a}}return m.N1=3,m.N2=3,m.N3=40,m.N4=10,m})();class ss{constructor(r,i){this.width=r,this.height=i;let s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(r);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,s){this.bytes[i][r]=s}setBoolean(r,i,s){this.bytes[i][r]=s?1:0}clear(r){for(let i of this.bytes)Y.fill(i,r)}equals(r){if(!(r instanceof ss))return!1;let i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){let l=this.bytes[s],u=i.bytes[s];for(let f=0,p=this.width;f<p;++f)if(l[f]!==u[f])return!1}return!0}toString(){let r=new Be;for(let i=0,s=this.height;i<s;++i){let a=this.bytes[i];for(let l=0,u=this.width;l<u;++l)switch(a[l]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}let as=(()=>{class m{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let i=new Be;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<m.NUM_MASK_PATTERNS}}return m.NUM_MASK_PATTERNS=8,m})(),Ge=(()=>{class m extends w{}return m.kind="WriterException",m})();class ne{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,s,a,l){ne.clearMatrix(l),ne.embedBasicPatterns(s,l),ne.embedTypeInfo(i,a,l),ne.maybeEmbedVersionInfo(s,l),ne.embedDataBits(r,a,l)}static embedBasicPatterns(r,i){ne.embedPositionDetectionPatternsAndSeparators(i),ne.embedDarkDotAtLeftBottomCorner(i),ne.maybeEmbedPositionAdjustmentPatterns(r,i),ne.embedTimingPatterns(i)}static embedTypeInfo(r,i,s){let a=new re;ne.makeTypeInfoBits(r,i,a);for(let l=0,u=a.getSize();l<u;++l){let f=a.get(a.getSize()-1-l),p=ne.TYPE_INFO_COORDINATES[l],g=p[0],C=p[1];if(s.setBoolean(g,C,f),l<8){let E=s.getWidth()-l-1;s.setBoolean(E,8,f)}else{let I=s.getHeight()-7+(l-8);s.setBoolean(8,I,f)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;let s=new re;ne.makeVersionInfoBits(r,s);let a=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){let f=s.get(a);a--,i.setBoolean(l,i.getHeight()-11+u,f),i.setBoolean(i.getHeight()-11+u,l,f)}}static embedDataBits(r,i,s){let a=0,l=-1,u=s.getWidth()-1,f=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<s.getHeight();){for(let p=0;p<2;++p){let g=u-p;if(!ne.isEmpty(s.get(g,f)))continue;let C;a<r.getSize()?(C=r.get(a),++a):C=!1,i!==255&&Wr.getDataMaskBit(i,g,f)&&(C=!C),s.setBoolean(g,f,C)}f+=l}l=-l,f+=l,u-=2}if(a!==r.getSize())throw new Ge("Not all bits consumed: "+a+"/"+r.getSize())}static findMSBSet(r){return 32-H.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new y("0 polynomial");let s=ne.findMSBSet(i);for(r<<=s-1;ne.findMSBSet(r)>=s;)r^=i<<ne.findMSBSet(r)-s;return r}static makeTypeInfoBits(r,i,s){if(!as.isValidMaskPattern(i))throw new Ge("Invalid mask pattern");let a=r.getBits()<<3|i;s.appendBits(a,5);let l=ne.calculateBCHCode(a,ne.TYPE_INFO_POLY);s.appendBits(l,10);let u=new re;if(u.appendBits(ne.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ge("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);let s=ne.calculateBCHCode(r.getVersionNumber(),ne.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Ge("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){let s=(i+1)%2;ne.isEmpty(r.get(i,6))&&r.setNumber(i,6,s),ne.isEmpty(r.get(6,i))&&r.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ge;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,s){for(let a=0;a<8;++a){if(!ne.isEmpty(s.get(r+a,i)))throw new Ge;s.setNumber(r+a,i,0)}}static embedVerticalSeparationPattern(r,i,s){for(let a=0;a<7;++a){if(!ne.isEmpty(s.get(r,i+a)))throw new Ge;s.setNumber(r,i+a,0)}}static embedPositionAdjustmentPattern(r,i,s){for(let a=0;a<5;++a){let l=ne.POSITION_ADJUSTMENT_PATTERN[a];for(let u=0;u<5;++u)s.setNumber(r+u,i+a,l[u])}}static embedPositionDetectionPattern(r,i,s){for(let a=0;a<7;++a){let l=ne.POSITION_DETECTION_PATTERN[a];for(let u=0;u<7;++u)s.setNumber(r+u,i+a,l[u])}}static embedPositionDetectionPatternsAndSeparators(r){let i=ne.POSITION_DETECTION_PATTERN[0].length;ne.embedPositionDetectionPattern(0,0,r),ne.embedPositionDetectionPattern(r.getWidth()-i,0,r),ne.embedPositionDetectionPattern(0,r.getWidth()-i,r);let s=8;ne.embedHorizontalSeparationPattern(0,s-1,r),ne.embedHorizontalSeparationPattern(r.getWidth()-s,s-1,r),ne.embedHorizontalSeparationPattern(0,r.getWidth()-s,r);let a=7;ne.embedVerticalSeparationPattern(a,0,r),ne.embedVerticalSeparationPattern(r.getHeight()-a-1,0,r),ne.embedVerticalSeparationPattern(a,r.getHeight()-a,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;let s=r.getVersionNumber()-1,a=ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=a.length;l!==u;l++){let f=a[l];if(f>=0)for(let p=0;p!==u;p++){let g=a[p];g>=0&&ne.isEmpty(i.get(g,f))&&ne.embedPositionAdjustmentPattern(g-2,f-2,i)}}}}ne.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ne.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ne.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ne.VERSION_INFO_POLY=7973,ne.TYPE_INFO_POLY=1335,ne.TYPE_INFO_MASK_PATTERN=21522;class lm{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ye{constructor(){}static calculateMaskPenalty(r){return Wr.applyMaskPenaltyRule1(r)+Wr.applyMaskPenaltyRule2(r)+Wr.applyMaskPenaltyRule3(r)+Wr.applyMaskPenaltyRule4(r)}static encode(r,i,s=null){let a=Ye.DEFAULT_BYTE_MODE_ENCODING,l=s!==null&&s.get(st.CHARACTER_SET)!==void 0;l&&(a=s.get(st.CHARACTER_SET).toString());let u=this.chooseMode(r,a),f=new re;if(u===ee.BYTE&&(l||Ye.DEFAULT_BYTE_MODE_ENCODING!==a)){let z=U.getCharacterSetECIByName(a);z!==void 0&&this.appendECI(z,f)}this.appendModeInfo(u,f);let p=new re;this.appendBytes(r,u,p,a);let g;if(s!==null&&s.get(st.QR_VERSION)!==void 0){let z=Number.parseInt(s.get(st.QR_VERSION).toString(),10);g=K.getVersionForNumber(z);let L=this.calculateBitsNeeded(u,f,p,g);if(!this.willFit(L,g,i))throw new Ge("Data too big for requested version")}else g=this.recommendVersion(i,u,f,p);let C=new re;C.appendBitArray(f);let E=u===ee.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(E,g,u,C),C.appendBitArray(p);let I=g.getECBlocksForLevel(i),A=g.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(A,C);let S=this.interleaveWithECBytes(C,g.getTotalCodewords(),A,I.getNumBlocks()),T=new as;T.setECLevel(i),T.setMode(u),T.setVersion(g);let M=g.getDimensionForVersion(),_=new ss(M,M),B=this.chooseMaskPattern(S,i,g,_);return T.setMaskPattern(B),ne.buildMatrix(S,i,g,B,_),T.setMatrix(_),T}static recommendVersion(r,i,s,a){let l=this.calculateBitsNeeded(i,s,a,K.getVersionForNumber(1)),u=this.chooseVersion(l,r),f=this.calculateBitsNeeded(i,s,a,u);return this.chooseVersion(f,r)}static calculateBitsNeeded(r,i,s,a){return i.getSize()+r.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(r){return r<Ye.ALPHANUMERIC_TABLE.length?Ye.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(U.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return ee.KANJI;let s=!1,a=!1;for(let l=0,u=r.length;l<u;++l){let f=r.charAt(l);if(Ye.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return ee.BYTE}return a?ee.ALPHANUMERIC:s?ee.NUMERIC:ee.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=Ct.encode(r,U.SJIS)}catch{return!1}let s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){let l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(r,i,s,a){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<as.NUM_MASK_PATTERNS;f++){ne.buildMatrix(r,i,s,f,a);let p=this.calculateMaskPenalty(a);p<l&&(l=p,u=f)}return u}static chooseVersion(r,i){for(let s=1;s<=40;s++){let a=K.getVersionForNumber(s);if(Ye.willFit(r,a,i))return a}throw new Ge("Data too big")}static willFit(r,i,s){let a=i.getTotalCodewords(),u=i.getECBlocksForLevel(s).getTotalECCodewords(),f=a-u,p=(r+7)/8;return f>=p}static terminateBits(r,i){let s=r*8;if(i.getSize()>s)throw new Ge("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let u=0;u<4&&i.getSize()<s;++u)i.appendBit(!1);let a=i.getSize()&7;if(a>0)for(let u=a;u<8;u++)i.appendBit(!1);let l=r-i.getSizeInBytes();for(let u=0;u<l;++u)i.appendBits(u&1?17:236,8);if(i.getSize()!==s)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,s,a,l,u){if(a>=s)throw new Ge("Block ID too large");let f=r%s,p=s-f,g=Math.floor(r/s),C=g+1,E=Math.floor(i/s),I=E+1,A=g-E,S=C-I;if(A!==S)throw new Ge("EC bytes mismatch");if(s!==p+f)throw new Ge("RS blocks mismatch");if(r!==(E+A)*p+(I+S)*f)throw new Ge("Total bytes mismatch");a<p?(l[0]=E,u[0]=A):(l[0]=I,u[0]=S)}static interleaveWithECBytes(r,i,s,a){if(r.getSizeInBytes()!==s)throw new Ge("Number of bits and data bytes does not match");let l=0,u=0,f=0,p=new Array;for(let C=0;C<a;++C){let E=new Int32Array(1),I=new Int32Array(1);Ye.getNumDataBytesAndNumECBytesForBlockID(i,s,a,C,E,I);let A=E[0],S=new Uint8Array(A);r.toBytes(8*l,S,0,A);let T=Ye.generateECBytes(S,I[0]);p.push(new lm(S,T)),u=Math.max(u,A),f=Math.max(f,T.length),l+=E[0]}if(s!==l)throw new Ge("Data bytes does not match offset");let g=new re;for(let C=0;C<u;++C)for(let E of p){let I=E.getDataBytes();C<I.length&&g.appendBits(I[C],8)}for(let C=0;C<f;++C)for(let E of p){let I=E.getErrorCorrectionBytes();C<I.length&&g.appendBits(I[C],8)}if(i!==g.getSizeInBytes())throw new Ge("Interleaving error: "+i+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(r,i){let s=r.length,a=new Int32Array(s+i);for(let u=0;u<s;u++)a[u]=r[u]&255;new Ic(_e.QR_CODE_FIELD_256).encode(a,i);let l=new Uint8Array(i);for(let u=0;u<i;u++)l[u]=a[s+u];return l}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,s,a){let l=s.getCharacterCountBits(i);if(r>=1<<l)throw new Ge(r+" is bigger than "+((1<<l)-1));a.appendBits(r,l)}static appendBytes(r,i,s,a){switch(i){case ee.NUMERIC:Ye.appendNumericBytes(r,s);break;case ee.ALPHANUMERIC:Ye.appendAlphanumericBytes(r,s);break;case ee.BYTE:Ye.append8BitBytes(r,s,a);break;case ee.KANJI:Ye.appendKanjiBytes(r,s);break;default:throw new Ge("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){let i=Ye.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){let s=r.length,a=0;for(;a<s;){let l=Ye.getDigit(r.charAt(a));if(a+2<s){let u=Ye.getDigit(r.charAt(a+1)),f=Ye.getDigit(r.charAt(a+2));i.appendBits(l*100+u*10+f,10),a+=3}else if(a+1<s){let u=Ye.getDigit(r.charAt(a+1));i.appendBits(l*10+u,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(r,i){let s=r.length,a=0;for(;a<s;){let l=Ye.getAlphanumericCode(r.charCodeAt(a));if(l===-1)throw new Ge;if(a+1<s){let u=Ye.getAlphanumericCode(r.charCodeAt(a+1));if(u===-1)throw new Ge;i.appendBits(l*45+u,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(r,i,s){let a;try{a=Ct.encode(r,s)}catch(l){throw new Ge(l)}for(let l=0,u=a.length;l!==u;l++){let f=a[l];i.appendBits(f,8)}}static appendKanjiBytes(r,i){let s;try{s=Ct.encode(r,U.SJIS)}catch(l){throw new Ge(l)}let a=s.length;for(let l=0;l<a;l+=2){let u=s[l]&255,f=s[l+1]&255,p=u<<8&4294967295|f,g=-1;if(p>=33088&&p<=40956?g=p-33088:p>=57408&&p<=60351&&(g=p-49472),g===-1)throw new Ge("Invalid byte sequence");let C=(g>>8)*192+(g&255);i.appendBits(C,13)}}static appendECI(r,i){i.appendBits(ee.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}Ye.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ye.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();let um=(()=>{class m{write(i,s,a,l=null){if(i.length===0)throw new y("Found empty contents");if(s<0||a<0)throw new y("Requested dimensions are too small: "+s+"x"+a);let u=ze.L,f=m.QUIET_ZONE_SIZE;l!==null&&(l.get(st.ERROR_CORRECTION)!==void 0&&(u=ze.fromString(l.get(st.ERROR_CORRECTION).toString())),l.get(st.MARGIN)!==void 0&&(f=Number.parseInt(l.get(st.MARGIN).toString(),10)));let p=Ye.encode(i,u,l);return this.renderResult(p,s,a,f)}writeToDom(i,s,a,l,u=null){typeof i=="string"&&(i=document.querySelector(i));let f=this.write(s,a,l,u);i&&i.appendChild(f)}renderResult(i,s,a,l){let u=i.getMatrix();if(u===null)throw new Rn;let f=u.getWidth(),p=u.getHeight(),g=f+l*2,C=p+l*2,E=Math.max(s,g),I=Math.max(a,C),A=Math.min(Math.floor(E/g),Math.floor(I/C)),S=Math.floor((E-f*A)/2),T=Math.floor((I-p*A)/2),M=this.createSVGElement(E,I);for(let _=0,B=T;_<p;_++,B+=A)for(let z=0,L=S;z<f;z++,L+=A)if(u.get(z,_)===1){let Ce=this.createSvgRectElement(L,B,A,A);M.appendChild(Ce)}return M}createSVGElement(i,s){let a=document.createElementNS(m.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,l){let u=document.createElementNS(m.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}return m.QUIET_ZONE_SIZE=4,m.SVG_NS="http://www.w3.org/2000/svg",m})(),ff=(()=>{class m{encode(i,s,a,l,u){if(i.length===0)throw new y("Found empty contents");if(s!==te.QR_CODE)throw new y("Can only encode QR_CODE, but got "+s);if(a<0||l<0)throw new y(`Requested dimensions are too small: ${a}x${l}`);let f=ze.L,p=m.QUIET_ZONE_SIZE;u!==null&&(u.get(st.ERROR_CORRECTION)!==void 0&&(f=ze.fromString(u.get(st.ERROR_CORRECTION).toString())),u.get(st.MARGIN)!==void 0&&(p=Number.parseInt(u.get(st.MARGIN).toString(),10)));let g=Ye.encode(i,f,u);return m.renderResult(g,a,l,p)}static renderResult(i,s,a,l){let u=i.getMatrix();if(u===null)throw new Rn;let f=u.getWidth(),p=u.getHeight(),g=f+l*2,C=p+l*2,E=Math.max(s,g),I=Math.max(a,C),A=Math.min(Math.floor(E/g),Math.floor(I/C)),S=Math.floor((E-f*A)/2),T=Math.floor((I-p*A)/2),M=new lt(E,I);for(let _=0,B=T;_<p;_++,B+=A)for(let z=0,L=S;z<f;z++,L+=A)u.get(z,_)===1&&M.setRegion(L,B,A,A);return M}}return m.QUIET_ZONE_SIZE=4,m})();class dm{encode(r,i,s,a,l){let u;switch(i){case te.QR_CODE:u=new ff;break;default:throw new y("No encoder available for format "+i)}return u.encode(r,i,s,a,l)}}let fm=(()=>{class m extends Bi{constructor(i,s,a,l,u,f,p,g){if(super(f,p),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=l,this.top=u,l+f>s||u+p>a)throw new y("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,p)}getRow(i,s){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);let a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));let l=(i+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,l,s,0,a),s}getMatrix(){let i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;let a=i*s,l=new Uint8ClampedArray(a),u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return O.arraycopy(this.yuvData,u,l,0,a),l;for(let f=0;f<s;f++){let p=f*i;O.arraycopy(this.yuvData,u,l,p,i),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(i,s,a,l){return new m(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,l,!1)}renderThumbnail(){let i=this.getWidth()/m.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/m.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),l=this.yuvData,u=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){let p=f*i;for(let g=0;g<i;g++){let C=l[u+g*m.THUMBNAIL_SCALE_FACTOR]&255;a[p+g]=4278190080|C*65793}u+=this.dataWidth*m.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/m.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/m.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){let a=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<s;l++,u+=this.dataWidth){let f=u+i/2;for(let p=u,g=u+i-1;p<f;p++,g--){let C=a[p];a[p]=a[g],a[g]=C}}}invert(){return new Wn(this)}}return m.THUMBNAIL_SCALE_FACTOR=2,m})();class vc extends Bi{constructor(r,i,s,a,l,u,f){if(super(i,s),this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=f,r.BYTES_PER_ELEMENT===4){let p=i*s,g=new Uint8ClampedArray(p);for(let C=0;C<p;C++){let E=r[C],I=E>>16&255,A=E>>7&510,S=E&255;g[C]=(I+A+S)/4&255}this.luminances=g}else this.luminances=r;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);let s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));let a=(r+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){let r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;let s=r*i,a=new Uint8ClampedArray(s),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return O.arraycopy(this.luminances,l,a,0,s),a;for(let u=0;u<i;u++){let f=u*r;O.arraycopy(this.luminances,l,a,f,r),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(r,i,s,a){return new vc(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new Wn(this)}}class hf extends U{static forName(r){return this.getCharacterSetECIByName(r)}}class Dc{}Dc.ISO_8859_1=U.ISO8859_1;class pf{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class gf{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class hm{constructor(r){this.previous=r}getPrevious(){return this.previous}}class $r extends hm{constructor(r,i,s){super(r),this.value=i,this.bitCount=s}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new $r(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new $r(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+H.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Ac extends $r{constructor(r,i,s){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(r,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):s===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(r,i){return new Ac(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function pm(m,r,i){return new Ac(m,r,i)}function qi(m,r,i){return new $r(m,r,i)}let gm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Jn=0,cs=1,$t=2,mf=3,wn=4,mm=new $r(null,0,0),bc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ym(m){for(let r of m)Y.fill(r,-1);return m[Jn][wn]=0,m[cs][wn]=0,m[cs][Jn]=28,m[mf][wn]=0,m[$t][wn]=0,m[$t][Jn]=15,m}let yf=ym(Y.createInt32Array(6,6));class xn{constructor(r,i,s,a){this.token=r,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let s=this.bitCount,a=this.token;if(r!==this.mode){let u=bc[this.mode][r];a=qi(a,u&65535,u>>16),s+=u>>16}let l=r===$t?4:5;return a=qi(a,i,l),new xn(a,r,0,s+l)}shiftAndAppend(r,i){let s=this.token,a=this.mode===$t?4:5;return s=qi(s,yf[this.mode][r],a),s=qi(s,i,5),new xn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(r){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===wn||this.mode===$t){let f=bc[s][Jn];i=qi(i,f&65535,f>>16),a+=f>>16,s=Jn}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new xn(i,s,this.binaryShiftByteCount+1,a+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(r+1)),u}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=pm(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new xn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(bc[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=xn.calculateBinaryShiftCost(r)-xn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let a=this.endBinaryShift(r.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new re;for(let a of i)a.appendTo(s,r);return s}toString(){return le.format("%s bits=%d bytes=%d",gm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}xn.INITIAL_STATE=new xn(mm,Jn,0,0);function wm(m){let r=le.getCharCode(" "),i=le.getCharCode("."),s=le.getCharCode(",");m[Jn][r]=1;let a=le.getCharCode("Z"),l=le.getCharCode("A");for(let I=l;I<=a;I++)m[Jn][I]=I-l+2;m[cs][r]=1;let u=le.getCharCode("z"),f=le.getCharCode("a");for(let I=f;I<=u;I++)m[cs][I]=I-f+2;m[$t][r]=1;let p=le.getCharCode("9"),g=le.getCharCode("0");for(let I=g;I<=p;I++)m[$t][I]=I-g+2;m[$t][s]=12,m[$t][i]=13;let C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let I=0;I<C.length;I++)m[mf][le.getCharCode(C[I])]=I;let E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<E.length;I++)le.getCharCode(E[I])>0&&(m[wn][le.getCharCode(E[I])]=I);return m}let Sc=wm(Y.createInt32Array(5,256));class Xi{constructor(r){this.text=r}encode(){let r=le.getCharCode(" "),i=le.getCharCode(`
`),s=gf.singletonList(xn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case le.getCharCode("\r"):u=f===i?2:0;break;case le.getCharCode("."):u=f===r?3:0;break;case le.getCharCode(","):u=f===r?4:0;break;case le.getCharCode(":"):u=f===r?5:0;break;default:u=0}u>0?(s=Xi.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return gf.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){let s=[];for(let a of r)this.updateStateForChar(a,i,s);return Xi.simplifyStates(s)}updateStateForChar(r,i,s){let a=this.text[i]&255,l=Sc[r.getMode()][a]>0,u=null;for(let f=0;f<=wn;f++){let p=Sc[f][a];if(p>0){if(u==null&&(u=r.endBinaryShift(i)),!l||f===r.getMode()||f===$t){let g=u.latchAndAppend(f,p);s.push(g)}if(!l&&yf[r.getMode()][f]>=0){let g=u.shiftAndAppend(f,p);s.push(g)}}}if(r.getBinaryShiftByteCount()>0||Sc[r.getMode()][a]===0){let f=r.addBinaryShiftChar(i);s.push(f)}}static updateStateListForPair(r,i,s){let a=[];for(let l of r)this.updateStateForPair(l,i,s,a);return this.simplifyStates(a)}static updateStateForPair(r,i,s,a){let l=r.endBinaryShift(i);if(a.push(l.latchAndAppend(wn,s)),r.getMode()!==wn&&a.push(l.shiftAndAppend(wn,s)),s===3||s===4){let u=l.latchAndAppend($t,16-s).latchAndAppend($t,1);a.push(u)}if(r.getBinaryShiftByteCount()>0){let u=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(u)}}static simplifyStates(r){let i=[];for(let s of r){let a=!0;for(let l of i){if(l.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(l)&&(i=i.filter(u=>u!==l))}a&&i.push(s)}return i}}class Ne{constructor(){}static encodeBytes(r){return Ne.encode(r,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(r,i,s){let a=new Xi(r).encode(),l=H.truncDivision(a.getSize()*i,100)+11,u=a.getSize()+l,f,p,g,C,E;if(s!==Ne.DEFAULT_AZTEC_LAYERS){if(f=s<0,p=Math.abs(s),p>(f?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new y(le.format("Illegal value %s for layers",s));g=Ne.totalBitsInLayer(p,f),C=Ne.WORD_SIZE[p];let L=g-g%C;if(E=Ne.stuffBits(a,C),E.getSize()+l>L)throw new y("Data to large for user specified layer");if(f&&E.getSize()>C*64)throw new y("Data to large for user specified layer")}else{C=0,E=null;for(let L=0;;L++){if(L>Ne.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(f=L<=3,p=f?L+1:L,g=Ne.totalBitsInLayer(p,f),u>g)continue;(E==null||C!==Ne.WORD_SIZE[p])&&(C=Ne.WORD_SIZE[p],E=Ne.stuffBits(a,C));let Ce=g-g%C;if(!(f&&E.getSize()>C*64)&&E.getSize()+l<=Ce)break}}let I=Ne.generateCheckWords(E,g,C),A=E.getSize()/C,S=Ne.generateModeMessage(f,p,A),T=(f?11:14)+p*4,M=new Int32Array(T),_;if(f){_=T;for(let L=0;L<M.length;L++)M[L]=L}else{_=T+1+2*H.truncDivision(H.truncDivision(T,2)-1,15);let L=H.truncDivision(T,2),Ce=H.truncDivision(_,2);for(let fe=0;fe<L;fe++){let Lt=fe+H.truncDivision(fe,15);M[L-fe-1]=Ce-Lt-1,M[L+fe]=Ce+Lt+1}}let B=new lt(_);for(let L=0,Ce=0;L<p;L++){let fe=(p-L)*4+(f?9:12);for(let Lt=0;Lt<fe;Lt++){let ln=Lt*2;for(let Pt=0;Pt<2;Pt++)I.get(Ce+ln+Pt)&&B.set(M[L*2+Pt],M[L*2+Lt]),I.get(Ce+fe*2+ln+Pt)&&B.set(M[L*2+Lt],M[T-1-L*2-Pt]),I.get(Ce+fe*4+ln+Pt)&&B.set(M[T-1-L*2-Pt],M[T-1-L*2-Lt]),I.get(Ce+fe*6+ln+Pt)&&B.set(M[T-1-L*2-Lt],M[L*2+Pt])}Ce+=fe*8}if(Ne.drawModeMessage(B,f,_,S),f)Ne.drawBullsEye(B,H.truncDivision(_,2),5);else{Ne.drawBullsEye(B,H.truncDivision(_,2),7);for(let L=0,Ce=0;L<H.truncDivision(T,2)-1;L+=15,Ce+=16)for(let fe=H.truncDivision(_,2)&1;fe<_;fe+=2)B.set(H.truncDivision(_,2)-Ce,fe),B.set(H.truncDivision(_,2)+Ce,fe),B.set(fe,H.truncDivision(_,2)-Ce),B.set(fe,H.truncDivision(_,2)+Ce)}let z=new pf;return z.setCompact(f),z.setSize(_),z.setLayers(p),z.setCodeWords(A),z.setMatrix(B),z}static drawBullsEye(r,i,s){for(let a=0;a<s;a+=2)for(let l=i-a;l<=i+a;l++)r.set(l,i-a),r.set(l,i+a),r.set(i-a,l),r.set(i+a,l);r.set(i-s,i-s),r.set(i-s+1,i-s),r.set(i-s,i-s+1),r.set(i+s,i-s),r.set(i+s,i-s+1),r.set(i+s,i+s-1)}static generateModeMessage(r,i,s){let a=new re;return r?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=Ne.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=Ne.generateCheckWords(a,40,4)),a}static drawModeMessage(r,i,s,a){let l=H.truncDivision(s,2);if(i)for(let u=0;u<7;u++){let f=l-3+u;a.get(u)&&r.set(f,l-5),a.get(u+7)&&r.set(l+5,f),a.get(20-u)&&r.set(f,l+5),a.get(27-u)&&r.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+H.truncDivision(u,5);a.get(u)&&r.set(f,l-7),a.get(u+10)&&r.set(l+7,f),a.get(29-u)&&r.set(f,l+7),a.get(39-u)&&r.set(l-7,f)}}static generateCheckWords(r,i,s){let a=r.getSize()/s,l=new Ic(Ne.getGF(s)),u=H.truncDivision(i,s),f=Ne.bitsToWords(r,s,u);l.encode(f,u-a);let p=i%s,g=new re;g.appendBits(0,p);for(let C of Array.from(f))g.appendBits(C,s);return g}static bitsToWords(r,i,s){let a=new Int32Array(s),l,u;for(l=0,u=r.getSize()/i;l<u;l++){let f=0;for(let p=0;p<i;p++)f|=r.get(l*i+p)?1<<i-p-1:0;a[l]=f}return a}static getGF(r){switch(r){case 4:return _e.AZTEC_PARAM;case 6:return _e.AZTEC_DATA_6;case 8:return _e.AZTEC_DATA_8;case 10:return _e.AZTEC_DATA_10;case 12:return _e.AZTEC_DATA_12;default:throw new y("Unsupported word size "+r)}}static stuffBits(r,i){let s=new re,a=r.getSize(),l=(1<<i)-2;for(let u=0;u<a;u+=i){let f=0;for(let p=0;p<i;p++)(u+p>=a||r.get(u+p))&&(f|=1<<i-1-p);(f&l)===l?(s.appendBits(f&l,i),u--):f&l?s.appendBits(f,i):(s.appendBits(f|1,i),u--)}return s}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ls{encode(r,i,s,a){return this.encodeWithHints(r,i,s,a,null)}encodeWithHints(r,i,s,a,l){let u=Dc.ISO_8859_1,f=Ne.DEFAULT_EC_PERCENT,p=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(st.CHARACTER_SET)&&(u=hf.forName(l.get(st.CHARACTER_SET).toString())),l.has(st.ERROR_CORRECTION)&&(f=H.parseInt(l.get(st.ERROR_CORRECTION).toString())),l.has(st.AZTEC_LAYERS)&&(p=H.parseInt(l.get(st.AZTEC_LAYERS).toString()))),ls.encodeLayers(r,i,s,a,u,f,p)}static encodeLayers(r,i,s,a,l,u,f){if(i!==te.AZTEC)throw new y("Can only encode AZTEC, but got "+i);let p=Ne.encode(le.getBytes(r,l),u,f);return ls.renderResult(p,s,a)}static renderResult(r,i,s){let a=r.getMatrix();if(a==null)throw new Rn;let l=a.getWidth(),u=a.getHeight(),f=Math.max(i,l),p=Math.max(s,u),g=Math.min(f/l,p/u),C=(f-l*g)/2,E=(p-u*g)/2,I=new lt(f,p);for(let A=0,S=E;A<u;A++,S+=g)for(let T=0,M=C;T<l;T++,M+=g)a.get(T,A)&&I.setRegion(M,S,g,g);return I}}e.AbstractExpandedDecoder=fc,e.ArgumentException=x,e.ArithmeticException=oc,e.AztecCode=pf,e.AztecCodeReader=Jo,e.AztecCodeWriter=ls,e.AztecDecoder=sc,e.AztecDetector=qd,e.AztecDetectorResult=Yd,e.AztecEncoder=Ne,e.AztecHighLevelEncoder=Xi,e.AztecPoint=St,e.BarcodeFormat=te,e.Binarizer=k,e.BinaryBitmap=v,e.BitArray=re,e.BitMatrix=lt,e.BitSource=mc,e.BrowserAztecCodeReader=P1,e.BrowserBarcodeReader=G1,e.BrowserCodeReader=gr,e.BrowserDatamatrixCodeReader=$1,e.BrowserMultiFormatReader=sm,e.BrowserPDF417Reader=am,e.BrowserQRCodeReader=cm,e.BrowserQRCodeSvgWriter=um,e.CharacterSetECI=U,e.ChecksumException=b,e.Code128Reader=V,e.Code39Reader=cc,e.DataMatrixDecodedBitStreamParser=Xn,e.DataMatrixReader=rs,e.DecodeHintType=ae,e.DecoderResult=ji,e.DefaultGridSampler=Zd,e.DetectorResult=Qo,e.EAN13Reader=es,e.EncodeHintType=st,e.Exception=w,e.FormatException=j,e.GenericGF=_e,e.GenericGFPoly=Rt,e.GlobalHistogramBinarizer=ut,e.GridSampler=ac,e.GridSamplerInstance=Yn,e.HTMLCanvasElementLuminanceSource=$n,e.HybridBinarizer=me,e.ITFReader=je,e.IllegalArgumentException=y,e.IllegalStateException=Rn,e.InvertedLuminanceSource=Wn,e.LuminanceSource=Bi,e.MathUtils=Me,e.MultiFormatOneDReader=Gr,e.MultiFormatReader=uf,e.MultiFormatWriter=dm,e.NotFoundException=P,e.OneDReader=it,e.PDF417DecodedBitStreamParser=R,e.PDF417DecoderErrorCorrection=rf,e.PDF417Reader=mt,e.PDF417ResultMetadata=af,e.PerspectiveTransform=rn,e.PlanarYUVLuminanceSource=fm,e.QRCodeByteMatrix=ss,e.QRCodeDataMask=Wt,e.QRCodeDecodedBitStreamParser=tf,e.QRCodeDecoderErrorCorrectionLevel=ze,e.QRCodeDecoderFormatInformation=It,e.QRCodeEncoder=Ye,e.QRCodeEncoderQRCode=as,e.QRCodeMaskUtil=Wr,e.QRCodeMatrixUtil=ne,e.QRCodeMode=ee,e.QRCodeReader=Qn,e.QRCodeVersion=K,e.QRCodeWriter=ff,e.RGBLuminanceSource=vc,e.RSS14Reader=Ke,e.RSSExpandedReader=F,e.ReaderException=Ec,e.ReedSolomonDecoder=Hi,e.ReedSolomonEncoder=Ic,e.ReedSolomonException=Vi,e.Result=bt,e.ResultMetadataType=dt,e.ResultPoint=q,e.StringUtils=le,e.UnsupportedOperationException=_n,e.VideoInputDevice=Gd,e.WhiteRectangleDetector=Ko,e.WriterException=Ge,e.ZXingArrays=Y,e.ZXingCharset=hf,e.ZXingInteger=H,e.ZXingStandardCharsets=Dc,e.ZXingStringBuilder=Be,e.ZXingStringEncoding=Ct,e.ZXingSystem=O,e.createAbstractExpandedDecoder=ef,Object.defineProperty(e,"__esModule",{value:!0})})});var _c=null;var Nc=1,Ef=Symbol("SIGNAL");function Le(e){let t=_c;return _c=e,t}function If(){return _c}var Rc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _m(e){if(!(kc(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Nc)){if(!e.producerMustRecompute(e)&&!Lc(e)){e.dirty=!1,e.lastCleanEpoch=Nc;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Nc}}function Oc(e){return e&&(e.nextProducerIndex=0),Le(e)}function vf(e,t){if(Le(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(kc(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Fc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Lc(e){Bc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(_m(n),o!==n.version))return!0}return!1}function Pc(e){if(Bc(e),kc(e))for(let t=0;t<e.producerNode.length;t++)Fc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Fc(e,t){if(Rm(e),e.liveConsumerNode.length===1&&Om(e))for(let o=0;o<e.producerNode.length;o++)Fc(e.producerNode[o],e.producerIndexOfThis[o]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[t],c=e.liveConsumerNode[t];Bc(c),c.producerIndexOfThis[o]=t}}function kc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Bc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Rm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Om(e){return e.producerNode!==void 0}function Lm(){throw new Error}var Pm=Lm;function Df(e){Pm=e}function J(e){return typeof e=="function"}function qr(e){let n=e(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var us=qr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,c)=>`${c+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var et=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let d of n)d.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(J(o))try{o()}catch(d){t=d instanceof us?d.errors:[d]}let{_finalizers:c}=this;if(c){this._finalizers=null;for(let d of c)try{Af(d)}catch(h){t=t??[],h instanceof us?t=[...t,...h.errors]:t.push(h)}}if(t)throw new us(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Af(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Cr(n,t)}remove(t){let{_finalizers:n}=this;n&&Cr(n,t),t instanceof e&&t._removeParent(this)}};et.EMPTY=(()=>{let e=new et;return e.closed=!0,e})();var jc=et.EMPTY;function ds(e){return e instanceof et||e&&"closed"in e&&J(e.remove)&&J(e.add)&&J(e.unsubscribe)}function Af(e){J(e)?e():e.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xr={setTimeout(e,t,...n){let{delegate:o}=Xr;return o?.setTimeout?o.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Xr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fs(e){Xr.setTimeout(()=>{let{onUnhandledError:t}=un;if(t)t(e);else throw e})}function On(){}var bf=Uc("C",void 0,void 0);function Sf(e){return Uc("E",void 0,e)}function Tf(e){return Uc("N",e,void 0)}function Uc(e,t,n){return{kind:e,value:t,error:n}}var Er=null;function Qr(e){if(un.useDeprecatedSynchronousErrorHandling){let t=!Er;if(t&&(Er={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:o}=Er;if(Er=null,n)throw o}}else e()}function Mf(e){un.useDeprecatedSynchronousErrorHandling&&Er&&(Er.errorThrown=!0,Er.error=e)}var Ir=class extends et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ds(t)&&t.add(this)):this.destination=Bm}static create(t,n,o){return new Kr(t,n,o)}next(t){this.isStopped?Hc(Tf(t),this):this._next(t)}error(t){this.isStopped?Hc(Sf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Hc(bf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Fm=Function.prototype.bind;function Vc(e,t){return Fm.call(e,t)}var zc=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(o){hs(o)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(o){hs(o)}else hs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){hs(n)}}},Kr=class extends Ir{constructor(t,n,o){super();let c;if(J(t)||!t)c={next:t??void 0,error:n??void 0,complete:o??void 0};else{let d;this&&un.useDeprecatedNextContext?(d=Object.create(t),d.unsubscribe=()=>this.unsubscribe(),c={next:t.next&&Vc(t.next,d),error:t.error&&Vc(t.error,d),complete:t.complete&&Vc(t.complete,d)}):c=t}this.destination=new zc(c)}};function hs(e){un.useDeprecatedSynchronousErrorHandling?Mf(e):fs(e)}function km(e){throw e}function Hc(e,t){let{onStoppedNotification:n}=un;n&&Xr.setTimeout(()=>n(e,t))}var Bm={closed:!0,next:On,error:km,complete:On};var Jr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(e){return e}function Gc(...e){return Wc(e)}function Wc(e){return e.length===0?Vt:e.length===1?e[0]:function(n){return e.reduce((o,c)=>c(o),n)}}var ve=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,c){let d=Um(n)?n:new Kr(n,o,c);return Qr(()=>{let{operator:h,source:w}=this;d.add(h?h.call(d,w):w?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Nf(o),new o((c,d)=>{let h=new Kr({next:w=>{try{n(w)}catch(x){d(x),h.unsubscribe()}},error:d,complete:c});this.subscribe(h)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Jr](){return this}pipe(...n){return Wc(n)(this)}toPromise(n){return n=Nf(n),new n((o,c)=>{let d;this.subscribe(h=>d=h,h=>c(h),()=>o(d))})}}return e.create=t=>new e(t),e})();function Nf(e){var t;return(t=e??un.Promise)!==null&&t!==void 0?t:Promise}function jm(e){return e&&J(e.next)&&J(e.error)&&J(e.complete)}function Um(e){return e&&e instanceof Ir||jm(e)&&ds(e)}function $c(e){return J(e?.lift)}function Ee(e){return t=>{if($c(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(e,t,n,o,c){return new Yc(e,t,n,o,c)}var Yc=class extends Ir{constructor(t,n,o,c,d,h){super(t),this.onFinalize=d,this.shouldUnsubscribe=h,this._next=n?function(w){try{n(w)}catch(x){t.error(x)}}:super._next,this._error=c?function(w){try{c(w)}catch(x){t.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ei(){return Ee((e,t)=>{let n=null;e._refCount++;let o=De(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let c=e._connection,d=n;n=null,c&&(!d||c===d)&&c.unsubscribe(),t.unsubscribe()});e.subscribe(o),o.closed||(n=e.connect())})}var er=class extends ve{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$c(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new et;let n=this.getSubject();t.add(this.source.subscribe(De(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=et.EMPTY)}return t}refCount(){return ei()(this)}};var _f=qr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class e extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new ps(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new _f}next(n){Qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){Qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){Qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:c,observers:d}=this;return o||c?jc:(this.currentObservers=null,d.push(n),new et(()=>{this.currentObservers=null,Cr(d,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:c,isStopped:d}=this;o?n.error(c):d&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return e.create=(t,n)=>new ps(t,n),e})(),ps=class extends rt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,t)}error(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&o!==void 0?o:jc}};var wt=class extends rt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:o}=this;if(t)throw n;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}};var Zc={now(){return(Zc.delegate||Date).now()},delegate:void 0};var gs=class extends et{constructor(t,n){super()}schedule(t,n=0){return this}};var Qi={setInterval(e,t,...n){let{delegate:o}=Qi;return o?.setInterval?o.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Qi;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ms=class extends gs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var o;if(this.closed)return this;this.state=t;let c=this.id,d=this.scheduler;return c!=null&&(this.id=this.recycleAsyncId(d,c,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(d,this.id,n),this}requestAsyncId(t,n,o=0){return Qi.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,n,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&Qi.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(t,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o=!1,c;try{this.work(t)}catch(d){o=!0,c=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:o}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Cr(o,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ti=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,o){return new this.schedulerActionCtor(this,t).schedule(o,n)}};ti.now=Zc.now;var ys=class extends ti{constructor(t,n=ti.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let o;this._active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}}};var qc=new ys(ms),Rf=qc;var Tt=new ve(e=>e.complete());function ws(e){return e&&J(e.schedule)}function Xc(e){return e[e.length-1]}function Of(e){return J(Xc(e))?e.pop():void 0}function Cn(e){return ws(Xc(e))?e.pop():void 0}function Lf(e,t){return typeof Xc(e)=="number"?e.pop():t}function Ff(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})}function Pf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vr(e){return this instanceof vr?(this.v=e,this):new vr(e)}function kf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(O){return function(G){return Promise.resolve(G).then(O,b)}}function w(O,G){o[O]&&(c[O]=function(X){return new Promise(function(Y,H){d.push([O,X,Y,H])>1||x(O,X)})},G&&(c[O]=G(c[O])))}function x(O,G){try{y(o[O](G))}catch(X){k(d[0][3],X)}}function y(O){O.value instanceof vr?Promise.resolve(O.value.v).then(v,b):k(d[0][2],O)}function v(O){x("next",O)}function b(O){x("throw",O)}function k(O,G){O(G),d.shift(),d.length&&x(d[0][0],d[0][1])}}function Bf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Pf=="function"?Pf(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(d){n[d]=e[d]&&function(h){return new Promise(function(w,x){h=e[d](h),c(w,x,h.done,h.value)})}}function c(d,h,w,x){Promise.resolve(x).then(function(y){d({value:y,done:w})},h)}}var ni=e=>e&&typeof e.length=="number"&&typeof e!="function";function xs(e){return J(e?.then)}function Cs(e){return J(e[Jr])}function Es(e){return Symbol.asyncIterator&&J(e?.[Symbol.asyncIterator])}function Is(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Vm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vs=Vm();function Ds(e){return J(e?.[vs])}function As(e){return kf(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:o,done:c}=yield vr(n.read());if(c)return yield vr(void 0);yield yield vr(o)}}finally{n.releaseLock()}})}function bs(e){return J(e?.getReader)}function We(e){if(e instanceof ve)return e;if(e!=null){if(Cs(e))return Hm(e);if(ni(e))return zm(e);if(xs(e))return Gm(e);if(Es(e))return jf(e);if(Ds(e))return Wm(e);if(bs(e))return $m(e)}throw Is(e)}function Hm(e){return new ve(t=>{let n=e[Jr]();if(J(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zm(e){return new ve(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Gm(e){return new ve(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,fs)})}function Wm(e){return new ve(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function jf(e){return new ve(t=>{Ym(e,t).catch(n=>t.error(n))})}function $m(e){return jf(As(e))}function Ym(e,t){var n,o,c,d;return Ff(this,void 0,void 0,function*(){try{for(n=Bf(e);o=yield n.next(),!o.done;){let h=o.value;if(t.next(h),t.closed)return}}catch(h){c={error:h}}finally{try{o&&!o.done&&(d=n.return)&&(yield d.call(n))}finally{if(c)throw c.error}}t.complete()})}function Ft(e,t,n,o=0,c=!1){let d=t.schedule(function(){n(),c?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(d),!c)return d}function Ss(e,t=0){return Ee((n,o)=>{n.subscribe(De(o,c=>Ft(o,e,()=>o.next(c),t),()=>Ft(o,e,()=>o.complete(),t),c=>Ft(o,e,()=>o.error(c),t)))})}function Ts(e,t=0){return Ee((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),t))})}function Uf(e,t){return We(e).pipe(Ts(t),Ss(t))}function Vf(e,t){return We(e).pipe(Ts(t),Ss(t))}function Hf(e,t){return new ve(n=>{let o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function zf(e,t){return new ve(n=>{let o;return Ft(n,t,()=>{o=e[vs](),Ft(n,t,()=>{let c,d;try{({value:c,done:d}=o.next())}catch(h){n.error(h);return}d?n.complete():n.next(c)},0,!0)}),()=>J(o?.return)&&o.return()})}function Ms(e,t){if(!e)throw new Error("Iterable cannot be null");return new ve(n=>{Ft(n,t,()=>{let o=e[Symbol.asyncIterator]();Ft(n,t,()=>{o.next().then(c=>{c.done?n.complete():n.next(c.value)})},0,!0)})})}function Gf(e,t){return Ms(As(e),t)}function Wf(e,t){if(e!=null){if(Cs(e))return Uf(e,t);if(ni(e))return Hf(e,t);if(xs(e))return Vf(e,t);if(Es(e))return Ms(e,t);if(Ds(e))return zf(e,t);if(bs(e))return Gf(e,t)}throw Is(e)}function Ze(e,t){return t?Wf(e,t):We(e)}function ue(...e){let t=Cn(e);return Ze(e,t)}function tr(e,t){let n=J(e)?e:()=>e,o=c=>c.error(n());return new ve(t?c=>t.schedule(o,0,c):o)}function Qc(e){return!!e&&(e instanceof ve||J(e.lift)&&J(e.subscribe))}var Ln=qr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function $f(e){return e instanceof Date&&!isNaN(e)}function he(e,t){return Ee((n,o)=>{let c=0;n.subscribe(De(o,d=>{o.next(e.call(t,d,c++))}))})}var{isArray:Zm}=Array;function qm(e,t){return Zm(t)?e(...t):e(t)}function Ns(e){return he(t=>qm(e,t))}var{isArray:Xm}=Array,{getPrototypeOf:Qm,prototype:Km,keys:Jm}=Object;function Yf(e){if(e.length===1){let t=e[0];if(Xm(t))return{args:t,keys:null};if(ey(t)){let n=Jm(t);return{args:n.map(o=>t[o]),keys:n}}}return{args:e,keys:null}}function ey(e){return e&&typeof e=="object"&&Qm(e)===Km}function Zf(e,t){return e.reduce((n,o,c)=>(n[o]=t[c],n),{})}function _s(...e){let t=Cn(e),n=Of(e),{args:o,keys:c}=Yf(e);if(o.length===0)return Ze([],t);let d=new ve(ty(o,t,c?h=>Zf(c,h):Vt));return n?d.pipe(Ns(n)):d}function ty(e,t,n=Vt){return o=>{qf(t,()=>{let{length:c}=e,d=new Array(c),h=c,w=c;for(let x=0;x<c;x++)qf(t,()=>{let y=Ze(e[x],t),v=!1;y.subscribe(De(o,b=>{d[x]=b,v||(v=!0,w--),w||o.next(n(d.slice()))},()=>{--h||o.complete()}))},o)},o)}}function qf(e,t,n){e?Ft(n,e,t):t()}function Xf(e,t,n,o,c,d,h,w){let x=[],y=0,v=0,b=!1,k=()=>{b&&!x.length&&!y&&t.complete()},O=X=>y<o?G(X):x.push(X),G=X=>{d&&t.next(X),y++;let Y=!1;We(n(X,v++)).subscribe(De(t,H=>{c?.(H),d?O(H):t.next(H)},()=>{Y=!0},void 0,()=>{if(Y)try{for(y--;x.length&&y<o;){let H=x.shift();h?Ft(t,h,()=>G(H)):G(H)}k()}catch(H){t.error(H)}}))};return e.subscribe(De(t,O,()=>{b=!0,k()})),()=>{w?.()}}function qe(e,t,n=1/0){return J(t)?qe((o,c)=>he((d,h)=>t(o,d,c,h))(We(e(o,c))),n):(typeof t=="number"&&(n=t),Ee((o,c)=>Xf(o,c,e,n)))}function Ki(e=1/0){return qe(Vt,e)}function Qf(){return Ki(1)}function En(...e){return Qf()(Ze(e,Cn(e)))}function Dr(e){return new ve(t=>{We(e()).subscribe(t)})}var ny=["addListener","removeListener"],ry=["addEventListener","removeEventListener"],iy=["on","off"];function ri(e,t,n,o){if(J(n)&&(o=n,n=void 0),o)return ri(e,t,n).pipe(Ns(o));let[c,d]=ay(e)?ry.map(h=>w=>e[h](t,w,n)):oy(e)?ny.map(Kf(e,t)):sy(e)?iy.map(Kf(e,t)):[];if(!c&&ni(e))return qe(h=>ri(h,t,n))(We(e));if(!c)throw new TypeError("Invalid event target");return new ve(h=>{let w=(...x)=>h.next(1<x.length?x:x[0]);return c(w),()=>d(w)})}function Kf(e,t){return n=>o=>e[n](t,o)}function oy(e){return J(e.addListener)&&J(e.removeListener)}function sy(e){return J(e.on)&&J(e.off)}function ay(e){return J(e.addEventListener)&&J(e.removeEventListener)}function Jf(e=0,t,n=Rf){let o=-1;return t!=null&&(ws(t)?n=t:o=t),new ve(c=>{let d=$f(e)?+e-n.now():e;d<0&&(d=0);let h=0;return n.schedule(function(){c.closed||(c.next(h++),0<=o?this.schedule(void 0,o):c.complete())},d)})}function Rs(...e){let t=Cn(e),n=Lf(e,1/0),o=e;return o.length?o.length===1?We(o[0]):Ki(n)(Ze(o,t)):Tt}var Ar=new ve(On);function vt(e,t){return Ee((n,o)=>{let c=0;n.subscribe(De(o,d=>e.call(t,d,c++)&&o.next(d)))})}function nr(e){return Ee((t,n)=>{let o=null,c=!1,d;o=t.subscribe(De(n,void 0,void 0,h=>{d=We(e(h,nr(e)(t))),o?(o.unsubscribe(),o=null,d.subscribe(n)):c=!0})),c&&(o.unsubscribe(),o=null,d.subscribe(n))})}function eh(e,t,n,o,c){return(d,h)=>{let w=n,x=t,y=0;d.subscribe(De(h,v=>{let b=y++;x=w?e(x,v,b):(w=!0,v),o&&h.next(x)},c&&(()=>{w&&h.next(x),h.complete()})))}}function ii(e,t){return J(t)?qe(e,t,1):qe(e,1)}function th(e){return new ve(t=>e.subscribe(t))}var cy={connector:()=>new rt};function Os(e,t=cy){let{connector:n}=t;return Ee((o,c)=>{let d=n();We(e(th(d))).subscribe(c),c.add(o.subscribe(d))})}function rr(e){return Ee((t,n)=>{let o=!1;t.subscribe(De(n,c=>{o=!0,n.next(c)},()=>{o||n.next(e),n.complete()}))})}function at(e){return e<=0?()=>Tt:Ee((t,n)=>{let o=0;t.subscribe(De(n,c=>{++o<=e&&(n.next(c),e<=o&&n.complete())}))})}function nh(){return Ee((e,t)=>{e.subscribe(De(t,On))})}function Ji(e){return he(()=>e)}function Kc(e,t){return t?n=>En(t.pipe(at(1),nh()),n.pipe(Kc(e))):qe((n,o)=>We(e(n,o)).pipe(at(1),Ji(n)))}function Jc(e,t=qc){let n=Jf(e,t);return Kc(()=>n)}function Ls(e=ly){return Ee((t,n)=>{let o=!1;t.subscribe(De(n,c=>{o=!0,n.next(c)},()=>o?n.complete():n.error(e())))})}function ly(){return new Ln}function eo(e){return Ee((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function In(e,t){let n=arguments.length>=2;return o=>o.pipe(e?vt((c,d)=>e(c,d,o)):Vt,at(1),n?rr(t):Ls(()=>new Ln))}function oi(e){return e<=0?()=>Tt:Ee((t,n)=>{let o=[];t.subscribe(De(n,c=>{o.push(c),e<o.length&&o.shift()},()=>{for(let c of o)n.next(c);n.complete()},void 0,()=>{o=null}))})}function el(e,t){let n=arguments.length>=2;return o=>o.pipe(e?vt((c,d)=>e(c,d,o)):Vt,oi(1),n?rr(t):Ls(()=>new Ln))}function rh(e,t){let n=J(e)?e:()=>e;return J(t)?Os(t,{connector:n}):o=>new er(o,n)}function tl(e){return e?t=>Os(e)(t):t=>rh(new rt)(t)}function nl(e,t){return Ee(eh(e,t,arguments.length>=2,!0))}function rl(...e){let t=Cn(e);return Ee((n,o)=>{(t?En(e,n,t):En(e,n)).subscribe(o)})}function Dt(e,t){return Ee((n,o)=>{let c=null,d=0,h=!1,w=()=>h&&!c&&o.complete();n.subscribe(De(o,x=>{c?.unsubscribe();let y=0,v=d++;We(e(x,v)).subscribe(c=De(o,b=>o.next(t?t(x,b,v,y++):b),()=>{c=null,w()}))},()=>{h=!0,w()}))})}function il(e){return Ee((t,n)=>{We(e).subscribe(De(n,()=>n.complete(),On)),!n.closed&&t.subscribe(n)})}function ct(e,t,n){let o=J(e)||t||n?{next:e,error:t,complete:n}:e;return o?Ee((c,d)=>{var h;(h=o.subscribe)===null||h===void 0||h.call(o);let w=!0;c.subscribe(De(d,x=>{var y;(y=o.next)===null||y===void 0||y.call(o,x),d.next(x)},()=>{var x;w=!1,(x=o.complete)===null||x===void 0||x.call(o),d.complete()},x=>{var y;w=!1,(y=o.error)===null||y===void 0||y.call(o,x),d.error(x)},()=>{var x,y;w&&((x=o.unsubscribe)===null||x===void 0||x.call(o)),(y=o.finalize)===null||y===void 0||y.call(o)}))}):Vt}var oe=class extends Error{constructor(t,n){super(Xl(t,n)),this.code=t}};function Xl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ca(e){return{toString:e}.toString()}var Ps="__parameters__";function uy(e){return function(...n){if(e){let o=e(...n);for(let c in o)this[c]=o[c]}}}function Uh(e,t,n){return ca(()=>{let o=uy(t);function c(...d){if(this instanceof c)return o.apply(this,d),this;let h=new c(...d);return w.annotation=h,w;function w(x,y,v){let b=x.hasOwnProperty(Ps)?x[Ps]:Object.defineProperty(x,Ps,{value:[]})[Ps];for(;b.length<=v;)b.push(null);return(b[v]=b[v]||[]).push(h),x}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}function He(e){for(let t in e)if(e[t]===He)return t;throw Error("Could not find renamed property on target object.")}function kt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(kt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function ih(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var dy=He({__forward_ref__:He});function Vh(e){return e.__forward_ref__=Vh,e.toString=function(){return kt(this())},e}function Zt(e){return Hh(e)?e():e}function Hh(e){return typeof e=="function"&&e.hasOwnProperty(dy)&&e.__forward_ref__===Vh}function se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function la(e){return oh(e,Gh)||oh(e,Wh)}function zh(e){return la(e)!==null}function oh(e,t){return e.hasOwnProperty(t)?e[t]:null}function fy(e){let t=e&&(e[Gh]||e[Wh]);return t||null}function sh(e){return e&&(e.hasOwnProperty(ah)||e.hasOwnProperty(hy))?e[ah]:null}var Gh=He({\u0275prov:He}),ah=He({\u0275inj:He}),Wh=He({ngInjectableDef:He}),hy=He({ngInjectorDef:He}),pe=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $h(e){return e&&!!e.\u0275providers}var py=He({\u0275cmp:He}),gy=He({\u0275dir:He}),my=He({\u0275pipe:He}),yy=He({\u0275mod:He}),Hs=He({\u0275fac:He}),ro=He({__NG_ELEMENT_ID__:He}),ch=He({__NG_ENV_ID__:He});function Yh(e){return typeof e=="string"?e:e==null?"":String(e)}function wy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Yh(e)}function xy(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new oe(-200,e)}function Ql(e,t){throw new oe(-201,!1)}var xe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xe||{}),hl;function Zh(){return hl}function Yt(e){let t=hl;return hl=e,t}function qh(e,t,n){let o=la(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&xe.Optional)return null;if(t!==void 0)return t;Ql(e,"Injector")}var Cy={},io=Cy,pl="__NG_DI_FLAG__",zs="ngTempTokenPath",Ey="ngTokenPath",Iy=/\n/gm,vy="\u0275",lh="__source",li;function Dy(){return li}function ir(e){let t=li;return li=e,t}function Ay(e,t=xe.Default){if(li===void 0)throw new oe(-203,!1);return li===null?qh(e,void 0,t):li.get(e,t&xe.Optional?null:void 0,t)}function Ie(e,t=xe.Default){return(Zh()||Ay)(Zt(e),t)}function W(e,t=xe.Default){return Ie(e,ua(t))}function ua(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gl(e){let t=[];for(let n=0;n<e.length;n++){let o=Zt(e[n]);if(Array.isArray(o)){if(o.length===0)throw new oe(900,!1);let c,d=xe.Default;for(let h=0;h<o.length;h++){let w=o[h],x=by(w);typeof x=="number"?x===-1?c=w.token:d|=x:c=w}t.push(Ie(c,d))}else t.push(Ie(o))}return t}function Xh(e,t){return e[pl]=t,e.prototype[pl]=t,e}function by(e){return e[pl]}function Sy(e,t,n,o){let c=e[zs];throw t[lh]&&c.unshift(t[lh]),e.message=Ty(`
`+e.message,c,n,o),e[Ey]=c,e[zs]=null,e}function Ty(e,t,n,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==vy?e.slice(2):e;let c=kt(t);if(Array.isArray(t))c=t.map(kt).join(" -> ");else if(typeof t=="object"){let d=[];for(let h in t)if(t.hasOwnProperty(h)){let w=t[h];d.push(h+":"+(typeof w=="string"?JSON.stringify(w):kt(w)))}c=`{${d.join(", ")}}`}return`${n}${o?"("+o+")":""}[${c}]: ${e.replace(Iy,`
  `)}`}var Kl=Xh(Uh("Optional"),8);var Qh=Xh(Uh("SkipSelf"),4);function di(e,t){let n=e.hasOwnProperty(Hs);return n?e[Hs]:null}function Jl(e,t){e.forEach(n=>Array.isArray(n)?Jl(n,t):t(n))}function Kh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Gs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var oo={},fi=[],hi=new pe(""),Jh=new pe("",-1),ep=new pe(""),Ws=class{get(t,n=io){if(n===io){let o=new Error(`NullInjectorError: No provider for ${kt(t)}!`);throw o.name="NullInjectorError",o}return n}},tp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(tp||{}),An=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(An||{}),ar=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ar||{});function My(e,t,n){let o=e.length;for(;;){let c=e.indexOf(t,n);if(c===-1)return c;if(c===0||e.charCodeAt(c-1)<=32){let d=t.length;if(c+d===o||e.charCodeAt(c+d)<=32)return c}n=c+1}}function ml(e,t,n){let o=0;for(;o<n.length;){let c=n[o];if(typeof c=="number"){if(c!==0)break;o++;let d=n[o++],h=n[o++],w=n[o++];e.setAttribute(t,h,w,d)}else{let d=c,h=n[++o];_y(d)?e.setProperty(t,d,h):e.setAttribute(t,d,h),o++}}return o}function Ny(e){return e===3||e===4||e===6}function _y(e){return e.charCodeAt(0)===64}function eu(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){let c=t[o];typeof c=="number"?n=c:n===0||(n===-1||n===2?uh(e,n,c,null,t[++o]):uh(e,n,c,null,null))}}return e}function uh(e,t,n,o,c){let d=0,h=e.length;if(t===-1)h=-1;else for(;d<e.length;){let w=e[d++];if(typeof w=="number"){if(w===t){h=-1;break}else if(w>t){h=d-1;break}}}for(;d<e.length;){let w=e[d];if(typeof w=="number")break;if(w===n){if(o===null){c!==null&&(e[d+1]=c);return}else if(o===e[d+1]){e[d+2]=c;return}}d++,o!==null&&d++,c!==null&&d++}h!==-1&&(e.splice(h,0,t),d=h+1),e.splice(d++,0,n),o!==null&&e.splice(d++,0,o),c!==null&&e.splice(d++,0,c)}var np="ng-template";function Ry(e,t,n,o){let c=0;if(o){for(;c<t.length&&typeof t[c]=="string";c+=2)if(t[c]==="class"&&My(t[c+1].toLowerCase(),n,0)!==-1)return!0}else if(tu(e))return!1;if(c=t.indexOf(1,c),c>-1){let d;for(;++c<t.length&&typeof(d=t[c])=="string";)if(d.toLowerCase()===n)return!0}return!1}function tu(e){return e.type===4&&e.value!==np}function Oy(e,t,n){let o=e.type===4&&!n?np:e.value;return t===o}function Ly(e,t,n){let o=4,c=e.attrs,d=c!==null?ky(c):0,h=!1;for(let w=0;w<t.length;w++){let x=t[w];if(typeof x=="number"){if(!h&&!dn(o)&&!dn(x))return!1;if(h&&dn(x))continue;h=!1,o=x|o&1;continue}if(!h)if(o&4){if(o=2|o&1,x!==""&&!Oy(e,x,n)||x===""&&t.length===1){if(dn(o))return!1;h=!0}}else if(o&8){if(c===null||!Ry(e,c,x,n)){if(dn(o))return!1;h=!0}}else{let y=t[++w],v=Py(x,c,tu(e),n);if(v===-1){if(dn(o))return!1;h=!0;continue}if(y!==""){let b;if(v>d?b="":b=c[v+1].toLowerCase(),o&2&&y!==b){if(dn(o))return!1;h=!0}}}}return dn(o)||h}function dn(e){return(e&1)===0}function Py(e,t,n,o){if(t===null)return-1;let c=0;if(o||!n){let d=!1;for(;c<t.length;){let h=t[c];if(h===e)return c;if(h===3||h===6)d=!0;else if(h===1||h===2){let w=t[++c];for(;typeof w=="string";)w=t[++c];continue}else{if(h===4)break;if(h===0){c+=4;continue}}c+=d?1:2}return-1}else return By(t,e)}function Fy(e,t,n=!1){for(let o=0;o<t.length;o++)if(Ly(e,t[o],n))return!0;return!1}function ky(e){for(let t=0;t<e.length;t++){let n=e[t];if(Ny(n))return t}return e.length}function By(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let o=e[n];if(typeof o=="number")return-1;if(o===t)return n;n++}return-1}function dh(e,t){return e?":not("+t.trim()+")":t}function jy(e){let t=e[0],n=1,o=2,c="",d=!1;for(;n<e.length;){let h=e[n];if(typeof h=="string")if(o&2){let w=e[++n];c+="["+h+(w.length>0?'="'+w+'"':"")+"]"}else o&8?c+="."+h:o&4&&(c+=" "+h);else c!==""&&!dn(h)&&(t+=dh(d,c),c=""),o=h,d=d||!dn(o);n++}return c!==""&&(t+=dh(d,c)),t}function Uy(e){return e.map(jy).join(",")}function Vy(e){let t=[],n=[],o=1,c=2;for(;o<e.length;){let d=e[o];if(typeof d=="string")c===2?d!==""&&t.push(d,e[++o]):c===8&&n.push(d);else{if(!dn(c))break;c=d}o++}return{attrs:t,classes:n}}function da(e){return ca(()=>{let t=ap(e),n=Je(Q({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||An.Emulated,styles:e.styles||fi,_:null,schemas:e.schemas||null,tView:null,id:""});cp(n);let o=e.dependencies;return n.directiveDefs=hh(o,!1),n.pipeDefs=hh(o,!0),n.id=Gy(n),n})}function Hy(e){return Sr(e)||rp(e)}function zy(e){return e!==null}function fh(e,t){if(e==null)return oo;let n={};for(let o in e)if(e.hasOwnProperty(o)){let c=e[o],d,h,w=ar.None;Array.isArray(c)?(w=c[0],d=c[1],h=c[2]??d):(d=c,h=c),t?(n[d]=w!==ar.None?[o,w]:o,t[d]=h):n[d]=o}return n}function ho(e){return ca(()=>{let t=ap(e);return cp(t),t})}function Sr(e){return e[py]||null}function rp(e){return e[gy]||null}function ip(e){return e[my]||null}function op(e){let t=Sr(e)||rp(e)||ip(e);return t!==null?t.standalone:!1}function sp(e,t){let n=e[yy]||null;if(!n&&t===!0)throw new Error(`Type ${kt(e)} does not have '\u0275mod' property.`);return n}function ap(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||oo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||fi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fh(e.inputs,t),outputs:fh(e.outputs),debugInfo:null}}function cp(e){e.features?.forEach(t=>t(e))}function hh(e,t){if(!e)return null;let n=t?ip:Hy;return()=>(typeof e=="function"?e():e).map(o=>n(o)).filter(zy)}function Gy(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let c of n)t=Math.imul(31,t)+c.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ci(e){return{\u0275providers:e}}function Wy(...e){return{\u0275providers:lp(!0,e),\u0275fromNgModule:!0}}function lp(e,...t){let n=[],o=new Set,c,d=h=>{n.push(h)};return Jl(t,h=>{let w=h;yl(w,d,[],o)&&(c||=[],c.push(w))}),c!==void 0&&up(c,d),n}function up(e,t){for(let n=0;n<e.length;n++){let{ngModule:o,providers:c}=e[n];nu(c,d=>{t(d,o)})}}function yl(e,t,n,o){if(e=Zt(e),!e)return!1;let c=null,d=sh(e),h=!d&&Sr(e);if(!d&&!h){let x=e.ngModule;if(d=sh(x),d)c=x;else return!1}else{if(h&&!h.standalone)return!1;c=e}let w=o.has(c);if(h){if(w)return!1;if(o.add(c),h.dependencies){let x=typeof h.dependencies=="function"?h.dependencies():h.dependencies;for(let y of x)yl(y,t,n,o)}}else if(d){if(d.imports!=null&&!w){o.add(c);let y;try{Jl(d.imports,v=>{yl(v,t,n,o)&&(y||=[],y.push(v))})}finally{}y!==void 0&&up(y,t)}if(!w){let y=di(c)||(()=>new c);t({provide:c,useFactory:y,deps:fi},c),t({provide:ep,useValue:c,multi:!0},c),t({provide:hi,useValue:()=>Ie(c),multi:!0},c)}let x=d.providers;if(x!=null&&!w){let y=e;nu(x,v=>{t(v,y)})}}else return!1;return c!==e&&e.providers!==void 0}function nu(e,t){for(let n of e)$h(n)&&(n=n.\u0275providers),Array.isArray(n)?nu(n,t):t(n)}var $y=He({provide:String,useValue:He});function dp(e){return e!==null&&typeof e=="object"&&$y in e}function Yy(e){return!!(e&&e.useExisting)}function Zy(e){return!!(e&&e.useFactory)}function wl(e){return typeof e=="function"}var fa=new pe(""),ks={},qy={},ol;function ru(){return ol===void 0&&(ol=new Ws),ol}var Qt=class{},so=class extends Qt{get destroyed(){return this._destroyed}constructor(t,n,o,c){super(),this.parent=n,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cl(t,h=>this.processProvider(h)),this.records.set(Jh,si(void 0,this)),c.has("environment")&&this.records.set(Qt,si(void 0,this));let d=this.records.get(fa);d!=null&&typeof d.value=="string"&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ep,fi,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Le(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Le(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=ir(this),o=Yt(void 0),c;try{return t()}finally{ir(n),Yt(o)}}get(t,n=io,o=xe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ch))return t[ch](this);o=ua(o);let c,d=ir(this),h=Yt(void 0);try{if(!(o&xe.SkipSelf)){let x=this.records.get(t);if(x===void 0){let y=tw(t)&&la(t);y&&this.injectableDefInScope(y)?x=si(xl(t),ks):x=null,this.records.set(t,x)}if(x!=null)return this.hydrate(t,x)}let w=o&xe.Self?ru():this.parent;return n=o&xe.Optional&&n===io?null:n,w.get(t,n)}catch(w){if(w.name==="NullInjectorError"){if((w[zs]=w[zs]||[]).unshift(kt(t)),d)throw w;return Sy(w,t,"R3InjectorError",this.source)}else throw w}finally{Yt(h),ir(d)}}resolveInjectorInitializers(){let t=Le(null),n=ir(this),o=Yt(void 0),c;try{let d=this.get(hi,fi,xe.Self);for(let h of d)h()}finally{ir(n),Yt(o),Le(t)}}toString(){let t=[],n=this.records;for(let o of n.keys())t.push(kt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(t){t=Zt(t);let n=wl(t)?t:Zt(t&&t.provide),o=Qy(t);if(!wl(t)&&t.multi===!0){let c=this.records.get(n);c||(c=si(void 0,ks,!0),c.factory=()=>gl(c.multi),this.records.set(n,c)),n=t,c.multi.push(t)}this.records.set(n,o)}hydrate(t,n){let o=Le(null);try{return n.value===ks&&(n.value=qy,n.value=n.factory()),typeof n.value=="object"&&n.value&&ew(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Le(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Zt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xl(e){let t=la(e),n=t!==null?t.factory:di(e);if(n!==null)return n;if(e instanceof pe)throw new oe(204,!1);if(e instanceof Function)return Xy(e);throw new oe(204,!1)}function Xy(e){if(e.length>0)throw new oe(204,!1);let n=fy(e);return n!==null?()=>n.factory(e):()=>new e}function Qy(e){if(dp(e))return si(void 0,e.useValue);{let t=Ky(e);return si(t,ks)}}function Ky(e,t,n){let o;if(wl(e)){let c=Zt(e);return di(c)||xl(c)}else if(dp(e))o=()=>Zt(e.useValue);else if(Zy(e))o=()=>e.useFactory(...gl(e.deps||[]));else if(Yy(e))o=()=>Ie(Zt(e.useExisting));else{let c=Zt(e&&(e.useClass||e.provide));if(Jy(e))o=()=>new c(...gl(e.deps));else return di(c)||xl(c)}return o}function si(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Jy(e){return!!e.deps}function ew(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function tw(e){return typeof e=="function"||typeof e=="object"&&e instanceof pe}function Cl(e,t){for(let n of e)Array.isArray(n)?Cl(n,t):n&&$h(n)?Cl(n.\u0275providers,t):t(n)}function Bn(e,t){e instanceof so&&e.assertNotDestroyed();let n,o=ir(e),c=Yt(void 0);try{return t()}finally{ir(o),Yt(c)}}function nw(){return Zh()!==void 0||Dy()!=null}function rw(e){return typeof e=="function"}var jn=0,be=1,de=2,Nt=3,fn=4,pn=5,$s=6,Ys=7,hn=8,pi=9,Pn=10,_t=11,ao=12,ph=13,Ei=14,bn=15,gi=16,ai=17,mi=18,ha=19,fp=20,or=21,sl=22,qt=23,cr=25,hp=1;var Tr=7,Zs=8,qs=9,Xt=10,Xs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Xs||{});function sr(e){return Array.isArray(e)&&typeof e[hp]=="object"}function Un(e){return Array.isArray(e)&&e[hp]===!0}function pp(e){return(e.flags&4)!==0}function pa(e){return e.componentOffset>-1}function iu(e){return(e.flags&1)===1}function po(e){return!!e.template}function El(e){return(e[de]&512)!==0}var Il=class{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function gp(e,t,n,o){t!==null?t.applyValueToInputSignal(t,o):e[n]=o}function ga(){return mp}function mp(e){return e.type.prototype.ngOnChanges&&(e.setInput=ow),iw}ga.ngInherit=!0;function iw(){let e=wp(this),t=e?.current;if(t){let n=e.previous;if(n===oo)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function ow(e,t,n,o,c){let d=this.declaredInputs[o],h=wp(e)||sw(e,{previous:oo,current:null}),w=h.current||(h.current={}),x=h.previous,y=x[d];w[d]=new Il(y&&y.currentValue,n,x===oo),gp(e,t,c,n)}var yp="__ngSimpleChanges__";function wp(e){return e[yp]||null}function sw(e,t){return e[yp]=t}var gh=null;var vn=function(e,t,n){gh?.(e,t,n)},aw="svg",cw="math";function Sn(e){for(;Array.isArray(e);)e=e[jn];return e}function lw(e,t){return Sn(t[e])}function gn(e,t){return Sn(t[e.index])}function xp(e,t){return e.data[t]}function ur(e,t){let n=t[e];return sr(n)?n:n[jn]}function ou(e){return(e[de]&128)===128}function uw(e){return Un(e[Nt])}function Qs(e,t){return t==null?null:e[t]}function Cp(e){e[ai]=0}function Ep(e){e[de]&1024||(e[de]|=1024,ou(e)&&ya(e))}function dw(e,t){for(;e>0;)t=t[Ei],e--;return t}function ma(e){return!!(e[de]&9216||e[qt]?.dirty)}function vl(e){e[Pn].changeDetectionScheduler?.notify(8),e[de]&64&&(e[de]|=1024),ma(e)&&ya(e)}function ya(e){e[Pn].changeDetectionScheduler?.notify(0);let t=Mr(e);for(;t!==null&&!(t[de]&8192||(t[de]|=8192,!ou(t)));)t=Mr(t)}function Ip(e,t){if((e[de]&256)===256)throw new oe(911,!1);e[or]===null&&(e[or]=[]),e[or].push(t)}function fw(e,t){if(e[or]===null)return;let n=e[or].indexOf(t);n!==-1&&e[or].splice(n,1)}function Mr(e){let t=e[Nt];return Un(t)?t[Nt]:t}var Se={lFrame:Lp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vp=!1;function hw(){return Se.lFrame.elementDepthCount}function pw(){Se.lFrame.elementDepthCount++}function gw(){Se.lFrame.elementDepthCount--}function Dp(){return Se.bindingsEnabled}function mw(){return Se.skipHydrationRootTNode!==null}function yw(e){return Se.skipHydrationRootTNode===e}function ww(){Se.skipHydrationRootTNode=null}function ot(){return Se.lFrame.lView}function Or(){return Se.lFrame.tView}function Ap(e){return Se.lFrame.contextLView=e,e[hn]}function bp(e){return Se.lFrame.contextLView=null,e}function Kt(){let e=Sp();for(;e!==null&&e.type===64;)e=e.parent;return e}function Sp(){return Se.lFrame.currentTNode}function xw(){let e=Se.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function go(e,t){let n=Se.lFrame;n.currentTNode=e,n.isParent=t}function Tp(){return Se.lFrame.isParent}function Cw(){Se.lFrame.isParent=!1}function Mp(){return vp}function mh(e){vp=e}function Ew(){let e=Se.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Iw(e){return Se.lFrame.bindingIndex=e}function Np(){return Se.lFrame.bindingIndex++}function vw(){return Se.lFrame.inI18n}function Dw(e,t){let n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=e,Dl(t)}function Aw(){return Se.lFrame.currentDirectiveIndex}function Dl(e){Se.lFrame.currentDirectiveIndex=e}function _p(e){Se.lFrame.currentQueryIndex=e}function bw(e){let t=e[be];return t.type===2?t.declTNode:t.type===1?e[pn]:null}function Rp(e,t,n){if(n&xe.SkipSelf){let c=t,d=e;for(;c=c.parent,c===null&&!(n&xe.Host);)if(c=bw(d),c===null||(d=d[Ei],c.type&10))break;if(c===null)return!1;t=c,e=d}let o=Se.lFrame=Op();return o.currentTNode=t,o.lView=e,!0}function su(e){let t=Op(),n=e[be];Se.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Op(){let e=Se.lFrame,t=e===null?null:e.child;return t===null?Lp(e):t}function Lp(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Pp(){let e=Se.lFrame;return Se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Fp=Pp;function au(){let e=Pp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sw(e){return(Se.lFrame.contextLView=dw(e,Se.lFrame.contextLView))[hn]}function cu(){return Se.lFrame.selectedIndex}function Nr(e){Se.lFrame.selectedIndex=e}function Tw(){let e=Se.lFrame;return xp(e.tView,e.selectedIndex)}function Mw(){return Se.lFrame.currentNamespace}var kp=!0;function lu(){return kp}function uu(e){kp=e}function Nw(e,t,n){let{ngOnChanges:o,ngOnInit:c,ngDoCheck:d}=t.type.prototype;if(o){let h=mp(t);(n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h)}c&&(n.preOrderHooks??=[]).push(0-e,c),d&&((n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d))}function du(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){let d=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:y,ngOnDestroy:v}=d;h&&(e.contentHooks??=[]).push(-n,h),w&&((e.contentHooks??=[]).push(n,w),(e.contentCheckHooks??=[]).push(n,w)),x&&(e.viewHooks??=[]).push(-n,x),y&&((e.viewHooks??=[]).push(n,y),(e.viewCheckHooks??=[]).push(n,y)),v!=null&&(e.destroyHooks??=[]).push(n,v)}}function Bs(e,t,n){Bp(e,t,3,n)}function js(e,t,n,o){(e[de]&3)===n&&Bp(e,t,n,o)}function al(e,t){let n=e[de];(n&3)===t&&(n&=16383,n+=1,e[de]=n)}function Bp(e,t,n,o){let c=o!==void 0?e[ai]&65535:0,d=o??-1,h=t.length-1,w=0;for(let x=c;x<h;x++)if(typeof t[x+1]=="number"){if(w=t[x],o!=null&&w>=o)break}else t[x]<0&&(e[ai]+=65536),(w<d||d==-1)&&(_w(e,n,t,x),e[ai]=(e[ai]&4294901760)+x+2),x++}function yh(e,t){vn(4,e,t);let n=Le(null);try{t.call(e)}finally{Le(n),vn(5,e,t)}}function _w(e,t,n,o){let c=n[o]<0,d=n[o+1],h=c?-n[o]:n[o],w=e[h];c?e[de]>>14<e[ai]>>16&&(e[de]&3)===t&&(e[de]+=16384,yh(w,d)):yh(w,d)}var ui=-1,co=class{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}};function Rw(e){return e instanceof co}function Ow(e){return(e.flags&8)!==0}function Lw(e){return(e.flags&16)!==0}var cl={},Al=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=ua(o);let c=this.injector.get(t,cl,o);return c!==cl||n===cl?c:this.parentInjector.get(t,n,o)}};function jp(e){return e!==ui}function Ks(e){return e&32767}function Pw(e){return e>>16}function Js(e,t){let n=Pw(e),o=t;for(;n>0;)o=o[Ei],n--;return o}var bl=!0;function wh(e){let t=bl;return bl=e,t}var Fw=256,Up=Fw-1,Vp=5,kw=0,Dn={};function Bw(e,t,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(ro)&&(o=n[ro]),o==null&&(o=n[ro]=kw++);let c=o&Up,d=1<<c;t.data[e+(c>>Vp)]|=d}function Hp(e,t){let n=zp(e,t);if(n!==-1)return n;let o=t[be];o.firstCreatePass&&(e.injectorIndex=t.length,ll(o.data,e),ll(t,null),ll(o.blueprint,null));let c=fu(e,t),d=e.injectorIndex;if(jp(c)){let h=Ks(c),w=Js(c,t),x=w[be].data;for(let y=0;y<8;y++)t[d+y]=w[h+y]|x[h+y]}return t[d+8]=c,d}function ll(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zp(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function fu(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,o=null,c=t;for(;c!==null;){if(o=Zp(c),o===null)return ui;if(n++,c=c[Ei],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return ui}function jw(e,t,n){Bw(e,t,n)}function Gp(e,t,n){if(n&xe.Optional||e!==void 0)return e;Ql(t,"NodeInjector")}function Wp(e,t,n,o){if(n&xe.Optional&&o===void 0&&(o=null),!(n&(xe.Self|xe.Host))){let c=e[pi],d=Yt(void 0);try{return c?c.get(t,o,n&xe.Optional):qh(t,o,n&xe.Optional)}finally{Yt(d)}}return Gp(o,t,n)}function $p(e,t,n,o=xe.Default,c){if(e!==null){if(t[de]&2048&&!(o&xe.Self)){let h=Gw(e,t,n,o,Dn);if(h!==Dn)return h}let d=Yp(e,t,n,o,Dn);if(d!==Dn)return d}return Wp(t,n,o,c)}function Yp(e,t,n,o,c){let d=Hw(n);if(typeof d=="function"){if(!Rp(t,e,o))return o&xe.Host?Gp(c,n,o):Wp(t,n,o,c);try{let h;if(h=d(o),h==null&&!(o&xe.Optional))Ql(n);else return h}finally{Fp()}}else if(typeof d=="number"){let h=null,w=zp(e,t),x=ui,y=o&xe.Host?t[bn][pn]:null;for((w===-1||o&xe.SkipSelf)&&(x=w===-1?fu(e,t):t[w+8],x===ui||!Ch(o,!1)?w=-1:(h=t[be],w=Ks(x),t=Js(x,t)));w!==-1;){let v=t[be];if(xh(d,w,v.data)){let b=Uw(w,t,n,h,o,y);if(b!==Dn)return b}x=t[w+8],x!==ui&&Ch(o,t[be].data[w+8]===y)&&xh(d,w,t)?(h=v,w=Ks(x),t=Js(x,t)):w=-1}}return c}function Uw(e,t,n,o,c,d){let h=t[be],w=h.data[e+8],x=o==null?pa(w)&&bl:o!=h&&(w.type&3)!==0,y=c&xe.Host&&d===w,v=Vw(w,h,n,x,y);return v!==null?lo(t,h,v,w):Dn}function Vw(e,t,n,o,c){let d=e.providerIndexes,h=t.data,w=d&1048575,x=e.directiveStart,y=e.directiveEnd,v=d>>20,b=o?w:w+v,k=c?w+v:y;for(let O=b;O<k;O++){let G=h[O];if(O<x&&n===G||O>=x&&G.type===n)return O}if(c){let O=h[x];if(O&&po(O)&&O.type===n)return x}return null}function lo(e,t,n,o){let c=e[n],d=t.data;if(Rw(c)){let h=c;h.resolving&&xy(wy(d[n]));let w=wh(h.canSeeViewProviders);h.resolving=!0;let x,y=h.injectImpl?Yt(h.injectImpl):null,v=Rp(e,o,xe.Default);try{c=e[n]=h.factory(void 0,d,e,o),t.firstCreatePass&&n>=o.directiveStart&&Nw(n,d[n],t)}finally{y!==null&&Yt(y),wh(w),h.resolving=!1,Fp()}}return c}function Hw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ro)?e[ro]:void 0;return typeof t=="number"?t>=0?t&Up:zw:t}function xh(e,t,n){let o=1<<e;return!!(n[t+(e>>Vp)]&o)}function Ch(e,t){return!(e&xe.Self)&&!(e&xe.Host&&t)}var br=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return $p(this._tNode,this._lView,t,ua(o),n)}};function zw(){return new br(Kt(),ot())}function hu(e){return ca(()=>{let t=e.prototype.constructor,n=t[Hs]||Sl(t),o=Object.prototype,c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){let d=c[Hs]||Sl(c);if(d&&d!==n)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Sl(e){return Hh(e)?()=>{let t=Sl(Zt(e));return t&&t()}:di(e)}function Gw(e,t,n,o,c){let d=e,h=t;for(;d!==null&&h!==null&&h[de]&2048&&!(h[de]&512);){let w=Yp(d,h,n,o|xe.Self,Dn);if(w!==Dn)return w;let x=d.parent;if(!x){let y=h[fp];if(y){let v=y.get(n,Dn,o);if(v!==Dn)return v}x=Zp(h),h=h[Ei]}d=x}return c}function Zp(e){let t=e[be],n=t.type;return n===2?t.declTNode:n===1?e[pn]:null}function Eh(e,t=null,n=null,o){let c=qp(e,t,n,o);return c.resolveInjectorInitializers(),c}function qp(e,t=null,n=null,o,c=new Set){let d=[n||fi,Wy(e)];return o=o||(typeof e=="object"?void 0:kt(e)),new so(d,t||ru(),o||null,c)}var Fn=class e{static{this.THROW_IF_NOT_FOUND=io}static{this.NULL=new Ws}static create(t,n){if(Array.isArray(t))return Eh({name:""},n,t,"");{let o=t.name??"";return Eh({name:o},t.parent,t.providers,o)}}static{this.\u0275prov=se({token:e,providedIn:"any",factory:()=>Ie(Jh)})}static{this.__NG_ELEMENT_ID__=-1}};var Ww=new pe("");Ww.__NG_ELEMENT_ID__=e=>{let t=Kt();if(t===null)throw new oe(204,!1);if(t.type&2)return t.value;if(e&xe.Optional)return null;throw new oe(204,!1)};var $w="ngOriginalError";function ul(e){return e[$w]}var Xp=!0,Qp=(()=>{class e{static{this.__NG_ELEMENT_ID__=Yw}static{this.__NG_ENV_ID__=n=>n}}return e})(),Tl=class extends Qp{constructor(t){super(),this._lView=t}onDestroy(t){return Ip(this._lView,t),()=>fw(this._lView,t)}};function Yw(){return new Tl(ot())}var Ii=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Ml=class extends rt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,nw()&&(this.destroyRef=W(Qp,{optional:!0})??void 0,this.pendingTasks=W(Ii,{optional:!0})??void 0)}emit(t){let n=Le(null);try{super.next(t)}finally{Le(n)}}subscribe(t,n,o){let c=t,d=n||(()=>null),h=o;if(t&&typeof t=="object"){let x=t;c=x.next?.bind(x),d=x.error?.bind(x),h=x.complete?.bind(x)}this.__isAsync&&(d=this.wrapInTimeout(d),c&&(c=this.wrapInTimeout(c)),h&&(h=this.wrapInTimeout(h)));let w=super.subscribe({next:c,error:d,complete:h});return t instanceof et&&t.add(w),w}wrapInTimeout(t){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{t(n),o!==void 0&&this.pendingTasks?.remove(o)})}}},Mt=Ml;function ea(...e){}function Kp(e){let t,n;function o(){e=ea;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Ih(e){return queueMicrotask(()=>e()),()=>{e=ea}}var pu="isAngularZone",ta=pu+"_ID",Zw=0,tt=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:d=Xp}=t;if(typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();let h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&o,h.shouldCoalesceRunChangeDetection=c,h.callbackScheduled=!1,h.scheduleInRootZone=d,Qw(h)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new oe(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,c){let d=this._inner,h=d.scheduleEventTask("NgZoneEvent: "+c,t,qw,ea,ea);try{return d.runTask(h,n,o)}finally{d.cancelTask(h)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}},qw={};function gu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Kp(()=>{e.callbackScheduled=!1,Nl(e),e.isCheckStableRunning=!0,gu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Nl(e)}function Qw(e){let t=()=>{Xw(e)},n=Zw++;e._inner=e._inner.fork({name:"angular",properties:{[pu]:!0,[ta]:n,[ta+n]:!0},onInvokeTask:(o,c,d,h,w,x)=>{if(Kw(x))return o.invokeTask(d,h,w,x);try{return vh(e),o.invokeTask(d,h,w,x)}finally{(e.shouldCoalesceEventChangeDetection&&h.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Dh(e)}},onInvoke:(o,c,d,h,w,x,y)=>{try{return vh(e),o.invoke(d,h,w,x,y)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Jw(x)&&t(),Dh(e)}},onHasTask:(o,c,d,h)=>{o.hasTask(d,h),c===d&&(h.change=="microTask"?(e._hasPendingMicrotasks=h.microTask,Nl(e),gu(e)):h.change=="macroTask"&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,d,h)=>(o.handleError(d,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}function Nl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function vh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dh(e){e._nesting--,gu(e)}var _l=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,c){return t.apply(n,o)}};function Kw(e){return Jp(e,"__ignore_ng_zone__")}function Jw(e){return Jp(e,"__scheduler_tick__")}function Jp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var kn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ul(t);for(;n&&ul(n);)n=ul(n);return n||null}},ex=new pe("",{providedIn:"root",factory:()=>{let e=W(tt),t=W(kn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function tx(){return wa(Kt(),ot())}function wa(e,t){return new mo(gn(e,t))}var mo=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=tx}}return e})();function eg(e){return(e.flags&128)===128}var tg=new Map,nx=0;function rx(){return nx++}function ix(e){tg.set(e[ha],e)}function Rl(e){tg.delete(e[ha])}var Ah="__ngContext__";function _r(e,t){sr(t)?(e[Ah]=t[ha],ix(t)):e[Ah]=t}function ng(e){return ig(e[ao])}function rg(e){return ig(e[fn])}function ig(e){for(;e!==null&&!Un(e);)e=e[fn];return e}var Ol;function og(e){Ol=e}function ox(){if(Ol!==void 0)return Ol;if(typeof document<"u")return document;throw new oe(210,!1)}var mu=new pe("",{providedIn:"root",factory:()=>sx}),sx="ng",yu=new pe(""),Vn=new pe("",{providedIn:"platform",factory:()=>"unknown"});var wu=new pe("",{providedIn:"root",factory:()=>ox().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ax="h",cx="b";var lx=()=>null;function xu(e,t,n=!1){return lx(e,t,n)}var sg=!1,ux=new pe("",{providedIn:"root",factory:()=>sg});function xa(e){return e.ownerDocument.defaultView}function ag(e){return e instanceof Function?e():e}var dr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dr||{}),dx;function Cu(e,t){return dx(e,t)}function ci(e,t,n,o,c){if(o!=null){let d,h=!1;Un(o)?d=o:sr(o)&&(h=!0,o=o[jn]);let w=Sn(o);e===0&&n!==null?c==null?fg(t,n,w):na(t,n,w,c||null,!0):e===1&&n!==null?na(t,n,w,c||null,!0):e===2?bx(t,w,h):e===3&&t.destroyNode(w),d!=null&&Tx(t,e,d,n,c)}}function fx(e,t){return e.createText(t)}function hx(e,t,n){e.setValue(t,n)}function cg(e,t,n){return e.createElement(t,n)}function px(e,t){lg(e,t),t[jn]=null,t[pn]=null}function gx(e,t,n,o,c,d){o[jn]=c,o[pn]=t,Ca(e,o,n,1,c,d)}function lg(e,t){t[Pn].changeDetectionScheduler?.notify(9),Ca(e,t,t[_t],2,null,null)}function mx(e){let t=e[ao];if(!t)return dl(e[be],e);for(;t;){let n=null;if(sr(t))n=t[ao];else{let o=t[Xt];o&&(n=o)}if(!n){for(;t&&!t[fn]&&t!==e;)sr(t)&&dl(t[be],t),t=t[Nt];t===null&&(t=e),sr(t)&&dl(t[be],t),n=t&&t[fn]}t=n}}function yx(e,t,n,o){let c=Xt+o,d=n.length;o>0&&(n[c-1][fn]=t),o<d-Xt?(t[fn]=n[c],Kh(n,Xt+o,t)):(n.push(t),t[fn]=null),t[Nt]=n;let h=t[gi];h!==null&&n!==h&&ug(h,t);let w=t[mi];w!==null&&w.insertView(e),vl(t),t[de]|=128}function ug(e,t){let n=e[qs],o=t[Nt];if(sr(o))e[de]|=Xs.HasTransplantedViews;else{let c=o[Nt][bn];t[bn]!==c&&(e[de]|=Xs.HasTransplantedViews)}n===null?e[qs]=[t]:n.push(t)}function Eu(e,t){let n=e[qs],o=n.indexOf(t);n.splice(o,1)}function Ll(e,t){if(e.length<=Xt)return;let n=Xt+t,o=e[n];if(o){let c=o[gi];c!==null&&c!==e&&Eu(c,o),t>0&&(e[n-1][fn]=o[fn]);let d=Gs(e,Xt+t);px(o[be],o);let h=d[mi];h!==null&&h.detachView(d[be]),o[Nt]=null,o[fn]=null,o[de]&=-129}return o}function dg(e,t){if(!(t[de]&256)){let n=t[_t];n.destroyNode&&Ca(e,t,n,3,null,null),mx(t)}}function dl(e,t){if(t[de]&256)return;let n=Le(null);try{t[de]&=-129,t[de]|=256,t[qt]&&Pc(t[qt]),xx(e,t),wx(e,t),t[be].type===1&&t[_t].destroy();let o=t[gi];if(o!==null&&Un(t[Nt])){o!==t[Nt]&&Eu(o,t);let c=t[mi];c!==null&&c.detachView(e)}Rl(t)}finally{Le(n)}}function wx(e,t){let n=e.cleanup,o=t[Ys];if(n!==null)for(let d=0;d<n.length-1;d+=2)if(typeof n[d]=="string"){let h=n[d+3];h>=0?o[h]():o[-h].unsubscribe(),d+=2}else{let h=o[n[d+1]];n[d].call(h)}o!==null&&(t[Ys]=null);let c=t[or];if(c!==null){t[or]=null;for(let d=0;d<c.length;d++){let h=c[d];h()}}}function xx(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let c=t[n[o]];if(!(c instanceof co)){let d=n[o+1];if(Array.isArray(d))for(let h=0;h<d.length;h+=2){let w=c[d[h]],x=d[h+1];vn(4,w,x);try{x.call(w)}finally{vn(5,w,x)}}else{vn(4,c,d);try{d.call(c)}finally{vn(5,c,d)}}}}}function Cx(e,t,n){return Ex(e,t.parent,n)}function Ex(e,t,n){let o=t;for(;o!==null&&o.type&168;)t=o,o=t.parent;if(o===null)return n[jn];{let{componentOffset:c}=o;if(c>-1){let{encapsulation:d}=e.data[o.directiveStart+c];if(d===An.None||d===An.Emulated)return null}return gn(o,n)}}function na(e,t,n,o,c){e.insertBefore(t,n,o,c)}function fg(e,t,n){e.appendChild(t,n)}function bh(e,t,n,o,c){o!==null?na(e,t,n,o,c):fg(e,t,n)}function hg(e,t){return e.parentNode(t)}function Ix(e,t){return e.nextSibling(t)}function vx(e,t,n){return Ax(e,t,n)}function Dx(e,t,n){return e.type&40?gn(e,n):null}var Ax=Dx,Sh;function Iu(e,t,n,o){let c=Cx(e,o,t),d=t[_t],h=o.parent||t[pn],w=vx(h,o,t);if(c!=null)if(Array.isArray(n))for(let x=0;x<n.length;x++)bh(d,c,n[x],w,!1);else bh(d,c,n,w,!1);Sh!==void 0&&Sh(d,o,t,n,c)}function to(e,t){if(t!==null){let n=t.type;if(n&3)return gn(t,e);if(n&4)return Pl(-1,e[t.index]);if(n&8){let o=t.child;if(o!==null)return to(e,o);{let c=e[t.index];return Un(c)?Pl(-1,c):Sn(c)}}else{if(n&128)return to(e,t.next);if(n&32)return Cu(t,e)()||Sn(e[t.index]);{let o=pg(e,t);if(o!==null){if(Array.isArray(o))return o[0];let c=Mr(e[bn]);return to(c,o)}else return to(e,t.next)}}}return null}function pg(e,t){if(t!==null){let o=e[bn][pn],c=t.projection;return o.projection[c]}return null}function Pl(e,t){let n=Xt+e+1;if(n<t.length){let o=t[n],c=o[be].firstChild;if(c!==null)return to(o,c)}return t[Tr]}function bx(e,t,n){e.removeChild(null,t,n)}function vu(e,t,n,o,c,d,h){for(;n!=null;){if(n.type===128){n=n.next;continue}let w=o[n.index],x=n.type;if(h&&t===0&&(w&&_r(Sn(w),o),n.flags|=2),(n.flags&32)!==32)if(x&8)vu(e,t,n.child,o,c,d,!1),ci(t,e,c,w,d);else if(x&32){let y=Cu(n,o),v;for(;v=y();)ci(t,e,c,v,d);ci(t,e,c,w,d)}else x&16?Sx(e,t,o,n,c,d):ci(t,e,c,w,d);n=h?n.projectionNext:n.next}}function Ca(e,t,n,o,c,d){vu(n,o,e.firstChild,t,c,d,!1)}function Sx(e,t,n,o,c,d){let h=n[bn],x=h[pn].projection[o.projection];if(Array.isArray(x))for(let y=0;y<x.length;y++){let v=x[y];ci(t,e,c,v,d)}else{let y=x,v=h[Nt];eg(o)&&(y.flags|=128),vu(e,t,y,v,c,d,!0)}}function Tx(e,t,n,o,c){let d=n[Tr],h=Sn(n);d!==h&&ci(t,e,o,d,c);for(let w=Xt;w<n.length;w++){let x=n[w];Ca(x[be],x,e,t,o,d)}}function Mx(e,t,n){e.setAttribute(t,"style",n)}function gg(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function mg(e,t,n){let{mergedAttrs:o,classes:c,styles:d}=n;o!==null&&ml(e,t,o),c!==null&&gg(e,t,c),d!==null&&Mx(e,t,d)}var yo={};function vi(e=1){yg(Or(),ot(),cu()+e,!1)}function yg(e,t,n,o){if(!o)if((t[de]&3)===3){let d=e.preOrderCheckHooks;d!==null&&Bs(t,d,n)}else{let d=e.preOrderHooks;d!==null&&js(t,d,0,n)}Nr(n)}function fr(e,t=xe.Default){let n=ot();if(n===null)return Ie(e,t);let o=Kt();return $p(o,n,Zt(e),t)}function wg(e,t,n,o,c,d){let h=Le(null);try{let w=null;c&ar.SignalBased&&(w=t[o][Ef]),w!==null&&w.transformFn!==void 0&&(d=w.transformFn(d)),c&ar.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(t,d)),e.setInput!==null?e.setInput(t,w,d,n,o):gp(t,w,o,d)}finally{Le(h)}}function Nx(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let c=n[o];if(c<0)Nr(~c);else{let d=c,h=n[++o],w=n[++o];Dw(h,d);let x=t[d];w(2,x)}}}finally{Nr(-1)}}function Ea(e,t,n,o,c,d,h,w,x,y,v){let b=t.blueprint.slice();return b[jn]=c,b[de]=o|4|128|8|64,(y!==null||e&&e[de]&2048)&&(b[de]|=2048),Cp(b),b[Nt]=b[Ei]=e,b[hn]=n,b[Pn]=h||e&&e[Pn],b[_t]=w||e&&e[_t],b[pi]=x||e&&e[pi]||null,b[pn]=d,b[ha]=rx(),b[$s]=v,b[fp]=y,b[bn]=t.type==2?e[bn]:b,b}function Ia(e,t,n,o,c){let d=e.data[t];if(d===null)d=_x(e,t,n,o,c),vw()&&(d.flags|=32);else if(d.type&64){d.type=n,d.value=o,d.attrs=c;let h=xw();d.injectorIndex=h===null?-1:h.injectorIndex}return go(d,!0),d}function _x(e,t,n,o,c){let d=Sp(),h=Tp(),w=h?d:d&&d.parent,x=e.data[t]=Fx(e,w,n,t,o,c);return e.firstChild===null&&(e.firstChild=x),d!==null&&(h?d.child==null&&x.parent!==null&&(d.child=x):d.next===null&&(d.next=x,x.prev=d)),x}function xg(e,t,n,o){if(n===0)return-1;let c=t.length;for(let d=0;d<n;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return c}function Cg(e,t,n,o,c){let d=cu(),h=o&2;try{Nr(-1),h&&t.length>cr&&yg(e,t,cr,!1),vn(h?2:0,c),n(o,c)}finally{Nr(d),vn(h?3:1,c)}}function Eg(e,t,n){if(pp(t)){let o=Le(null);try{let c=t.directiveStart,d=t.directiveEnd;for(let h=c;h<d;h++){let w=e.data[h];if(w.contentQueries){let x=n[h];w.contentQueries(1,x,h)}}}finally{Le(o)}}}function Ig(e,t,n){Dp()&&(zx(e,t,n,gn(n,t)),(n.flags&64)===64&&Sg(e,t,n))}function vg(e,t,n=gn){let o=t.localNames;if(o!==null){let c=t.index+1;for(let d=0;d<o.length;d+=2){let h=o[d+1],w=h===-1?n(t,e):e[h];e[c++]=w}}}function Dg(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Du(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Du(e,t,n,o,c,d,h,w,x,y,v){let b=cr+o,k=b+c,O=Rx(b,k),G=typeof y=="function"?y():y;return O[be]={type:e,blueprint:O,template:n,queries:null,viewQuery:w,declTNode:t,data:O.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof d=="function"?d():d,pipeRegistry:typeof h=="function"?h():h,firstChild:null,schemas:x,consts:G,incompleteFirstPass:!1,ssrId:v}}function Rx(e,t){let n=[];for(let o=0;o<t;o++)n.push(o<e?null:yo);return n}function Ox(e,t,n,o){let d=o.get(ux,sg)||n===An.ShadowDom,h=e.selectRootElement(t,d);return Lx(h),h}function Lx(e){Px(e)}var Px=()=>null;function Fx(e,t,n,o,c,d){let h=t?t.injectorIndex:-1,w=0;return mw()&&(w|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Th(e,t,n,o,c){for(let d in t){if(!t.hasOwnProperty(d))continue;let h=t[d];if(h===void 0)continue;o??={};let w,x=ar.None;Array.isArray(h)?(w=h[0],x=h[1]):w=h;let y=d;if(c!==null){if(!c.hasOwnProperty(d))continue;y=c[d]}e===0?Mh(o,n,y,w,x):Mh(o,n,y,w)}return o}function Mh(e,t,n,o,c){let d;e.hasOwnProperty(n)?(d=e[n]).push(t,o):d=e[n]=[t,o],c!==void 0&&d.push(c)}function kx(e,t,n){let o=t.directiveStart,c=t.directiveEnd,d=e.data,h=t.attrs,w=[],x=null,y=null;for(let v=o;v<c;v++){let b=d[v],k=n?n.get(b):null,O=k?k.inputs:null,G=k?k.outputs:null;x=Th(0,b.inputs,v,x,O),y=Th(1,b.outputs,v,y,G);let X=x!==null&&h!==null&&!tu(t)?Kx(x,v,h):null;w.push(X)}x!==null&&(x.hasOwnProperty("class")&&(t.flags|=8),x.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=x,t.outputs=y}function Bx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function jx(e,t,n,o,c,d,h,w){let x=gn(t,n),y=t.inputs,v;!w&&y!=null&&(v=y[o])?(Au(e,n,v,o,c),pa(t)&&Ux(n,t.index)):t.type&3?(o=Bx(o),c=h!=null?h(c,t.value||"",o):c,d.setProperty(x,o,c)):t.type&12}function Ux(e,t){let n=ur(t,e);n[de]&16||(n[de]|=64)}function Ag(e,t,n,o){if(Dp()){let c=o===null?null:{"":-1},d=Wx(e,n),h,w;d===null?h=w=null:[h,w]=d,h!==null&&bg(e,t,n,h,c,w),c&&$x(n,o,c)}n.mergedAttrs=eu(n.mergedAttrs,n.attrs)}function bg(e,t,n,o,c,d){for(let y=0;y<o.length;y++)jw(Hp(n,t),e,o[y].type);Zx(n,e.data.length,o.length);for(let y=0;y<o.length;y++){let v=o[y];v.providersResolver&&v.providersResolver(v)}let h=!1,w=!1,x=xg(e,t,o.length,null);for(let y=0;y<o.length;y++){let v=o[y];n.mergedAttrs=eu(n.mergedAttrs,v.hostAttrs),qx(e,n,t,x,v),Yx(x,v,c),v.contentQueries!==null&&(n.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(n.flags|=64);let b=v.type.prototype;!h&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),h=!0),!w&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),w=!0),x++}kx(e,n,d)}function Vx(e,t,n,o,c){let d=c.hostBindings;if(d){let h=e.hostBindingOpCodes;h===null&&(h=e.hostBindingOpCodes=[]);let w=~t.index;Hx(h)!=w&&h.push(w),h.push(n,o,d)}}function Hx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function zx(e,t,n,o){let c=n.directiveStart,d=n.directiveEnd;pa(n)&&Xx(t,n,e.data[c+n.componentOffset]),e.firstCreatePass||Hp(n,t),_r(o,t);let h=n.initialInputs;for(let w=c;w<d;w++){let x=e.data[w],y=lo(t,e,w,n);if(_r(y,t),h!==null&&Qx(t,w-c,y,x,n,h),po(x)){let v=ur(n.index,t);v[hn]=lo(t,e,w,n)}}}function Sg(e,t,n){let o=n.directiveStart,c=n.directiveEnd,d=n.index,h=Aw();try{Nr(d);for(let w=o;w<c;w++){let x=e.data[w],y=t[w];Dl(w),(x.hostBindings!==null||x.hostVars!==0||x.hostAttrs!==null)&&Gx(x,y)}}finally{Nr(-1),Dl(h)}}function Gx(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Wx(e,t){let n=e.directiveRegistry,o=null,c=null;if(n)for(let d=0;d<n.length;d++){let h=n[d];if(Fy(t,h.selectors,!1))if(o||(o=[]),po(h))if(h.findHostDirectiveDefs!==null){let w=[];c=c||new Map,h.findHostDirectiveDefs(h,w,c),o.unshift(...w,h);let x=w.length;Fl(e,t,x)}else o.unshift(h),Fl(e,t,0);else c=c||new Map,h.findHostDirectiveDefs?.(h,o,c),o.push(h)}return o===null?null:[o,c]}function Fl(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function $x(e,t,n){if(t){let o=e.localNames=[];for(let c=0;c<t.length;c+=2){let d=n[t[c+1]];if(d==null)throw new oe(-301,!1);o.push(t[c],d)}}}function Yx(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;po(t)&&(n[""]=e)}}function Zx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qx(e,t,n,o,c){e.data[o]=c;let d=c.factory||(c.factory=di(c.type,!0)),h=new co(d,po(c),fr);e.blueprint[o]=h,n[o]=h,Vx(e,t,o,xg(e,n,c.hostVars,yo),c)}function Xx(e,t,n){let o=gn(t,e),c=Dg(n),d=e[Pn].rendererFactory,h=16;n.signals?h=4096:n.onPush&&(h=64);let w=va(e,Ea(e,c,null,h,o,t,null,d.createRenderer(o,n),null,null,null));e[t.index]=w}function Qx(e,t,n,o,c,d){let h=d[t];if(h!==null)for(let w=0;w<h.length;){let x=h[w++],y=h[w++],v=h[w++],b=h[w++];wg(o,n,x,y,v,b)}}function Kx(e,t,n){let o=null,c=0;for(;c<n.length;){let d=n[c];if(d===0){c+=4;continue}else if(d===5){c+=2;continue}if(typeof d=="number")break;if(e.hasOwnProperty(d)){o===null&&(o=[]);let h=e[d];for(let w=0;w<h.length;w+=3)if(h[w]===t){o.push(d,h[w+1],h[w+2],n[c+1]);break}}c+=2}return o}function Tg(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Mg(e,t){let n=e.contentQueries;if(n!==null){let o=Le(null);try{for(let c=0;c<n.length;c+=2){let d=n[c],h=n[c+1];if(h!==-1){let w=e.data[h];_p(d),w.contentQueries(2,t[h],h)}}}finally{Le(o)}}}function va(e,t){return e[ao]?e[ph][fn]=t:e[ao]=t,e[ph]=t,t}function kl(e,t,n){_p(0);let o=Le(null);try{t(e,n)}finally{Le(o)}}function Jx(e){return e[Ys]??=[]}function eC(e){return e.cleanup??=[]}function Ng(e,t){let n=e[pi],o=n?n.get(kn,null):null;o&&o.handleError(t)}function Au(e,t,n,o,c){for(let d=0;d<n.length;){let h=n[d++],w=n[d++],x=n[d++],y=t[h],v=e.data[h];wg(v,y,o,w,x,c)}}function tC(e,t,n){let o=lw(t,e);hx(e[_t],o,n)}function nC(e,t){let n=ur(t,e),o=n[be];rC(o,n);let c=n[jn];c!==null&&n[$s]===null&&(n[$s]=xu(c,n[pi])),bu(o,n,n[hn])}function rC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function bu(e,t,n){su(t);try{let o=e.viewQuery;o!==null&&kl(1,o,n);let c=e.template;c!==null&&Cg(e,t,c,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[mi]?.finishViewCreation(e),e.staticContentQueries&&Mg(e,t),e.staticViewQueries&&kl(2,e.viewQuery,n);let d=e.components;d!==null&&iC(t,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[de]&=-5,au()}}function iC(e,t){for(let n=0;n<t.length;n++)nC(e,t[n])}function oC(e,t,n,o){let c=Le(null);try{let d=t.tView,w=e[de]&4096?4096:16,x=Ea(e,d,n,w,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),y=e[t.index];x[gi]=y;let v=e[mi];return v!==null&&(x[mi]=v.createEmbeddedView(d)),bu(d,x,n),x}finally{Le(c)}}function Nh(e,t){return!t||t.firstChild===null||eg(e)}function sC(e,t,n,o=!0){let c=t[be];if(yx(c,t,e,n),o){let h=Pl(n,e),w=t[_t],x=hg(w,e[Tr]);x!==null&&gx(c,e[pn],w,t,x,h)}let d=t[$s];d!==null&&d.firstChild!==null&&(d.firstChild=null)}function ra(e,t,n,o,c=!1){for(;n!==null;){if(n.type===128){n=c?n.projectionNext:n.next;continue}let d=t[n.index];d!==null&&o.push(Sn(d)),Un(d)&&aC(d,o);let h=n.type;if(h&8)ra(e,t,n.child,o);else if(h&32){let w=Cu(n,t),x;for(;x=w();)o.push(x)}else if(h&16){let w=pg(t,n);if(Array.isArray(w))o.push(...w);else{let x=Mr(t[bn]);ra(x[be],x,w,o,!0)}}n=c?n.projectionNext:n.next}return o}function aC(e,t){for(let n=Xt;n<e.length;n++){let o=e[n],c=o[be].firstChild;c!==null&&ra(o[be],o,c,t)}e[Tr]!==e[jn]&&t.push(e[Tr])}var _g=[];function cC(e){return e[qt]??lC(e)}function lC(e){let t=_g.pop()??Object.create(dC);return t.lView=e,t}function uC(e){e.lView[qt]!==e&&(e.lView=null,_g.push(e))}var dC=Je(Q({},Rc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ya(e.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function fC(e){let t=e[qt]??Object.create(hC);return t.lView=e,t}var hC=Je(Q({},Rc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Mr(e.lView);for(;t&&!Rg(t[be]);)t=Mr(t);t&&Ep(t)},consumerOnSignalRead(){this.lView[qt]=this}});function Rg(e){return e.type!==2}var pC=100;function Og(e,t=!0,n=0){let o=e[Pn],c=o.rendererFactory,d=!1;d||c.begin?.();try{gC(e,n)}catch(h){throw t&&Ng(e,h),h}finally{d||(c.end?.(),o.inlineEffectRunner?.flush())}}function gC(e,t){let n=Mp();try{mh(!0),Bl(e,t);let o=0;for(;ma(e);){if(o===pC)throw new oe(103,!1);o++,Bl(e,1)}}finally{mh(n)}}function mC(e,t,n,o){let c=t[de];if((c&256)===256)return;let d=!1,h=!1;!d&&t[Pn].inlineEffectRunner?.flush(),su(t);let w=!0,x=null,y=null;d||(Rg(e)?(y=cC(t),x=Oc(y)):If()===null?(w=!1,y=fC(t),x=Oc(y)):t[qt]&&(Pc(t[qt]),t[qt]=null));try{Cp(t),Iw(e.bindingStartIndex),n!==null&&Cg(e,t,n,2,o);let v=(c&3)===3;if(!d)if(v){let O=e.preOrderCheckHooks;O!==null&&Bs(t,O,null)}else{let O=e.preOrderHooks;O!==null&&js(t,O,0,null),al(t,0)}if(h||yC(t),Lg(t,0),e.contentQueries!==null&&Mg(e,t),!d)if(v){let O=e.contentCheckHooks;O!==null&&Bs(t,O)}else{let O=e.contentHooks;O!==null&&js(t,O,1),al(t,1)}Nx(e,t);let b=e.components;b!==null&&Fg(t,b,0);let k=e.viewQuery;if(k!==null&&kl(2,k,o),!d)if(v){let O=e.viewCheckHooks;O!==null&&Bs(t,O)}else{let O=e.viewHooks;O!==null&&js(t,O,2),al(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[sl]){for(let O of t[sl])O();t[sl]=null}d||(t[de]&=-73)}catch(v){throw d||ya(t),v}finally{y!==null&&(vf(y,x),w&&uC(y)),au()}}function Lg(e,t){for(let n=ng(e);n!==null;n=rg(n))for(let o=Xt;o<n.length;o++){let c=n[o];Pg(c,t)}}function yC(e){for(let t=ng(e);t!==null;t=rg(t)){if(!(t[de]&Xs.HasTransplantedViews))continue;let n=t[qs];for(let o=0;o<n.length;o++){let c=n[o];Ep(c)}}}function wC(e,t,n){let o=ur(t,e);Pg(o,n)}function Pg(e,t){ou(e)&&Bl(e,t)}function Bl(e,t){let o=e[be],c=e[de],d=e[qt],h=!!(t===0&&c&16);if(h||=!!(c&64&&t===0),h||=!!(c&1024),h||=!!(d?.dirty&&Lc(d)),h||=!1,d&&(d.dirty=!1),e[de]&=-9217,h)mC(o,e,o.template,e[hn]);else if(c&8192){Lg(e,1);let w=o.components;w!==null&&Fg(e,w,1)}}function Fg(e,t,n){for(let o=0;o<t.length;o++)wC(e,t[o],n)}function Su(e,t){let n=Mp()?64:1088;for(e[Pn].changeDetectionScheduler?.notify(t);e;){e[de]|=n;let o=Mr(e);if(El(e)&&!o)return e;e=o}return null}var Rr=class{get rootNodes(){let t=this._lView,n=t[be];return ra(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(t){this._lView[hn]=t}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Nt];if(Un(t)){let n=t[Zs],o=n?n.indexOf(this):-1;o>-1&&(Ll(t,o),Gs(n,o))}this._attachedToViewContainer=!1}dg(this._lView[be],this._lView)}onDestroy(t){Ip(this._lView,t)}markForCheck(){Su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){vl(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,Og(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=El(this._lView),n=this._lView[gi];n!==null&&!t&&Eu(n,this._lView),lg(this._lView[be],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=t;let n=El(this._lView),o=this._lView[gi];o!==null&&!n&&ug(o,this._lView),vl(this._lView)}},Tu=(()=>{class e{static{this.__NG_ELEMENT_ID__=EC}}return e})(),xC=Tu,CC=class extends xC{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){let c=oC(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new Rr(c)}};function EC(){return IC(Kt(),ot())}function IC(e,t){return e.type&4?new CC(t,e,wa(e,t)):null}var vN=new RegExp(`^(\\d+)*(${cx}|${ax})*(.*)`);var vC=()=>null;function _h(e,t){return vC(e,t)}var yi=class{},Da=new pe("",{providedIn:"root",factory:()=>!1});var kg=new pe(""),Bg=new pe(""),jl=class{},ia=class{};function DC(e){let t=Error(`No component factory found for ${kt(e)}.`);return t[AC]=e,t}var AC="ngComponent";var Ul=class{resolveComponentFactory(t){throw DC(t)}},wi=class{static{this.NULL=new Ul}},xi=class{},Aa=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>bC()}}return e})();function bC(){let e=ot(),t=Kt(),n=ur(t.index,e);return(sr(n)?n:e)[_t]}var SC=(()=>{class e{static{this.\u0275prov=se({token:e,providedIn:"root",factory:()=>null})}}return e})();function Vl(e,t,n){let o=n?e.styles:null,c=n?e.classes:null,d=0;if(t!==null)for(let h=0;h<t.length;h++){let w=t[h];if(typeof w=="number")d=w;else if(d==1)c=ih(c,w);else if(d==2){let x=w,y=t[++h];o=ih(o,x+": "+y+";")}}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=c:e.classesWithoutHost=c}var oa=class extends wi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Sr(t);return new uo(n,this.ngModule)}};function Rh(e,t){let n=[];for(let o in e){if(!e.hasOwnProperty(o))continue;let c=e[o];if(c===void 0)continue;let d=Array.isArray(c),h=d?c[0]:c,w=d?c[1]:ar.None;t?n.push({propName:h,templateName:o,isSignal:(w&ar.SignalBased)!==0}):n.push({propName:h,templateName:o})}return n}function TC(e){let t=e.toLowerCase();return t==="svg"?aw:t==="math"?cw:null}var uo=class extends ia{get inputs(){let t=this.componentDef,n=t.inputTransforms,o=Rh(t.inputs,!0);if(n!==null)for(let c of o)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return o}get outputs(){return Rh(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Uy(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,c){let d=Le(null);try{c=c||this.ngModule;let h=c instanceof Qt?c:c?.injector;h&&this.componentDef.getStandaloneInjector!==null&&(h=this.componentDef.getStandaloneInjector(h)||h);let w=h?new Al(t,h):t,x=w.get(xi,null);if(x===null)throw new oe(407,!1);let y=w.get(SC,null),v=w.get(yi,null),b={rendererFactory:x,sanitizer:y,inlineEffectRunner:null,changeDetectionScheduler:v},k=x.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",G=o?Ox(k,o,this.componentDef.encapsulation,w):cg(k,O,TC(O)),X=512;this.componentDef.signals?X|=4096:this.componentDef.onPush||(X|=16);let Y=null;G!==null&&(Y=xu(G,w,!0));let H=Du(0,null,null,1,0,null,null,null,null,null,null),re=Ea(null,H,null,X,null,null,b,k,w,null,Y);su(re);let $e,ae,j=null;try{let ce=this.componentDef,U,_n=null;ce.findHostDirectiveDefs?(U=[],_n=new Map,ce.findHostDirectiveDefs(ce,U,_n),U.push(ce)):U=[ce];let Ct=MC(re,G);j=NC(Ct,G,ce,U,re,b,k),ae=xp(H,cr),G&&OC(k,ce,G,o),n!==void 0&&LC(ae,this.ngContentSelectors,n),$e=RC(j,ce,U,_n,re,[PC]),bu(H,re,null)}catch(ce){throw j!==null&&Rl(j),Rl(re),ce}finally{au()}return new Hl(this.componentType,$e,wa(ae,re),re,ae)}finally{Le(d)}}},Hl=class extends jl{constructor(t,n,o,c,d){super(),this.location=o,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Rr(c,void 0,!1),this.componentType=t}setInput(t,n){let o=this._tNode.inputs,c;if(o!==null&&(c=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let d=this._rootLView;Au(d[be],d,c,t,n),this.previousInputValues.set(t,n);let h=ur(this._tNode.index,d);Su(h,1)}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function MC(e,t){let n=e[be],o=cr;return e[o]=t,Ia(n,o,2,"#host",null)}function NC(e,t,n,o,c,d,h){let w=c[be];_C(o,e,t,h);let x=null;t!==null&&(x=xu(t,c[pi]));let y=d.rendererFactory.createRenderer(t,n),v=16;n.signals?v=4096:n.onPush&&(v=64);let b=Ea(c,Dg(n),null,v,c[e.index],e,d,y,null,null,x);return w.firstCreatePass&&Fl(w,e,o.length-1),va(c,b),c[e.index]=b}function _C(e,t,n,o){for(let c of e)t.mergedAttrs=eu(t.mergedAttrs,c.hostAttrs);t.mergedAttrs!==null&&(Vl(t,t.mergedAttrs,!0),n!==null&&mg(o,n,t))}function RC(e,t,n,o,c,d){let h=Kt(),w=c[be],x=gn(h,c);bg(w,c,h,n,null,o);for(let v=0;v<n.length;v++){let b=h.directiveStart+v,k=lo(c,w,b,h);_r(k,c)}Sg(w,c,h),x&&_r(x,c);let y=lo(c,w,h.directiveStart+h.componentOffset,h);if(e[hn]=c[hn]=y,d!==null)for(let v of d)v(y,t);return Eg(w,h,c),y}function OC(e,t,n,o){if(o)ml(e,n,["ng-version","18.2.11"]);else{let{attrs:c,classes:d}=Vy(t.selectors[0]);c&&ml(e,n,c),d&&d.length>0&&gg(e,n,d.join(" "))}}function LC(e,t,n){let o=e.projection=[];for(let c=0;c<t.length;c++){let d=n[c];o.push(d!=null?Array.from(d):null)}}function PC(){let e=Kt();du(ot()[be],e)}var wo=(()=>{class e{static{this.__NG_ELEMENT_ID__=FC}}return e})();function FC(){let e=Kt();return BC(e,ot())}var kC=wo,jg=class extends kC{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let t=fu(this._hostTNode,this._hostLView);if(jp(t)){let n=Js(t,this._hostLView),o=Ks(t),c=n[be].data[o+8];return new br(c,n)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Oh(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(t,n,o){let c,d;typeof o=="number"?c=o:o!=null&&(c=o.index,d=o.injector);let h=_h(this._lContainer,t.ssrId),w=t.createEmbeddedViewImpl(n||{},d,h);return this.insertImpl(w,c,Nh(this._hostTNode,h)),w}createComponent(t,n,o,c,d){let h=t&&!rw(t),w;if(h)w=n;else{let G=n||{};w=G.index,o=G.injector,c=G.projectableNodes,d=G.environmentInjector||G.ngModuleRef}let x=h?t:new uo(Sr(t)),y=o||this.parentInjector;if(!d&&x.ngModule==null){let X=(h?y:this.parentInjector).get(Qt,null);X&&(d=X)}let v=Sr(x.componentType??{}),b=_h(this._lContainer,v?.id??null),k=b?.firstChild??null,O=x.create(y,c,k,d);return this.insertImpl(O.hostView,w,Nh(this._hostTNode,b)),O}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){let c=t._lView;if(uw(c)){let w=this.indexOf(t);if(w!==-1)this.detach(w);else{let x=c[Nt],y=new jg(x,x[pn],x[Nt]);y.detach(y.indexOf(t))}}let d=this._adjustIndex(n),h=this._lContainer;return sC(h,c,d,o),t.attachToViewContainerRef(),Kh(fl(h),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Oh(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),o=Ll(this._lContainer,n);o&&(Gs(fl(this._lContainer),n),dg(o[be],o))}detach(t){let n=this._adjustIndex(t,-1),o=Ll(this._lContainer,n);return o&&Gs(fl(this._lContainer),n)!=null?new Rr(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function Oh(e){return e[Zs]}function fl(e){return e[Zs]||(e[Zs]=[])}function BC(e,t){let n,o=t[e.index];return Un(o)?n=o:(n=Tg(o,t,null,e),t[e.index]=n,va(t,n)),UC(n,t,e,o),new jg(n,e,t)}function jC(e,t){let n=e[_t],o=n.createComment(""),c=gn(t,e),d=hg(n,c);return na(n,d,o,Ix(n,c),!1),o}var UC=zC,VC=()=>!1;function HC(e,t,n){return VC(e,t,n)}function zC(e,t,n,o){if(e[Tr])return;let c;n.type&8?c=Sn(o):c=jC(t,n),e[Tr]=c}var Lh=new Set;function Mu(e){Lh.has(e)||(Lh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var lr=class{},fo=class{};var zl=class extends lr{constructor(t,n,o,c=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oa(this);let d=sp(t);this._bootstrapComponents=ag(d.bootstrap),this._r3Injector=qp(t,n,[{provide:lr,useValue:this},{provide:wi,useValue:this.componentFactoryResolver},...o],kt(t),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Gl=class extends fo{constructor(t){super(),this.moduleType=t}create(t){return new zl(this.moduleType,t,[])}};var sa=class extends lr{constructor(t){super(),this.componentFactoryResolver=new oa(this),this.instance=null;let n=new so([...t.providers,{provide:lr,useValue:this},{provide:wi,useValue:this.componentFactoryResolver}],t.parent||ru(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Nu(e,t,n=null){return new sa({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Ug(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function GC(e,t,n){return e[t]=n}function _u(e,t,n){let o=e[t];return Object.is(o,n)?!1:(e[t]=n,!0)}function WC(e){return(e.flags&32)===32}function $C(e,t,n,o,c,d,h,w,x){let y=t.consts,v=Ia(t,e,4,h||null,w||null);Ag(t,n,v,Qs(y,x)),du(t,v);let b=v.tView=Du(2,v,o,c,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y,null);return t.queries!==null&&(t.queries.template(t,v),b.queries=t.queries.embeddedTView(v)),v}function YC(e,t,n,o,c,d,h,w,x,y){let v=n+cr,b=t.firstCreatePass?$C(v,t,e,o,c,d,h,w,x):t.data[v];go(b,!1);let k=ZC(t,e,b,n);lu()&&Iu(t,e,k,b),_r(k,e);let O=Tg(k,e,k,b);return e[v]=O,va(e,O),HC(O,b,e),iu(b)&&Ig(t,e,b),x!=null&&vg(e,b,y),b}function ba(e,t,n,o,c,d,h,w){let x=ot(),y=Or(),v=Qs(y.consts,d);return YC(x,y,e,t,n,o,c,v,h,w),ba}var ZC=qC;function qC(e,t,n,o){return uu(!0),t[_t].createComment("")}var no=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(no||{}),XC=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Ph=class e{constructor(){this.ngZone=W(tt),this.scheduler=W(yi),this.errorHandler=W(kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[no.EarlyRead,no.Write,no.MixedReadWrite,no.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(o){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}};function QC(e,t,n,o){return _u(e,Np(),n)?t+Yh(n)+o:yo}function xo(e,t,n){let o=ot(),c=Np();if(_u(o,c,t)){let d=Or(),h=Tw();jx(d,h,o,e,t,o[_t],n,!1)}return xo}function Fh(e,t,n,o,c){let d=t.inputs,h=c?"class":"style";Au(e,n,d[h],h,o)}function KC(e,t,n,o,c,d){let h=t.consts,w=Qs(h,c),x=Ia(t,e,2,o,w);return Ag(t,n,x,Qs(h,d)),x.attrs!==null&&Vl(x,x.attrs,!1),x.mergedAttrs!==null&&Vl(x,x.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,x),x}function Lr(e,t,n,o){let c=ot(),d=Or(),h=cr+e,w=c[_t],x=d.firstCreatePass?KC(h,d,c,t,n,o):d.data[h],y=JC(d,c,x,w,t,e);c[h]=y;let v=iu(x);return go(x,!0),mg(w,y,x),!WC(x)&&lu()&&Iu(d,c,y,x),hw()===0&&_r(y,c),pw(),v&&(Ig(d,c,x),Eg(d,x,c)),o!==null&&vg(c,x),Lr}function Pr(){let e=Kt();Tp()?Cw():(e=e.parent,go(e,!1));let t=e;yw(t)&&ww(),gw();let n=Or();return n.firstCreatePass&&(du(n,e),pp(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&Ow(t)&&Fh(n,t,ot(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Lw(t)&&Fh(n,t,ot(),t.stylesWithoutHost,!1),Pr}function Di(e,t,n,o){return Lr(e,t,n,o),Pr(),Di}var JC=(e,t,n,o,c,d)=>(uu(!0),cg(o,c,Mw()));function Vg(){return ot()}var aa="en-US";var eE=aa;function tE(e){typeof e=="string"&&(eE=e.toLowerCase().replace(/_/g,"-"))}var nE=(e,t,n)=>{};function Co(e,t,n,o){let c=ot(),d=Or(),h=Kt();return iE(d,c,c[_t],h,e,t,o),Co}function rE(e,t,n,o){let c=e.cleanup;if(c!=null)for(let d=0;d<c.length-1;d+=2){let h=c[d];if(h===n&&c[d+1]===o){let w=t[Ys],x=c[d+2];return w.length>x?w[x]:null}typeof h=="string"&&(d+=2)}return null}function iE(e,t,n,o,c,d,h){let w=iu(o),y=e.firstCreatePass&&eC(e),v=t[hn],b=Jx(t),k=!0;if(o.type&3||h){let X=gn(o,t),Y=h?h(X):X,H=b.length,re=h?ae=>h(Sn(ae[o.index])):o.index,$e=null;if(!h&&w&&($e=rE(e,t,c,o.index)),$e!==null){let ae=$e.__ngLastListenerFn__||$e;ae.__ngNextListenerFn__=d,$e.__ngLastListenerFn__=d,k=!1}else{d=Bh(o,t,v,d),nE(X,c,d);let ae=n.listen(Y,c,d);b.push(d,ae),y&&y.push(c,re,H,H+1)}}else d=Bh(o,t,v,d);let O=o.outputs,G;if(k&&O!==null&&(G=O[c])){let X=G.length;if(X)for(let Y=0;Y<X;Y+=2){let H=G[Y],re=G[Y+1],j=t[H][re].subscribe(d),ce=b.length;b.push(d,j),y&&y.push(c,o.index,ce,-(ce+1))}}}function kh(e,t,n,o){let c=Le(null);try{return vn(6,t,n),n(o)!==!1}catch(d){return Ng(e,d),!1}finally{vn(7,t,n),Le(c)}}function Bh(e,t,n,o){return function c(d){if(d===Function)return o;let h=e.componentOffset>-1?ur(e.index,t):t;Su(h,5);let w=kh(t,n,o,d),x=c.__ngNextListenerFn__;for(;x;)w=kh(t,n,x,d)&&w,x=x.__ngNextListenerFn__;return w}}function Ru(e=1){return Sw(e)}function Eo(e,t=""){let n=ot(),o=Or(),c=e+cr,d=o.firstCreatePass?Ia(o,c,1,t,null):o.data[c],h=oE(o,n,d,t,e);n[c]=h,lu()&&Iu(o,n,h,d),go(d,!1)}var oE=(e,t,n,o,c)=>(uu(!0),fx(t[_t],o));function Sa(e,t,n){let o=ot(),c=QC(o,e,t,n);return c!==yo&&tC(o,cu(),c),Sa}var sE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=lp(!1,n.type),c=o.length>0?Nu([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,c)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=se({token:e,providedIn:"environment",factory:()=>new e(Ie(Qt))})}}return e})();function Ta(e){Mu("NgStandalone"),e.getStandaloneInjector=t=>t.get(sE).getOrCreateStandaloneInjector(e)}function Hg(e,t,n,o){return cE(ot(),Ew(),e,t,n,o)}function aE(e,t){let n=e[t];return n===yo?void 0:n}function cE(e,t,n,o,c,d){let h=t+n;return _u(e,h,c)?GC(e,h+1,d?o.call(d,c):o(c)):aE(e,h+1)}var Ma=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var zg=new pe("");function Io(e){return!!e&&typeof e.then=="function"}function Gg(e){return!!e&&typeof e.subscribe=="function"}var Na=new pe(""),Wg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=W(Na,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let c of this.appInits){let d=c();if(Io(d))n.push(d);else if(Gg(d)){let h=new Promise((w,x)=>{d.subscribe({complete:w,error:x})});n.push(h)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(c=>{this.reject(c)}),n.length===0&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ou=new pe("");function lE(){Df(()=>{throw new oe(600,!1)})}function uE(e){return e.isBoundToModule}var dE=10;function fE(e,t,n){try{let o=n();return Io(o)?o.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}var Tn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(ex),this.afterRenderManager=W(XC),this.zonelessEnabled=W(Da),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=W(Ii).hasPendingTasks.pipe(he(n=>!n)),this._injector=W(Qt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:c=>{c&&o()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,o){let c=n instanceof ia;if(!this._injector.get(Wg).done){let k=!c&&op(n),O=!1;throw new oe(405,O)}let h;c?h=n:h=this._injector.get(wi).resolveComponentFactory(n),this.componentTypes.push(h.componentType);let w=uE(h)?void 0:this._injector.get(lr),x=o||h.selector,y=h.create(Fn.NULL,[],x,w),v=y.location.nativeElement,b=y.injector.get(zg,null);return b?.registerApplication(v),y.onDestroy(()=>{this.detachView(y.hostView),Us(this.components,y),b?.unregisterApplication(v)}),this._loadComponent(y),y}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new oe(101,!1);let n=Le(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Le(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(xi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;this.dirtyFlags!==0&&o++<dE;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:d}of this._views)hE(c,d,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ma(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;Us(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let o=this._injector.get(Ou,[]);[...this._bootstrapListeners,...o].forEach(c=>c(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Us(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Us(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function hE(e,t,n,o){if(!n&&!ma(e))return;Og(e,t,n&&!o?0:1)}var Wl=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Lu=(()=>{class e{compileModuleSync(n){return new Gl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let o=this.compileModuleSync(n),c=sp(n),d=ag(c.declarations).reduce((h,w)=>{let x=Sr(w);return x&&h.push(new uo(x)),h},[]);return new Wl(o,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var pE=(()=>{class e{constructor(){this.zone=W(tt),this.changeDetectionScheduler=W(yi),this.applicationRef=W(Tn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gE=new pe("",{factory:()=>!1});function $g({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new tt(Je(Q({},Zg()),{scheduleInRootZone:n})),[{provide:tt,useFactory:e},{provide:hi,multi:!0,useFactory:()=>{let o=W(pE,{optional:!0});return()=>o.initialize()}},{provide:hi,multi:!0,useFactory:()=>{let o=W(mE);return()=>{o.initialize()}}},t===!0?{provide:kg,useValue:!0}:[],{provide:Bg,useValue:n??Xp}]}function Yg(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,o=$g({ngZoneFactory:()=>{let c=Zg(e);return c.scheduleInRootZone=n,c.shouldCoalesceEventChangeDetection&&Mu("NgZone_CoalesceEvent"),new tt(c)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Ci([{provide:gE,useValue:!0},{provide:Da,useValue:!1},o])}function Zg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var mE=(()=>{class e{constructor(){this.subscription=new et,this.initialized=!1,this.zone=W(tt),this.pendingTasks=W(Ii)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var yE=(()=>{class e{constructor(){this.appRef=W(Tn),this.taskService=W(Ii),this.ngZone=W(tt),this.zonelessEnabled=W(Da),this.disableScheduling=W(kg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new et,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ta):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(Bg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _l||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Ih:Kp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ta+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(n),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ih(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wE(){return typeof $localize<"u"&&$localize.locale||aa}var Pu=new pe("",{providedIn:"root",factory:()=>W(Pu,xe.Optional|xe.SkipSelf)||wE()});var $l=new pe("");function Fs(e){return!e.moduleRef}function xE(e){let t=Fs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(tt);return n.run(()=>{Fs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let o=t.get(kn,null),c;if(n.runOutsideAngular(()=>{c=n.onError.subscribe({next:d=>{o.handleError(d)}})}),Fs(e)){let d=()=>t.destroy(),h=e.platformInjector.get($l);h.add(d),t.onDestroy(()=>{c.unsubscribe(),h.delete(d)})}else{let d=()=>e.moduleRef.destroy(),h=e.platformInjector.get($l);h.add(d),e.moduleRef.onDestroy(()=>{Us(e.allPlatformModules,e.moduleRef),c.unsubscribe(),h.delete(d)})}return fE(o,n,()=>{let d=t.get(Wg);return d.runInitializers(),d.donePromise.then(()=>{let h=t.get(Pu,aa);if(tE(h||aa),Fs(e)){let w=t.get(Tn);return e.rootComponent!==void 0&&w.bootstrap(e.rootComponent),w}else return CE(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function CE(e,t){let n=e.injector.get(Tn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>n.bootstrap(o));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new oe(-403,!1);t.push(e)}var Vs=null;function EE(e=[],t){return Fn.create({name:t,providers:[{provide:fa,useValue:"platform"},{provide:$l,useValue:new Set([()=>Vs=null])},...e]})}function IE(e=[]){if(Vs)return Vs;let t=EE(e);return Vs=t,lE(),vE(t),t}function vE(e){e.get(yu,null)?.forEach(n=>n())}function qg(){return!1}var vo=(()=>{class e{static{this.__NG_ELEMENT_ID__=DE}}return e})();function DE(e){return AE(Kt(),ot(),(e&16)===16)}function AE(e,t,n){if(pa(e)&&!n){let o=ur(e.index,t);return new Rr(o,o)}else if(e.type&175){let o=t[bn];return new Rr(o,t)}return null}var Yl=class{constructor(){}supports(t){return t instanceof Map||Ug(t)}create(){return new Zl}},Zl=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Ug(t)))throw new oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{let d=this._getOrCreateRecordForKey(c,o);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;o!==null;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let c=this._records.get(t);this._maybeAddToChanges(c,n);let d=c._prev,h=c._next;return d&&(d._next=h),h&&(h._prev=d),c._next=null,c._prev=null,c}let o=new ql(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}},ql=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function jh(){return new Fu([new Yl])}var Fu=(()=>{class e{static{this.\u0275prov=se({token:e,providedIn:"root",factory:jh})}constructor(n){this.factories=n}static create(n,o){if(o){let c=o.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||jh()),deps:[[e,new Qh,new Kl]]}}find(n){let o=this.factories.find(c=>c.supports(n));if(o)return o;throw new oe(901,!1)}}return e})();function Xg(e){try{let{rootComponent:t,appProviders:n,platformProviders:o}=e,c=IE(o),d=[$g({}),{provide:yi,useExisting:yE},...n||[]],h=new sa({providers:d,parent:c,debugName:"",runEnvironmentInitializers:!1});return xE({r3Injector:h.injector,platformInjector:c,rootComponent:t})}catch(t){return Promise.reject(t)}}var t0=null;function Ai(){return t0}function n0(e){t0??=e}var _a=class{};var Jt=new pe(""),r0=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(NE),providedIn:"platform"})}}return e})();var NE=(()=>{class e extends r0{constructor(){super(),this._doc=W(Jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(n){let o=Ai().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){let o=Ai().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,c){this._history.pushState(n,o,c)}replaceState(n,o,c){this._history.replaceState(n,o,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function i0(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Qg(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,o=n-(e[n-1]==="/"?1:0);return e.slice(0,o)+e.slice(n)}function Fr(e){return e&&e[0]!=="?"?"?"+e:e}var Oa=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(o0),providedIn:"root"})}}return e})(),_E=new pe(""),o0=(()=>{class e extends Oa{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??W(Jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return i0(this._baseHref,n)}path(n=!1){let o=this._platformLocation.pathname+Fr(this._platformLocation.search),c=this._platformLocation.hash;return c&&n?`${o}${c}`:o}pushState(n,o,c,d){let h=this.prepareExternalUrl(c+Fr(d));this._platformLocation.pushState(n,o,h)}replaceState(n,o,c,d){let h=this.prepareExternalUrl(c+Fr(d));this._platformLocation.replaceState(n,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(o){return new(o||e)(Ie(r0),Ie(_E,8))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ao=(()=>{class e{constructor(n){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let o=this._locationStrategy.getBaseHref();this._basePath=LE(Qg(Kg(o))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Fr(o))}normalize(n){return e.stripTrailingSlash(OE(this._basePath,Kg(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",c=null){this._locationStrategy.pushState(c,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(o)),c)}replaceState(n,o="",c=null){this._locationStrategy.replaceState(c,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(o)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(c=>c(n,o))}subscribe(n,o,c){return this._subject.subscribe({next:n,error:o,complete:c})}static{this.normalizeQueryParams=Fr}static{this.joinWithSlash=i0}static{this.stripTrailingSlash=Qg}static{this.\u0275fac=function(o){return new(o||e)(Ie(Oa))}}static{this.\u0275prov=se({token:e,factory:()=>RE(),providedIn:"root"})}}return e})();function RE(){return new Ao(Ie(Oa))}function OE(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Kg(e){return e.replace(/\/index.html$/,"")}function LE(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function s0(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let o=n.indexOf("="),[c,d]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(c.trim()===t)return decodeURIComponent(d)}return null}var a0=(()=>{class e{constructor(n,o){this._viewContainer=n,this._context=new ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Jg("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Jg("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}static{this.\u0275fac=function(o){return new(o||e)(fr(wo),fr(Tu))}}static{this.\u0275dir=ho({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),ku=class{constructor(){this.$implicit=null,this.ngIf=null}};function Jg(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${kt(t)}'.`)}var c0=(()=>{class e{constructor(n,o,c){this._ngEl=n,this._differs=o,this._renderer=c,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,o){let[c,d]=n.split("."),h=c.indexOf("-")===-1?void 0:dr.DashCase;o!=null?this._renderer.setStyle(this._ngEl.nativeElement,c,d?`${o}${d}`:o,h):this._renderer.removeStyle(this._ngEl.nativeElement,c,h)}_applyChanges(n){n.forEachRemovedItem(o=>this._setStyle(o.key,null)),n.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),n.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}static{this.\u0275fac=function(o){return new(o||e)(fr(mo),fr(Fu),fr(Aa))}}static{this.\u0275dir=ho({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})();var Uu="browser",PE="server";function Vu(e){return e===Uu}function Hu(e){return e===PE}var Ra=class{};var Wu=class extends _a{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$u=class e extends Wu{static makeCurrent(){n0(new e)}onAndCancel(t,n,o){return t.addEventListener(n,o),()=>{t.removeEventListener(n,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=FE();return n==null?null:kE(n)}resetBaseElement(){bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return s0(document.cookie,t)}},bo=null;function FE(){return bo=bo||document.querySelector("base"),bo?bo.getAttribute("href"):null}function kE(e){return new URL(e,document.baseURI).pathname}var BE=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),Yu=new pe(""),f0=(()=>{class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(c=>{c.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,c){return this._findPluginFor(o).addEventListener(n,o,c)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(d=>d.supports(n)),!o)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,o),o}static{this.\u0275fac=function(o){return new(o||e)(Ie(Yu),Ie(tt))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),La=class{constructor(t){this._doc=t}},zu="ng-app-id",h0=(()=>{class e{constructor(n,o,c,d={}){this.doc=n,this.appId=o,this.nonce=c,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hu(d),this.resetHostNodes()}addStyles(n){for(let o of n)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(n){for(let o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){let o=this.styleRef;o.get(n)?.elements?.forEach(c=>c.remove()),o.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${zu}="${this.appId}"]`);if(n?.length){let o=new Map;return n.forEach(c=>{c.textContent!=null&&o.set(c.textContent,c)}),o}return null}changeUsageCount(n,o){let c=this.styleRef;if(c.has(n)){let d=c.get(n);return d.usage+=o,d.usage}return c.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){let c=this.styleNodesInDOM,d=c?.get(o);if(d?.parentNode===n)return c.delete(o),d.removeAttribute(zu),d;{let h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=o,this.platformIsServer&&h.setAttribute(zu,this.appId),n.appendChild(h),h}}addStyleToHost(n,o){let c=this.getStyleElement(n,o),d=this.styleRef,h=d.get(o)?.elements;h?h.push(c):d.set(o,{elements:[c],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||e)(Ie(Jt),Ie(mu),Ie(wu,8),Ie(Vn))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),Gu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qu=/%COMP%/g,p0="%COMP%",jE=`_nghost-${p0}`,UE=`_ngcontent-${p0}`,VE=!0,HE=new pe("",{providedIn:"root",factory:()=>VE});function zE(e){return UE.replace(qu,e)}function GE(e){return jE.replace(qu,e)}function g0(e,t){return t.map(n=>n.replace(qu,e))}var l0=(()=>{class e{constructor(n,o,c,d,h,w,x,y=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=c,this.removeStylesOnCompDestroy=d,this.doc=h,this.platformId=w,this.ngZone=x,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=Hu(w),this.defaultRenderer=new So(n,h,x,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===An.ShadowDom&&(o=Je(Q({},o),{encapsulation:An.Emulated}));let c=this.getOrCreateRenderer(n,o);return c instanceof Pa?c.applyToHost(n):c instanceof To&&c.applyStyles(),c}getOrCreateRenderer(n,o){let c=this.rendererByCompId,d=c.get(o.id);if(!d){let h=this.doc,w=this.ngZone,x=this.eventManager,y=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(o.encapsulation){case An.Emulated:d=new Pa(x,y,o,this.appId,v,h,w,b);break;case An.ShadowDom:return new Zu(x,y,n,o,h,w,this.nonce,b);default:d=new To(x,y,o,v,h,w,b);break}c.set(o.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||e)(Ie(f0),Ie(h0),Ie(mu),Ie(HE),Ie(Jt),Ie(Vn),Ie(tt),Ie(wu))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),So=class{constructor(t,n,o,c){this.eventManager=t,this.doc=n,this.ngZone=o,this.platformIsServer=c,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Gu[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(u0(t)?t.content:t).appendChild(n)}insertBefore(t,n,o){t&&(u0(t)?t.content:t).insertBefore(n,o)}removeChild(t,n){n.remove()}selectRootElement(t,n){let o=typeof t=="string"?this.doc.querySelector(t):t;if(!o)throw new oe(-5104,!1);return n||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,o,c){if(c){n=c+":"+n;let d=Gu[c];d?t.setAttributeNS(d,n,o):t.setAttribute(n,o)}else t.setAttribute(n,o)}removeAttribute(t,n,o){if(o){let c=Gu[o];c?t.removeAttributeNS(c,n):t.removeAttribute(`${o}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,o,c){c&(dr.DashCase|dr.Important)?t.style.setProperty(n,o,c&dr.Important?"important":""):t.style[n]=o}removeStyle(t,n,o){o&dr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,o){t!=null&&(t[n]=o)}setValue(t,n){t.nodeValue=n}listen(t,n,o){if(typeof t=="string"&&(t=Ai().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(o))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function u0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Zu=class extends So{constructor(t,n,o,c,d,h,w,x){super(t,d,h,x),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=g0(c.id,c.styles);for(let v of y){let b=document.createElement("style");w&&b.setAttribute("nonce",w),b.textContent=v,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,o){return super.insertBefore(this.nodeOrShadowRoot(t),n,o)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},To=class extends So{constructor(t,n,o,c,d,h,w,x){super(t,d,h,w),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=c,this.styles=x?g0(x,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pa=class extends To{constructor(t,n,o,c,d,h,w,x){let y=c+"-"+o.id;super(t,n,o,d,h,w,x,y),this.contentAttr=zE(y),this.hostAttr=GE(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let o=super.createElement(t,n);return super.setAttribute(o,this.contentAttr,""),o}},WE=(()=>{class e extends La{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,c){return n.addEventListener(o,c,!1),()=>this.removeEventListener(n,o,c)}removeEventListener(n,o,c){return n.removeEventListener(o,c)}static{this.\u0275fac=function(o){return new(o||e)(Ie(Jt))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),d0=["alt","control","meta","shift"],$E={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZE=(()=>{class e extends La{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,o,c){let d=e.parseEventName(o),h=e.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(n,d.domEventName,h))}static parseEventName(n){let o=n.toLowerCase().split("."),c=o.shift();if(o.length===0||!(c==="keydown"||c==="keyup"))return null;let d=e._normalizeKey(o.pop()),h="",w=o.indexOf("code");if(w>-1&&(o.splice(w,1),h="code."),d0.forEach(y=>{let v=o.indexOf(y);v>-1&&(o.splice(v,1),h+=y+".")}),h+=d,o.length!=0||d.length===0)return null;let x={};return x.domEventName=c,x.fullKey=h,x}static matchEventFullKeyCode(n,o){let c=$E[n.key]||n.key,d="";return o.indexOf("code.")>-1&&(c=n.code,d="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),d0.forEach(h=>{if(h!==c){let w=YE[h];w(n)&&(d+=h+".")}}),d+=c,d===o)}static eventCallback(n,o,c){return d=>{e.matchEventFullKeyCode(d,n)&&c.runGuarded(()=>o(d))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(o){return new(o||e)(Ie(Jt))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})();function m0(e,t){return Xg(Q({rootComponent:e},qE(t)))}function qE(e){return{appProviders:[...eI,...e?.providers??[]],platformProviders:JE}}function XE(){$u.makeCurrent()}function QE(){return new kn}function KE(){return og(document),document}var JE=[{provide:Vn,useValue:Uu},{provide:yu,useValue:XE,multi:!0},{provide:Jt,useFactory:KE,deps:[]}];var eI=[{provide:fa,useValue:"root"},{provide:kn,useFactory:QE,deps:[]},{provide:Yu,useClass:WE,multi:!0,deps:[Jt,tt,Vn]},{provide:Yu,useClass:ZE,multi:!0,deps:[Jt]},l0,h0,f0,{provide:xi,useExisting:l0},{provide:Ra,useClass:BE,deps:[]},[]];var y0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(o){return new(o||e)(Ie(Jt))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ge="primary",Wo=Symbol("RouteTitle"),ed=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _i(e){return new ed(e)}function nI(e,t,n){let o=n.path.split("/");if(o.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||o.length<e.length))return null;let c={};for(let d=0;d<o.length;d++){let h=o[d],w=e[d];if(h[0]===":")c[h.substring(1)]=w;else if(h!==w.path)return null}return{consumed:e.slice(0,o.length),posParams:c}}function rI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Mn(e[n],t[n]))return!1;return!0}function Mn(e,t){let n=e?td(e):void 0,o=t?td(t):void 0;if(!n||!o||n.length!=o.length)return!1;let c;for(let d=0;d<n.length;d++)if(c=n[d],!A0(e[c],t[c]))return!1;return!0}function td(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function A0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),o=[...t].sort();return n.every((c,d)=>o[d]===c)}else return e===t}function b0(e){return e.length>0?e[e.length-1]:null}function hr(e){return Qc(e)?e:Io(e)?Ze(Promise.resolve(e)):ue(e)}var iI={exact:T0,subset:M0},S0={exact:oI,subset:sI,ignored:()=>!0};function w0(e,t,n){return iI[n.paths](e.root,t.root,n.matrixParams)&&S0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function oI(e,t){return Mn(e,t)}function T0(e,t,n){if(!Br(e.segments,t.segments)||!Ba(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let o in t.children)if(!e.children[o]||!T0(e.children[o],t.children[o],n))return!1;return!0}function sI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>A0(e[n],t[n]))}function M0(e,t,n){return N0(e,t,t.segments,n)}function N0(e,t,n,o){if(e.segments.length>n.length){let c=e.segments.slice(0,n.length);return!(!Br(c,n)||t.hasChildren()||!Ba(c,n,o))}else if(e.segments.length===n.length){if(!Br(e.segments,n)||!Ba(e.segments,n,o))return!1;for(let c in t.children)if(!e.children[c]||!M0(e.children[c],t.children[c],o))return!1;return!0}else{let c=n.slice(0,e.segments.length),d=n.slice(e.segments.length);return!Br(e.segments,c)||!Ba(e.segments,c,o)||!e.children[ge]?!1:N0(e.children[ge],t,d,o)}}function Ba(e,t,n){return t.every((o,c)=>S0[n](e[c].parameters,o.parameters))}var zn=class{constructor(t=new Fe([],{}),n={},o=null){this.root=t,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){return lI.serialize(this)}},Fe=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ja(this)}},kr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=_i(this.parameters),this._parameterMap}toString(){return R0(this)}};function aI(e,t){return Br(e,t)&&e.every((n,o)=>Mn(n.parameters,t[o].parameters))}function Br(e,t){return e.length!==t.length?!1:e.every((n,o)=>n.path===t[o].path)}function cI(e,t){let n=[];return Object.entries(e.children).forEach(([o,c])=>{o===ge&&(n=n.concat(t(c,o)))}),Object.entries(e.children).forEach(([o,c])=>{o!==ge&&(n=n.concat(t(c,o)))}),n}var Sd=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>new Po,providedIn:"root"})}}return e})(),Po=class{parse(t){let n=new rd(t);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Mo(t.root,!0)}`,o=fI(t.queryParams),c=typeof t.fragment=="string"?`#${uI(t.fragment)}`:"";return`${n}${o}${c}`}},lI=new Po;function ja(e){return e.segments.map(t=>R0(t)).join("/")}function Mo(e,t){if(!e.hasChildren())return ja(e);if(t){let n=e.children[ge]?Mo(e.children[ge],!1):"",o=[];return Object.entries(e.children).forEach(([c,d])=>{c!==ge&&o.push(`${c}:${Mo(d,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=cI(e,(o,c)=>c===ge?[Mo(e.children[ge],!1)]:[`${c}:${Mo(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[ge]!=null?`${ja(e)}/${n[0]}`:`${ja(e)}/(${n.join("//")})`}}function _0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fa(e){return _0(e).replace(/%3B/gi,";")}function uI(e){return encodeURI(e)}function nd(e){return _0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ua(e){return decodeURIComponent(e)}function x0(e){return Ua(e.replace(/\+/g,"%20"))}function R0(e){return`${nd(e.path)}${dI(e.parameters)}`}function dI(e){return Object.entries(e).map(([t,n])=>`;${nd(t)}=${nd(n)}`).join("")}function fI(e){let t=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(c=>`${Fa(n)}=${Fa(c)}`).join("&"):`${Fa(n)}=${Fa(o)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var hI=/^[^\/()?;#]+/;function Xu(e){let t=e.match(hI);return t?t[0]:""}var pI=/^[^\/()?;=#]+/;function gI(e){let t=e.match(pI);return t?t[0]:""}var mI=/^[^=?&#]+/;function yI(e){let t=e.match(mI);return t?t[0]:""}var wI=/^[^&#]+/;function xI(e){let t=e.match(wI);return t?t[0]:""}var rd=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(o[ge]=new Fe(t,n)),o}parseSegment(){let t=Xu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new kr(Ua(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=gI(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let c=Xu(this.remaining);c&&(o=c,this.capture(o))}t[Ua(n)]=Ua(o)}parseQueryParam(t){let n=yI(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let h=xI(this.remaining);h&&(o=h,this.capture(o))}let c=x0(n),d=x0(o);if(t.hasOwnProperty(c)){let h=t[c];Array.isArray(h)||(h=[h],t[c]=h),h.push(d)}else t[c]=d}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=Xu(this.remaining),c=this.remaining[o.length];if(c!=="/"&&c!==")"&&c!==";")throw new oe(4010,!1);let d;o.indexOf(":")>-1?(d=o.slice(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=ge);let h=this.parseChildren();n[d]=Object.keys(h).length===1?h[ge]:new Fe([],h),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}};function O0(e){return e.segments.length>0?new Fe([],{[ge]:e}):e}function L0(e){let t={};for(let[o,c]of Object.entries(e.children)){let d=L0(c);if(o===ge&&d.segments.length===0&&d.hasChildren())for(let[h,w]of Object.entries(d.children))t[h]=w;else(d.segments.length>0||d.hasChildren())&&(t[o]=d)}let n=new Fe(e.segments,t);return CI(n)}function CI(e){if(e.numberOfChildren===1&&e.children[ge]){let t=e.children[ge];return new Fe(e.segments.concat(t.segments),t.children)}return e}function Fo(e){return e instanceof zn}function EI(e,t,n=null,o=null){let c=P0(e);return F0(c,t,n,o)}function P0(e){let t;function n(d){let h={};for(let x of d.children){let y=n(x);h[x.outlet]=y}let w=new Fe(d.url,h);return d===e&&(t=w),w}let o=n(e.root),c=O0(o);return t??c}function F0(e,t,n,o){let c=e;for(;c.parent;)c=c.parent;if(t.length===0)return Qu(c,c,c,n,o);let d=II(t);if(d.toRoot())return Qu(c,c,new Fe([],{}),n,o);let h=vI(d,c,e),w=h.processChildren?Ro(h.segmentGroup,h.index,d.commands):B0(h.segmentGroup,h.index,d.commands);return Qu(c,h.segmentGroup,w,n,o)}function Va(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ko(e){return typeof e=="object"&&e!=null&&e.outlets}function Qu(e,t,n,o,c){let d={};o&&Object.entries(o).forEach(([x,y])=>{d[x]=Array.isArray(y)?y.map(v=>`${v}`):`${y}`});let h;e===t?h=n:h=k0(e,t,n);let w=O0(L0(h));return new zn(w,d,c)}function k0(e,t,n){let o={};return Object.entries(e.children).forEach(([c,d])=>{d===t?o[c]=n:o[c]=k0(d,t,n)}),new Fe(e.segments,o)}var Ha=class{constructor(t,n,o){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=o,t&&o.length>0&&Va(o[0]))throw new oe(4003,!1);let c=o.find(ko);if(c&&c!==b0(o))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function II(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ha(!0,0,e);let t=0,n=!1,o=e.reduce((c,d,h)=>{if(typeof d=="object"&&d!=null){if(d.outlets){let w={};return Object.entries(d.outlets).forEach(([x,y])=>{w[x]=typeof y=="string"?y.split("/"):y}),[...c,{outlets:w}]}if(d.segmentPath)return[...c,d.segmentPath]}return typeof d!="string"?[...c,d]:h===0?(d.split("/").forEach((w,x)=>{x==0&&w==="."||(x==0&&w===""?n=!0:w===".."?t++:w!=""&&c.push(w))}),c):[...c,d]},[]);return new Ha(n,t,o)}var Ti=class{constructor(t,n,o){this.segmentGroup=t,this.processChildren=n,this.index=o}};function vI(e,t,n){if(e.isAbsolute)return new Ti(t,!0,0);if(!n)return new Ti(t,!1,NaN);if(n.parent===null)return new Ti(n,!0,0);let o=Va(e.commands[0])?0:1,c=n.segments.length-1+o;return DI(n,c,e.numberOfDoubleDots)}function DI(e,t,n){let o=e,c=t,d=n;for(;d>c;){if(d-=c,o=o.parent,!o)throw new oe(4005,!1);c=o.segments.length}return new Ti(o,!1,c-d)}function AI(e){return ko(e[0])?e[0].outlets:{[ge]:e}}function B0(e,t,n){if(e??=new Fe([],{}),e.segments.length===0&&e.hasChildren())return Ro(e,t,n);let o=bI(e,t,n),c=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let d=new Fe(e.segments.slice(0,o.pathIndex),{});return d.children[ge]=new Fe(e.segments.slice(o.pathIndex),e.children),Ro(d,0,c)}else return o.match&&c.length===0?new Fe(e.segments,{}):o.match&&!e.hasChildren()?id(e,t,n):o.match?Ro(e,0,c):id(e,t,n)}function Ro(e,t,n){if(n.length===0)return new Fe(e.segments,{});{let o=AI(n),c={};if(Object.keys(o).some(d=>d!==ge)&&e.children[ge]&&e.numberOfChildren===1&&e.children[ge].segments.length===0){let d=Ro(e.children[ge],t,n);return new Fe(e.segments,d.children)}return Object.entries(o).forEach(([d,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(c[d]=B0(e.children[d],t,h))}),Object.entries(e.children).forEach(([d,h])=>{o[d]===void 0&&(c[d]=h)}),new Fe(e.segments,c)}}function bI(e,t,n){let o=0,c=t,d={match:!1,pathIndex:0,commandIndex:0};for(;c<e.segments.length;){if(o>=n.length)return d;let h=e.segments[c],w=n[o];if(ko(w))break;let x=`${w}`,y=o<n.length-1?n[o+1]:null;if(c>0&&x===void 0)break;if(x&&y&&typeof y=="object"&&y.outlets===void 0){if(!E0(x,y,h))return d;o+=2}else{if(!E0(x,{},h))return d;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}function id(e,t,n){let o=e.segments.slice(0,t),c=0;for(;c<n.length;){let d=n[c];if(ko(d)){let x=SI(d.outlets);return new Fe(o,x)}if(c===0&&Va(n[0])){let x=e.segments[t];o.push(new kr(x.path,C0(n[0]))),c++;continue}let h=ko(d)?d.outlets[ge]:`${d}`,w=c<n.length-1?n[c+1]:null;h&&w&&Va(w)?(o.push(new kr(h,C0(w))),c+=2):(o.push(new kr(h,{})),c++)}return new Fe(o,{})}function SI(e){let t={};return Object.entries(e).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(t[n]=id(new Fe([],{}),0,o))}),t}function C0(e){let t={};return Object.entries(e).forEach(([n,o])=>t[n]=`${o}`),t}function E0(e,t,n){return e==n.path&&Mn(t,n.parameters)}var Oo="imperative",xt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(xt||{}),en=class{constructor(t,n){this.id=t,this.url=n}},Bo=class extends en{constructor(t,n,o="imperative",c=null){super(t,n),this.type=xt.NavigationStart,this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jr=class extends en{constructor(t,n,o){super(t,n),this.urlAfterRedirects=o,this.type=xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(zt||{}),od=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(od||{}),Hn=class extends en{constructor(t,n,o,c){super(t,n),this.reason=o,this.code=c,this.type=xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends en{constructor(t,n,o,c){super(t,n),this.reason=o,this.code=c,this.type=xt.NavigationSkipped}},jo=class extends en{constructor(t,n,o,c){super(t,n),this.error=o,this.target=c,this.type=xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},za=class extends en{constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c,this.type=xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends en{constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c,this.type=xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class extends en{constructor(t,n,o,c,d){super(t,n),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=d,this.type=xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cd=class extends en{constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c,this.type=xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ld=class extends en{constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c,this.type=xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ud=class{constructor(t){this.route=t,this.type=xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dd=class{constructor(t){this.route=t,this.type=xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fd=class{constructor(t){this.snapshot=t,this.type=xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(t){this.snapshot=t,this.type=xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{constructor(t){this.snapshot=t,this.type=xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gd=class{constructor(t){this.snapshot=t,this.type=xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Uo=class{},Ri=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function TI(e,t){return e.providers&&!e._injector&&(e._injector=Nu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function mn(e){return e.outlet||ge}function MI(e,t){let n=e.filter(o=>mn(o)===t);return n.push(...e.filter(o=>mn(o)!==t)),n}function $o(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var md=class{get injector(){return $o(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Xa(this.rootInjector),this.attachRef=null}},Xa=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,o){let c=this.getOrCreateContext(n);c.outlet=o,this.contexts.set(n,c)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new md(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(o){return new(o||e)(Ie(Qt))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ga=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=yd(t,this._root);return n?n.children.map(o=>o.value):[]}firstChild(t){let n=yd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=wd(t,this._root);return n.length<2?[]:n[n.length-2].children.map(c=>c.value).filter(c=>c!==t)}pathFromRoot(t){return wd(t,this._root).map(n=>n.value)}};function yd(e,t){if(e===t.value)return t;for(let n of t.children){let o=yd(e,n);if(o)return o}return null}function wd(e,t){if(e===t.value)return[t];for(let n of t.children){let o=wd(e,n);if(o.length)return o.unshift(t),o}return[]}var Ht=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Si(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Wa=class extends Ga{constructor(t,n){super(t),this.snapshot=n,Td(this,t)}toString(){return this.snapshot.toString()}};function j0(e){let t=NI(e),n=new wt([new kr("",{})]),o=new wt({}),c=new wt({}),d=new wt({}),h=new wt(""),w=new Oi(n,o,d,h,c,ge,e,t.root);return w.snapshot=t.root,new Wa(new Ht(w,[]),t)}function NI(e){let t={},n={},o={},c="",d=new Mi([],t,o,c,n,ge,e,null,{});return new Ya("",new Ht(d,[]))}var Oi=class{constructor(t,n,o,c,d,h,w,x){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=c,this.dataSubject=d,this.outlet=h,this.component=w,this._futureSnapshot=x,this.title=this.dataSubject?.pipe(he(y=>y[Wo]))??ue(void 0),this.url=t,this.params=n,this.queryParams=o,this.fragment=c,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(t=>_i(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(t=>_i(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $a(e,t,n="emptyOnly"){let o,{routeConfig:c}=e;return t!==null&&(n==="always"||c?.path===""||!t.component&&!t.routeConfig?.loadComponent)?o={params:Q(Q({},t.params),e.params),data:Q(Q({},t.data),e.data),resolve:Q(Q(Q(Q({},e.data),t.data),c?.data),e._resolvedData)}:o={params:Q({},e.params),data:Q({},e.data),resolve:Q(Q({},e.data),e._resolvedData??{})},c&&V0(c)&&(o.resolve[Wo]=c.title),o}var Mi=class{get title(){return this.data?.[Wo]}constructor(t,n,o,c,d,h,w,x,y){this.url=t,this.params=n,this.queryParams=o,this.fragment=c,this.data=d,this.outlet=h,this.component=w,this.routeConfig=x,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ya=class extends Ga{constructor(t,n){super(n),this.url=t,Td(this,n)}toString(){return U0(this._root)}};function Td(e,t){t.value._routerState=e,t.children.forEach(n=>Td(e,n))}function U0(e){let t=e.children.length>0?` { ${e.children.map(U0).join(", ")} } `:"";return`${e.value}${t}`}function Ku(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Mn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Mn(t.params,n.params)||e.paramsSubject.next(n.params),rI(t.url,n.url)||e.urlSubject.next(n.url),Mn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xd(e,t){let n=Mn(e.params,t.params)&&aI(e.url,t.url),o=!e.parent!=!t.parent;return n&&!o&&(!e.parent||xd(e.parent,t.parent))}function V0(e){return typeof e.title=="string"||e.title===null}var Md=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=W(Xa),this.location=W(wo),this.changeDetector=W(vo),this.inputBinder=W(Nd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:c}=n.name;if(o)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;let c=this.location,h=n.snapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,x=new Cd(n,w,c.injector);this.activated=c.createComponent(h,{index:c.length,injector:x,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275dir=ho({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ga]})}}return e})(),Cd=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,o){this.route=t,this.childContexts=n,this.parent=o}get(t,n){return t===Oi?this.route:t===Xa?this.childContexts:this.parent.get(t,n)}},Nd=new pe("");function _I(e,t,n){let o=Vo(e,t._root,n?n._root:void 0);return new Wa(o,t)}function Vo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=t.value;let c=RI(e,t,n);return new Ht(o,c)}else{if(e.shouldAttach(t.value)){let d=e.retrieve(t.value);if(d!==null){let h=d.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(w=>Vo(e,w)),h}}let o=OI(t.value),c=t.children.map(d=>Vo(e,d));return new Ht(o,c)}}function RI(e,t,n){return t.children.map(o=>{for(let c of n.children)if(e.shouldReuseRoute(o.value,c.value.snapshot))return Vo(e,o,c);return Vo(e,o)})}function OI(e){return new Oi(new wt(e.url),new wt(e.params),new wt(e.queryParams),new wt(e.fragment),new wt(e.data),e.outlet,e.component,e)}var Ho=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},H0="ngNavigationCancelingError";function Za(e,t){let{redirectTo:n,navigationBehaviorOptions:o}=Fo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,c=z0(!1,zt.Redirect);return c.url=n,c.navigationBehaviorOptions=o,c}function z0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[H0]=!0,n.cancellationCode=t,n}function LI(e){return G0(e)&&Fo(e.url)}function G0(e){return!!e&&e[H0]}var PI=(e,t,n,o)=>he(c=>(new Ed(t,c.targetRouterState,c.currentRouterState,n,o).activate(e),c)),Ed=class{constructor(t,n,o,c,d){this.routeReuseStrategy=t,this.futureState=n,this.currState=o,this.forwardEvent=c,this.inputBindingEnabled=d}activate(t){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,t),Ku(this.futureState.root),this.activateChildRoutes(n,o,t)}deactivateChildRoutes(t,n,o){let c=Si(n);t.children.forEach(d=>{let h=d.value.outlet;this.deactivateRoutes(d,c[h],o),delete c[h]}),Object.values(c).forEach(d=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,n,o){let c=t.value,d=n?n.value:null;if(c===d)if(c.component){let h=o.getContext(c.outlet);h&&this.deactivateChildRoutes(t,n,h.children)}else this.deactivateChildRoutes(t,n,o);else d&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let o=n.getContext(t.value.outlet),c=o&&t.value.component?o.children:n,d=Si(t);for(let h of Object.values(d))this.deactivateRouteAndItsChildren(h,c);if(o&&o.outlet){let h=o.outlet.detach(),w=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:w})}}deactivateRouteAndOutlet(t,n){let o=n.getContext(t.value.outlet),c=o&&t.value.component?o.children:n,d=Si(t);for(let h of Object.values(d))this.deactivateRouteAndItsChildren(h,c);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,n,o){let c=Si(n);t.children.forEach(d=>{this.activateRoutes(d,c[d.value.outlet],o),this.forwardEvent(new gd(d.value.snapshot))}),t.children.length&&this.forwardEvent(new hd(t.value.snapshot))}activateRoutes(t,n,o){let c=t.value,d=n?n.value:null;if(Ku(c),c===d)if(c.component){let h=o.getOrCreateContext(c.outlet);this.activateChildRoutes(t,n,h.children)}else this.activateChildRoutes(t,n,o);else if(c.component){let h=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){let w=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),h.children.onOutletReAttached(w.contexts),h.attachRef=w.componentRef,h.route=w.route.value,h.outlet&&h.outlet.attach(w.componentRef,w.route.value),Ku(w.route.value),this.activateChildRoutes(t,null,h.children)}else h.attachRef=null,h.route=c,h.outlet&&h.outlet.activateWith(c,h.injector),this.activateChildRoutes(t,null,h.children)}else this.activateChildRoutes(t,null,o)}},qa=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ni=class{constructor(t,n){this.component=t,this.route=n}};function FI(e,t,n){let o=e._root,c=t?t._root:null;return No(o,c,n,[o.value])}function kI(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Pi(e,t){let n=Symbol(),o=t.get(e,n);return o===n?typeof e=="function"&&!zh(e)?e:t.get(e):o}function No(e,t,n,o,c={canDeactivateChecks:[],canActivateChecks:[]}){let d=Si(t);return e.children.forEach(h=>{BI(h,d[h.value.outlet],n,o.concat([h.value]),c),delete d[h.value.outlet]}),Object.entries(d).forEach(([h,w])=>Lo(w,n.getContext(h),c)),c}function BI(e,t,n,o,c={canDeactivateChecks:[],canActivateChecks:[]}){let d=e.value,h=t?t.value:null,w=n?n.getContext(e.value.outlet):null;if(h&&d.routeConfig===h.routeConfig){let x=jI(h,d,d.routeConfig.runGuardsAndResolvers);x?c.canActivateChecks.push(new qa(o)):(d.data=h.data,d._resolvedData=h._resolvedData),d.component?No(e,t,w?w.children:null,o,c):No(e,t,n,o,c),x&&w&&w.outlet&&w.outlet.isActivated&&c.canDeactivateChecks.push(new Ni(w.outlet.component,h))}else h&&Lo(t,w,c),c.canActivateChecks.push(new qa(o)),d.component?No(e,null,w?w.children:null,o,c):No(e,null,n,o,c);return c}function jI(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Br(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Br(e.url,t.url)||!Mn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xd(e,t)||!Mn(e.queryParams,t.queryParams);case"paramsChange":default:return!xd(e,t)}}function Lo(e,t,n){let o=Si(e),c=e.value;Object.entries(o).forEach(([d,h])=>{c.component?t?Lo(h,t.children.getContext(d),n):Lo(h,null,n):Lo(h,t,n)}),c.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ni(t.outlet.component,c)):n.canDeactivateChecks.push(new Ni(null,c)):n.canDeactivateChecks.push(new Ni(null,c))}function Yo(e){return typeof e=="function"}function UI(e){return typeof e=="boolean"}function VI(e){return e&&Yo(e.canLoad)}function HI(e){return e&&Yo(e.canActivate)}function zI(e){return e&&Yo(e.canActivateChild)}function GI(e){return e&&Yo(e.canDeactivate)}function WI(e){return e&&Yo(e.canMatch)}function W0(e){return e instanceof Ln||e?.name==="EmptyError"}var ka=Symbol("INITIAL_VALUE");function Li(){return Dt(e=>_s(e.map(t=>t.pipe(at(1),rl(ka)))).pipe(he(t=>{for(let n of t)if(n!==!0){if(n===ka)return ka;if(n===!1||$I(n))return n}return!0}),vt(t=>t!==ka),at(1)))}function $I(e){return Fo(e)||e instanceof Ho}function YI(e,t){return qe(n=>{let{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:d,canDeactivateChecks:h}}=n;return h.length===0&&d.length===0?ue(Je(Q({},n),{guardsResult:!0})):ZI(h,o,c,e).pipe(qe(w=>w&&UI(w)?qI(o,d,e,t):ue(w)),he(w=>Je(Q({},n),{guardsResult:w})))})}function ZI(e,t,n,o){return Ze(e).pipe(qe(c=>ev(c.component,c.route,n,t,o)),In(c=>c!==!0,!0))}function qI(e,t,n,o){return Ze(t).pipe(ii(c=>En(QI(c.route.parent,o),XI(c.route,o),JI(e,c.path,n),KI(e,c.route,n))),In(c=>c!==!0,!0))}function XI(e,t){return e!==null&&t&&t(new pd(e)),ue(!0)}function QI(e,t){return e!==null&&t&&t(new fd(e)),ue(!0)}function KI(e,t,n){let o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||o.length===0)return ue(!0);let c=o.map(d=>Dr(()=>{let h=$o(t)??n,w=Pi(d,h),x=HI(w)?w.canActivate(t,e):Bn(h,()=>w(t,e));return hr(x).pipe(In())}));return ue(c).pipe(Li())}function JI(e,t,n){let o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(h=>kI(h)).filter(h=>h!==null).map(h=>Dr(()=>{let w=h.guards.map(x=>{let y=$o(h.node)??n,v=Pi(x,y),b=zI(v)?v.canActivateChild(o,e):Bn(y,()=>v(o,e));return hr(b).pipe(In())});return ue(w).pipe(Li())}));return ue(d).pipe(Li())}function ev(e,t,n,o,c){let d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||d.length===0)return ue(!0);let h=d.map(w=>{let x=$o(t)??c,y=Pi(w,x),v=GI(y)?y.canDeactivate(e,t,n,o):Bn(x,()=>y(e,t,n,o));return hr(v).pipe(In())});return ue(h).pipe(Li())}function tv(e,t,n,o){let c=t.canLoad;if(c===void 0||c.length===0)return ue(!0);let d=c.map(h=>{let w=Pi(h,e),x=VI(w)?w.canLoad(t,n):Bn(e,()=>w(t,n));return hr(x)});return ue(d).pipe(Li(),$0(o))}function $0(e){return Gc(ct(t=>{if(typeof t!="boolean")throw Za(e,t)}),he(t=>t===!0))}function nv(e,t,n,o){let c=t.canMatch;if(!c||c.length===0)return ue(!0);let d=c.map(h=>{let w=Pi(h,e),x=WI(w)?w.canMatch(t,n):Bn(e,()=>w(t,n));return hr(x)});return ue(d).pipe(Li(),$0(o))}var zo=class{constructor(t){this.segmentGroup=t||null}},Go=class extends Error{constructor(t){super(),this.urlTree=t}};function bi(e){return tr(new zo(e))}function rv(e){return tr(new oe(4e3,!1))}function iv(e){return tr(z0(!1,zt.GuardRejected))}var Id=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let o=[],c=n.root;for(;;){if(o=o.concat(c.segments),c.numberOfChildren===0)return ue(o);if(c.numberOfChildren>1||!c.children[ge])return rv(`${t.redirectTo}`);c=c.children[ge]}}applyRedirectCommands(t,n,o,c,d){if(typeof n!="string"){let w=n,{queryParams:x,fragment:y,routeConfig:v,url:b,outlet:k,params:O,data:G,title:X}=c,Y=Bn(d,()=>w({params:O,data:G,queryParams:x,fragment:y,routeConfig:v,url:b,outlet:k,title:X}));if(Y instanceof zn)throw new Go(Y);n=Y}let h=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,o);if(n[0]==="/")throw new Go(h);return h}applyRedirectCreateUrlTree(t,n,o,c){let d=this.createSegmentGroup(t,n.root,o,c);return new zn(d,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let o={};return Object.entries(t).forEach(([c,d])=>{if(typeof d=="string"&&d[0]===":"){let w=d.substring(1);o[c]=n[w]}else o[c]=d}),o}createSegmentGroup(t,n,o,c){let d=this.createSegments(t,n.segments,o,c),h={};return Object.entries(n.children).forEach(([w,x])=>{h[w]=this.createSegmentGroup(t,x,o,c)}),new Fe(d,h)}createSegments(t,n,o,c){return n.map(d=>d.path[0]===":"?this.findPosParam(t,d,c):this.findOrReturn(d,o))}findPosParam(t,n,o){let c=o[n.path.substring(1)];if(!c)throw new oe(4001,!1);return c}findOrReturn(t,n){let o=0;for(let c of n){if(c.path===t.path)return n.splice(o),c;o++}return t}},vd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ov(e,t,n,o,c){let d=Y0(e,t,n);return d.matched?(o=TI(t,o),nv(o,t,n,c).pipe(he(h=>h===!0?d:Q({},vd)))):ue(d)}function Y0(e,t,n){if(t.path==="**")return sv(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?Q({},vd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let c=(t.matcher||nI)(n,e,t);if(!c)return Q({},vd);let d={};Object.entries(c.posParams??{}).forEach(([w,x])=>{d[w]=x.path});let h=c.consumed.length>0?Q(Q({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:n.slice(c.consumed.length),parameters:h,positionalParamSegments:c.posParams??{}}}function sv(e){return{matched:!0,parameters:e.length>0?b0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function I0(e,t,n,o){return n.length>0&&lv(e,n,o)?{segmentGroup:new Fe(t,cv(o,new Fe(n,e.children))),slicedSegments:[]}:n.length===0&&uv(e,n,o)?{segmentGroup:new Fe(e.segments,av(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new Fe(e.segments,e.children),slicedSegments:n}}function av(e,t,n,o){let c={};for(let d of n)if(Qa(e,t,d)&&!o[mn(d)]){let h=new Fe([],{});c[mn(d)]=h}return Q(Q({},o),c)}function cv(e,t){let n={};n[ge]=t;for(let o of e)if(o.path===""&&mn(o)!==ge){let c=new Fe([],{});n[mn(o)]=c}return n}function lv(e,t,n){return n.some(o=>Qa(e,t,o)&&mn(o)!==ge)}function uv(e,t,n){return n.some(o=>Qa(e,t,o))}function Qa(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dv(e,t,n){return t.length===0&&!e.children[n]}var Dd=class{};function fv(e,t,n,o,c,d,h="emptyOnly"){return new Ad(e,t,n,o,c,h,d).recognize()}var hv=31,Ad=class{constructor(t,n,o,c,d,h,w){this.injector=t,this.configLoader=n,this.rootComponentType=o,this.config=c,this.urlTree=d,this.paramsInheritanceStrategy=h,this.urlSerializer=w,this.applyRedirects=new Id(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new oe(4002,`'${t.segmentGroup}'`)}recognize(){let t=I0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(he(({children:n,rootSnapshot:o})=>{let c=new Ht(o,n),d=new Ya("",c),h=EI(o,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(h),{state:d,tree:h}}))}match(t){let n=new Mi([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ge,n).pipe(he(o=>({children:o,rootSnapshot:n})),nr(o=>{if(o instanceof Go)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof zo?this.noMatchError(o):o}))}processSegmentGroup(t,n,o,c,d){return o.segments.length===0&&o.hasChildren()?this.processChildren(t,n,o,d):this.processSegment(t,n,o,o.segments,c,!0,d).pipe(he(h=>h instanceof Ht?[h]:[]))}processChildren(t,n,o,c){let d=[];for(let h of Object.keys(o.children))h==="primary"?d.unshift(h):d.push(h);return Ze(d).pipe(ii(h=>{let w=o.children[h],x=MI(n,h);return this.processSegmentGroup(t,x,w,h,c)}),nl((h,w)=>(h.push(...w),h)),rr(null),el(),qe(h=>{if(h===null)return bi(o);let w=Z0(h);return pv(w),ue(w)}))}processSegment(t,n,o,c,d,h,w){return Ze(n).pipe(ii(x=>this.processSegmentAgainstRoute(x._injector??t,n,x,o,c,d,h,w).pipe(nr(y=>{if(y instanceof zo)return ue(null);throw y}))),In(x=>!!x),nr(x=>{if(W0(x))return dv(o,c,d)?ue(new Dd):bi(o);throw x}))}processSegmentAgainstRoute(t,n,o,c,d,h,w,x){return mn(o)!==h&&(h===ge||!Qa(c,d,o))?bi(c):o.redirectTo===void 0?this.matchSegmentAgainstRoute(t,c,o,d,h,x):this.allowRedirects&&w?this.expandSegmentAgainstRouteUsingRedirect(t,c,n,o,d,h,x):bi(c)}expandSegmentAgainstRouteUsingRedirect(t,n,o,c,d,h,w){let{matched:x,parameters:y,consumedSegments:v,positionalParamSegments:b,remainingSegments:k}=Y0(n,c,d);if(!x)return bi(n);typeof c.redirectTo=="string"&&c.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hv&&(this.allowRedirects=!1));let O=new Mi(d,y,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,v0(c),mn(c),c.component??c._loadedComponent??null,c,D0(c)),G=$a(O,w,this.paramsInheritanceStrategy);O.params=Object.freeze(G.params),O.data=Object.freeze(G.data);let X=this.applyRedirects.applyRedirectCommands(v,c.redirectTo,b,O,t);return this.applyRedirects.lineralizeSegments(c,X).pipe(qe(Y=>this.processSegment(t,o,n,Y.concat(k),h,!1,w)))}matchSegmentAgainstRoute(t,n,o,c,d,h){let w=ov(n,o,c,t,this.urlSerializer);return o.path==="**"&&(n.children={}),w.pipe(Dt(x=>x.matched?(t=o._injector??t,this.getChildConfig(t,o,c).pipe(Dt(({routes:y})=>{let v=o._loadedInjector??t,{parameters:b,consumedSegments:k,remainingSegments:O}=x,G=new Mi(k,b,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,v0(o),mn(o),o.component??o._loadedComponent??null,o,D0(o)),X=$a(G,h,this.paramsInheritanceStrategy);G.params=Object.freeze(X.params),G.data=Object.freeze(X.data);let{segmentGroup:Y,slicedSegments:H}=I0(n,k,O,y);if(H.length===0&&Y.hasChildren())return this.processChildren(v,y,Y,G).pipe(he($e=>new Ht(G,$e)));if(y.length===0&&H.length===0)return ue(new Ht(G,[]));let re=mn(o)===d;return this.processSegment(v,y,Y,H,re?ge:d,!0,G).pipe(he($e=>new Ht(G,$e instanceof Ht?[$e]:[])))}))):bi(n)))}getChildConfig(t,n,o){return n.children?ue({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ue({routes:n._loadedRoutes,injector:n._loadedInjector}):tv(t,n,o,this.urlSerializer).pipe(qe(c=>c?this.configLoader.loadChildren(t,n).pipe(ct(d=>{n._loadedRoutes=d.routes,n._loadedInjector=d.injector})):iv(n))):ue({routes:[],injector:t})}};function pv(e){e.sort((t,n)=>t.value.outlet===ge?-1:n.value.outlet===ge?1:t.value.outlet.localeCompare(n.value.outlet))}function gv(e){let t=e.value.routeConfig;return t&&t.path===""}function Z0(e){let t=[],n=new Set;for(let o of e){if(!gv(o)){t.push(o);continue}let c=t.find(d=>o.value.routeConfig===d.value.routeConfig);c!==void 0?(c.children.push(...o.children),n.add(c)):t.push(o)}for(let o of n){let c=Z0(o.children);t.push(new Ht(o.value,c))}return t.filter(o=>!n.has(o))}function v0(e){return e.data||{}}function D0(e){return e.resolve||{}}function mv(e,t,n,o,c,d){return qe(h=>fv(e,t,n,o,h.extractedUrl,c,d).pipe(he(({state:w,tree:x})=>Je(Q({},h),{targetSnapshot:w,urlAfterRedirects:x}))))}function yv(e,t){return qe(n=>{let{targetSnapshot:o,guards:{canActivateChecks:c}}=n;if(!c.length)return ue(n);let d=new Set(c.map(x=>x.route)),h=new Set;for(let x of d)if(!h.has(x))for(let y of q0(x))h.add(y);let w=0;return Ze(h).pipe(ii(x=>d.has(x)?wv(x,o,e,t):(x.data=$a(x,x.parent,e).resolve,ue(void 0))),ct(()=>w++),oi(1),qe(x=>w===h.size?ue(n):Tt))})}function q0(e){let t=e.children.map(n=>q0(n)).flat();return[e,...t]}function wv(e,t,n,o){let c=e.routeConfig,d=e._resolve;return c?.title!==void 0&&!V0(c)&&(d[Wo]=c.title),xv(d,e,t,o).pipe(he(h=>(e._resolvedData=h,e.data=$a(e,e.parent,n).resolve,null)))}function xv(e,t,n,o){let c=td(e);if(c.length===0)return ue({});let d={};return Ze(c).pipe(qe(h=>Cv(e[h],t,n,o).pipe(In(),ct(w=>{if(w instanceof Ho)throw Za(new Po,w);d[h]=w}))),oi(1),Ji(d),nr(h=>W0(h)?Tt:tr(h)))}function Cv(e,t,n,o){let c=$o(t)??o,d=Pi(e,c),h=d.resolve?d.resolve(t,n):Bn(c,()=>d(t,n));return hr(h)}function Ju(e){return Dt(t=>{let n=e(t);return n?Ze(n).pipe(he(()=>t)):ue(t)})}var X0=(()=>{class e{buildTitle(n){let o,c=n.root;for(;c!==void 0;)o=this.getResolvedTitleForRoute(c)??o,c=c.children.find(d=>d.outlet===ge);return o}getResolvedTitleForRoute(n){return n.data[Wo]}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(Ev),providedIn:"root"})}}return e})(),Ev=(()=>{class e extends X0{constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}static{this.\u0275fac=function(o){return new(o||e)(Ie(y0))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_d=new pe("",{providedIn:"root",factory:()=>({})}),Iv=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=da({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ta],decls:1,vars:0,template:function(o,c){o&1&&Di(0,"router-outlet")},dependencies:[Md],encapsulation:2})}}return e})();function Rd(e){let t=e.children&&e.children.map(Rd),n=t?Je(Q({},e),{children:t}):Q({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=Iv),n}var Od=new pe(""),vv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(Lu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ue(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let o=hr(n.loadComponent()).pipe(he(Q0),ct(d=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=d}),eo(()=>{this.componentLoaders.delete(n)})),c=new er(o,()=>new rt).pipe(ei());return this.componentLoaders.set(n,c),c}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ue({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let d=Dv(o,this.compiler,n,this.onLoadEndListener).pipe(eo(()=>{this.childrenLoaders.delete(o)})),h=new er(d,()=>new rt).pipe(ei());return this.childrenLoaders.set(o,h),h}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Dv(e,t,n,o){return hr(e.loadChildren()).pipe(he(Q0),qe(c=>c instanceof fo||Array.isArray(c)?ue(c):Ze(t.compileModuleAsync(c))),he(c=>{o&&o(e);let d,h,w=!1;return Array.isArray(c)?(h=c,w=!0):(d=c.create(n).injector,h=d.get(Od,[],{optional:!0,self:!0}).flat()),{routes:h.map(Rd),injector:d}}))}function Av(e){return e&&typeof e=="object"&&"default"in e}function Q0(e){return Av(e)?e.default:e}var Ld=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(bv),providedIn:"root"})}}return e})(),bv=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sv=new pe("");var Tv=new pe(""),Mv=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=W(vv),this.environmentInjector=W(Qt),this.urlSerializer=W(Sd),this.rootContexts=W(Xa),this.location=W(Ao),this.inputBindingEnabled=W(Nd,{optional:!0})!==null,this.titleStrategy=W(X0),this.options=W(_d,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(Ld),this.createViewTransition=W(Sv,{optional:!0}),this.navigationErrorHandler=W(Tv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let n=c=>this.events.next(new ud(c)),o=c=>this.events.next(new dd(c));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;this.transitions?.next(Je(Q(Q({},this.transitions.value),n),{id:o}))}setupNavigations(n,o,c){return this.transitions=new wt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Oo,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(d=>d.id!==0),he(d=>Je(Q({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),Dt(d=>{let h=!1,w=!1;return ue(d).pipe(Dt(x=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",zt.SupersededByNewNavigation),Tt;this.currentTransition=d,this.currentNavigation={id:x.id,initialUrl:x.rawUrl,extractedUrl:x.extractedUrl,targetBrowserUrl:typeof x.extras.browserUrl=="string"?this.urlSerializer.parse(x.extras.browserUrl):x.extras.browserUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Je(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let y=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=x.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!y&&v!=="reload"){let b="";return this.events.next(new Ur(x.id,this.urlSerializer.serialize(x.rawUrl),b,od.IgnoredSameUrlNavigation)),x.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return ue(x).pipe(Dt(b=>{let k=this.transitions?.getValue();return this.events.next(new Bo(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),k!==this.transitions?.getValue()?Tt:Promise.resolve(b)}),mv(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(b=>{d.targetSnapshot=b.targetSnapshot,d.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=Je(Q({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let k=new za(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(k)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(x.currentRawUrl)){let{id:b,extractedUrl:k,source:O,restoredState:G,extras:X}=x,Y=new Bo(b,this.urlSerializer.serialize(k),O,G);this.events.next(Y);let H=j0(this.rootComponentType).snapshot;return this.currentTransition=d=Je(Q({},x),{targetSnapshot:H,urlAfterRedirects:k,extras:Je(Q({},X),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=k,ue(d)}else{let b="";return this.events.next(new Ur(x.id,this.urlSerializer.serialize(x.extractedUrl),b,od.IgnoredByUrlHandlingStrategy)),x.resolve(!1),Tt}}),ct(x=>{let y=new sd(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(y)}),he(x=>(this.currentTransition=d=Je(Q({},x),{guards:FI(x.targetSnapshot,x.currentSnapshot,this.rootContexts)}),d)),YI(this.environmentInjector,x=>this.events.next(x)),ct(x=>{if(d.guardsResult=x.guardsResult,x.guardsResult&&typeof x.guardsResult!="boolean")throw Za(this.urlSerializer,x.guardsResult);let y=new ad(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.events.next(y)}),vt(x=>x.guardsResult?!0:(this.cancelNavigationTransition(x,"",zt.GuardRejected),!1)),Ju(x=>{if(x.guards.canActivateChecks.length)return ue(x).pipe(ct(y=>{let v=new cd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(v)}),Dt(y=>{let v=!1;return ue(y).pipe(yv(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(y,"",zt.NoDataFromResolver)}}))}),ct(y=>{let v=new ld(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(v)}))}),Ju(x=>{let y=v=>{let b=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(v.routeConfig).pipe(ct(k=>{v.component=k}),he(()=>{})));for(let k of v.children)b.push(...y(k));return b};return _s(y(x.targetSnapshot.root)).pipe(rr(null),at(1))}),Ju(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:x,targetSnapshot:y}=d,v=this.createViewTransition?.(this.environmentInjector,x.root,y.root);return v?Ze(v).pipe(he(()=>d)):ue(d)}),he(x=>{let y=_I(n.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return this.currentTransition=d=Je(Q({},x),{targetRouterState:y}),this.currentNavigation.targetRouterState=y,d}),ct(()=>{this.events.next(new Uo)}),PI(this.rootContexts,n.routeReuseStrategy,x=>this.events.next(x),this.inputBindingEnabled),at(1),ct({next:x=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects))),this.titleStrategy?.updateTitle(x.targetRouterState.snapshot),x.resolve(!0)},complete:()=>{h=!0}}),il(this.transitionAbortSubject.pipe(ct(x=>{throw x}))),eo(()=>{!h&&!w&&this.cancelNavigationTransition(d,"",zt.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(x=>{if(w=!0,G0(x))this.events.next(new Hn(d.id,this.urlSerializer.serialize(d.extractedUrl),x.message,x.cancellationCode)),LI(x)?this.events.next(new Ri(x.url,x.navigationBehaviorOptions)):d.resolve(!1);else{let y=new jo(d.id,this.urlSerializer.serialize(d.extractedUrl),x,d.targetSnapshot??void 0);try{let v=Bn(this.environmentInjector,()=>this.navigationErrorHandler?.(y));if(v instanceof Ho){let{message:b,cancellationCode:k}=Za(this.urlSerializer,v);this.events.next(new Hn(d.id,this.urlSerializer.serialize(d.extractedUrl),b,k)),this.events.next(new Ri(v.redirectTo,v.navigationBehaviorOptions))}else{this.events.next(y);let b=n.errorHandler(x);d.resolve(!!b)}}catch(v){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(v)}}return Tt}))}))}cancelNavigationTransition(n,o,c){let d=new Hn(n.id,this.urlSerializer.serialize(n.extractedUrl),o,c);this.events.next(d),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Nv(e){return e!==Oo}var _v=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(Rv),providedIn:"root"})}}return e})(),bd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Rv=(()=>{class e extends bd{static{this.\u0275fac=(()=>{let n;return function(c){return(n||(n=hu(e)))(c||e)}})()}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K0=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:()=>W(Ov),providedIn:"root"})}}return e})(),Ov=(()=>{class e extends K0{constructor(){super(...arguments),this.location=W(Ao),this.urlSerializer=W(Sd),this.options=W(_d,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(Ld),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=j0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Bo)this.stateMemento=this.createStateMemento();else if(n instanceof Ur)this.rawUrlTree=o.initialUrl;else if(n instanceof za){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??c,o)}}else n instanceof Uo?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):n instanceof Hn&&(n.code===zt.GuardRejected||n.code===zt.NoDataFromResolver)?this.restoreHistory(o):n instanceof jo?this.restoreHistory(o,!0):n instanceof jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){let c=n instanceof zn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl){let d=this.browserPageId,h=Q(Q({},o.extras.state),this.generateNgRouterState(o.id,d));this.location.replaceState(c,"",h)}else{let d=Q(Q({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(c,"",d)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,d=this.currentPageId-c;d!==0?this.location.historyGo(d):this.currentUrlTree===n.finalUrl&&d===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(c){return(n||(n=hu(e)))(c||e)}})()}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_o=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(_o||{});function Lv(e,t){e.events.pipe(vt(n=>n instanceof jr||n instanceof Hn||n instanceof jo||n instanceof Ur),he(n=>n instanceof jr||n instanceof Ur?_o.COMPLETE:(n instanceof Hn?n.code===zt.Redirect||n.code===zt.SupersededByNewNavigation:!1)?_o.REDIRECTING:_o.FAILED),vt(n=>n!==_o.REDIRECTING),at(1)).subscribe(()=>{t()})}function Pv(e){throw e}var Fv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},J0=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(Ma),this.stateManager=W(K0),this.options=W(_d,{optional:!0})||{},this.pendingTasks=W(Ii),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(Mv),this.urlSerializer=W(Sd),this.location=W(Ao),this.urlHandlingStrategy=W(Ld),this._events=new rt,this.errorHandler=this.options.errorHandler||Pv,this.navigated=!1,this.routeReuseStrategy=W(_v),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(Od,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(Nd,{optional:!0}),this.eventsSubscription=new et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let c=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(c!==null&&d!==null){if(this.stateManager.handleRouterEvent(o,d),o instanceof Hn&&o.code!==zt.Redirect&&o.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof jr)this.navigated=!0;else if(o instanceof Ri){let h=o.navigationBehaviorOptions,w=this.urlHandlingStrategy.merge(o.url,c.currentRawUrl),x=Q({browserUrl:c.extras.browserUrl,info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:c.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Nv(c.source)},h);this.scheduleNavigation(w,Oo,null,x,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}jv(o)&&this._events.next(o)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)})}navigateToSyncWithBrowser(n,o,c){let d={replaceUrl:!0},h=c?.navigationId?c:null;if(c){let x=Q({},c);delete x.navigationId,delete x.\u0275routerPageId,Object.keys(x).length!==0&&(d.state=x)}let w=this.parseUrl(n);this.scheduleNavigation(w,o,h,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Rd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:c,queryParams:d,fragment:h,queryParamsHandling:w,preserveFragment:x}=o,y=x?this.currentUrlTree.fragment:h,v=null;switch(w??this.options.defaultQueryParamsHandling){case"merge":v=Q(Q({},this.currentUrlTree.queryParams),d);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=d||null}v!==null&&(v=this.removeEmptyProps(v));let b;try{let k=c?c.snapshot:this.routerState.snapshot.root;b=P0(k)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),b=this.currentUrlTree.root}return F0(b,n,v,y??null)}navigateByUrl(n,o={skipLocationChange:!1}){let c=Fo(n)?n:this.parseUrl(n),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,Oo,null,o)}navigate(n,o={skipLocationChange:!1}){return Bv(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let c;if(o===!0?c=Q({},Fv):o===!1?c=Q({},kv):c=o,Fo(n))return w0(this.currentUrlTree,n,c);let d=this.parseUrl(n);return w0(this.currentUrlTree,d,c)}removeEmptyProps(n){return Object.entries(n).reduce((o,[c,d])=>(d!=null&&(o[c]=d),o),{})}scheduleNavigation(n,o,c,d,h){if(this.disposed)return Promise.resolve(!1);let w,x,y;h?(w=h.resolve,x=h.reject,y=h.promise):y=new Promise((b,k)=>{w=b,x=k});let v=this.pendingTasks.add();return Lv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:d,resolve:w,reject:x,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(b=>Promise.reject(b))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Bv(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new oe(4008,!1)}function jv(e){return!(e instanceof Uo)&&!(e instanceof Ri)}var Uv=new pe("");function e1(e,...t){return Ci([{provide:Od,multi:!0,useValue:e},[],{provide:Oi,useFactory:Vv,deps:[J0]},{provide:Ou,multi:!0,useFactory:Hv},t.map(n=>n.\u0275providers)])}function Vv(e){return e.routerState.root}function Hv(){let e=W(Fn);return t=>{let n=e.get(Tn);if(t!==n.components[0])return;let o=e.get(J0),c=e.get(zv);e.get(Gv)===1&&o.initialNavigation(),e.get(Wv,null,xe.Optional)?.setUpPreloading(),e.get(Uv,null,xe.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}var zv=new pe("",{factory:()=>new rt}),Gv=new pe("",{providedIn:"root",factory:()=>1});var Wv=new pe("");var t1=[];var qo="Service workers are disabled or not supported by this browser";function $v(e){return Dr(()=>tr(new Error(e)))}var Fi=class{constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=$v(qo);else{let o=ri(t,"controllerchange").pipe(he(()=>t.controller)),c=Dr(()=>ue(t.controller)),d=En(c,o);this.worker=d.pipe(vt(v=>!!v)),this.registration=this.worker.pipe(Dt(()=>t.getRegistration()));let y=ri(t,"message").pipe(he(v=>v.data)).pipe(vt(v=>v&&v.type)).pipe(tl());y.connect(),this.events=y}}postMessage(t,n){return this.worker.pipe(at(1),ct(o=>{o.postMessage(Q({action:t},n))})).toPromise().then(()=>{})}postMessageWithOperation(t,n,o){let c=this.waitForOperationCompleted(o),d=this.postMessage(t,n);return Promise.all([d,c]).then(([,h])=>h)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let n;return typeof t=="string"?n=o=>o.type===t:n=o=>t.includes(o.type),this.events.pipe(vt(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(at(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(vt(n=>n.nonce===t),at(1),he(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Yv=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new rt,!n.isEnabled){this.messages=Ar,this.notificationClicks=Ar,this.subscription=Ar;return}this.messages=this.sw.eventsOfType("PUSH").pipe(he(c=>c.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(he(c=>c.data)),this.pushManager=this.sw.registration.pipe(he(c=>c.pushManager));let o=this.pushManager.pipe(Dt(c=>c.getSubscription()));this.subscription=Rs(o,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(qo));let o={userVisibleOnly:!0},c=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(c.length));for(let h=0;h<c.length;h++)d[h]=c.charCodeAt(h);return o.applicationServerKey=d,this.pushManager.pipe(Dt(h=>h.subscribe(o)),at(1)).toPromise().then(h=>(this.subscriptionChanges.next(h),h))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(qo));let n=o=>{if(o===null)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(c=>{if(!c)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(at(1),Dt(n)).toPromise()}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(o){return new(o||e)(Ie(Fi))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})(),Zv=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Ar,this.unrecoverable=Ar;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qo));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qo));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(o){return new(o||e)(Ie(Fi))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac})}}return e})();var n1=new pe("");function qv(e,t,n,o){return()=>{if(!(Vu(o)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let c=e.get(tt),d=e.get(Tn);c.runOutsideAngular(()=>{let w=navigator.serviceWorker,x=()=>w.controller?.postMessage({action:"INITIALIZE"});w.addEventListener("controllerchange",x),d.onDestroy(()=>{w.removeEventListener("controllerchange",x)})});let h;if(typeof n.registrationStrategy=="function")h=n.registrationStrategy();else{let[w,...x]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(w){case"registerImmediately":h=ue(null);break;case"registerWithDelay":h=r1(+x[0]||0);break;case"registerWhenStable":let y=Ze(e.get(Tn).whenStable());h=x[0]?Rs(y,r1(+x[0])):y;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}c.runOutsideAngular(()=>h.pipe(at(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(w=>console.error("Service worker registration failed with:",w))))}}function r1(e){return ue(null).pipe(Jc(e))}function Xv(e,t){return new Fi(Vu(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var Zo=class{};function i1(e,t={}){return Ci([Yv,Zv,{provide:n1,useValue:e},{provide:Zo,useValue:t},{provide:Fi,useFactory:Xv,deps:[Zo,Vn]},{provide:Na,useFactory:qv,deps:[Fn,n1,Zo,Vn],multi:!0}])}var o1={providers:[Yg({eventCoalescing:!0}),e1(t1),i1("ngsw-worker.js",{enabled:!qg(),registrationStrategy:"registerWhenStable:30000"})]};var $=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}($||{}),s1=new Map([[$.QR_CODE,"QR_CODE"],[$.AZTEC,"AZTEC"],[$.CODABAR,"CODABAR"],[$.CODE_39,"CODE_39"],[$.CODE_93,"CODE_93"],[$.CODE_128,"CODE_128"],[$.DATA_MATRIX,"DATA_MATRIX"],[$.MAXICODE,"MAXICODE"],[$.ITF,"ITF"],[$.EAN_13,"EAN_13"],[$.EAN_8,"EAN_8"],[$.PDF_417,"PDF_417"],[$.RSS_14,"RSS_14"],[$.RSS_EXPANDED,"RSS_EXPANDED"],[$.UPC_A,"UPC_A"],[$.UPC_E,"UPC_E"],[$.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function a1(e){return Object.values($).includes(e)}var Nn=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(Nn||{}),Bt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Nn.SCAN_TYPE_CAMERA,Nn.SCAN_TYPE_FILE],e}();var Ka=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!s1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,s1.get(t))},e}();var Pd=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}();var c1=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(c1||{}),Ja=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:c1.UNKWOWN_ERROR}},e}();var ec=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function tn(e){return typeof e>"u"||e===null}function l1(e,t,n){return e>n?n:e<t?t:e}var pr=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}();var Te=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}();var Fd=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}();var kd=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var o=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),h=Object.keys(t),w=0,x=h;w<x.length;w++){var y=x[w];if(d.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}();var ke=Nm(d1());var Bd=function(){function e(t,n,o){if(this.formatMap=new Map([[$.QR_CODE,ke.BarcodeFormat.QR_CODE],[$.AZTEC,ke.BarcodeFormat.AZTEC],[$.CODABAR,ke.BarcodeFormat.CODABAR],[$.CODE_39,ke.BarcodeFormat.CODE_39],[$.CODE_93,ke.BarcodeFormat.CODE_93],[$.CODE_128,ke.BarcodeFormat.CODE_128],[$.DATA_MATRIX,ke.BarcodeFormat.DATA_MATRIX],[$.MAXICODE,ke.BarcodeFormat.MAXICODE],[$.ITF,ke.BarcodeFormat.ITF],[$.EAN_13,ke.BarcodeFormat.EAN_13],[$.EAN_8,ke.BarcodeFormat.EAN_8],[$.PDF_417,ke.BarcodeFormat.PDF_417],[$.RSS_14,ke.BarcodeFormat.RSS_14],[$.RSS_EXPANDED,ke.BarcodeFormat.RSS_EXPANDED],[$.UPC_A,ke.BarcodeFormat.UPC_A],[$.UPC_E,ke.BarcodeFormat.UPC_E],[$.UPC_EAN_EXTENSION,ke.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ke)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=o;var c=this.createZXingFormats(t),d=new Map;d.set(ke.DecodeHintType.POSSIBLE_FORMATS,c),d.set(ke.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(o,c){try{o(n.decode(t))}catch(d){c(d)}})},e.prototype.decode=function(t){var n=new ke.MultiFormatReader(this.verbose,this.hints),o=new ke.HTMLCanvasElementLuminanceSource(t),c=new ke.BinaryBitmap(new ke.HybridBinarizer(o)),d=n.decode(c);return{text:d.text,format:Ka.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,o,c){t.set(n,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?n.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}();var Qv=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},Kv=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},jd=function(){function e(t,n,o){if(this.formatMap=new Map([[$.QR_CODE,"qr_code"],[$.AZTEC,"aztec"],[$.CODABAR,"codabar"],[$.CODE_39,"code_39"],[$.CODE_93,"code_93"],[$.CODE_128,"code_128"],[$.DATA_MATRIX,"data_matrix"],[$.ITF,"itf"],[$.EAN_13,"ean_13"],[$.EAN_8,"ean_8"],[$.PDF_417,"pdf417"],[$.UPC_A,"upc_a"],[$.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=o;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Qv(this,void 0,void 0,function(){var n,o;return Kv(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=c.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(n),[2,{text:o.rawValue,format:Ka.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,o=0,c=0,d=t;c<d.length;c++){var h=d[c],w=h.boundingBox.width*h.boundingBox.height;w>o&&(o=w,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?n.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,o,c){t.set(n,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();var f1=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},h1=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},p1=function(){function e(t,n,o,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,n&&jd.isSupported()?(this.primaryDecoder=new jd(t,o,c),this.secondaryDecoder=new Bd(t,o,c)):this.primaryDecoder=new Bd(t,o,c)}return e.prototype.decodeAsync=function(t){return f1(this,void 0,void 0,function(){var n;return h1(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return f1(this,void 0,void 0,function(){var n,o;return h1(this,function(c){switch(c.label){case 0:n=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(o=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,o=this.executionResults;n<o.length;n++){var c=o[n];t+=c}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}();var Ud=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),nc=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},rc=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},g1=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var o={advanced:[n]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),Jv=function(e){Ud(t,e);function t(n,o){return e.call(this,n,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var o={};o[this.name]=n;var c={advanced:[o]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),o=n[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(g1),e2=function(e){Ud(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(Jv),t2=function(e){Ud(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(g1),n2=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new e2(this.track)},e.prototype.torchFeature=function(){return new t2(this.track)},e}(),r2=function(){function e(t,n,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var o=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,c),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,o,c){return nc(this,void 0,void 0,function(){var d,h;return rc(this,function(w){switch(w.label){case 0:return d=new e(t,n,c),o.aspectRatio?(h={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,o=function(){setTimeout(t,200),n.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return nc(this,void 0,void 0,function(){return rc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,o){var c=t.mediaStream.getVideoTracks(),d=c.length,h=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++h,h>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new n2(this.getFirstTrackOrFail())},e}(),m1=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,o){return nc(this,void 0,void 0,function(){return rc(this,function(c){return[2,r2.create(t,this.mediaStream,n,o)]})})},e.create=function(t){return nc(this,void 0,void 0,function(){var n,o;return rc(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return o=c.sent(),[2,new e(o)]}})})},e}();var y1=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},w1=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},x1=function(){function e(){}return e.failIfNotSupported=function(){return y1(this,void 0,void 0,function(){return w1(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return y1(this,void 0,void 0,function(){return w1(this,function(n){return[2,m1.create(t)]})})},e}();var i2=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},o2=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},C1=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=pr.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=pr.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return i2(this,void 0,void 0,function(){var t,n,o,c,d,h,w;return o2(this,function(x){switch(x.label){case 0:return t=function(y){for(var v=y.getVideoTracks(),b=0,k=v;b<k.length;b++){var O=k[b];O.enabled=!1,O.stop(),y.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=x.sent(),c=[],d=0,h=o;d<h.length;d++)w=h[d],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return t(n),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var o=function(d){for(var h=[],w=0,x=d;w<x.length;w++){var y=x[w];y.kind==="video"&&h.push({id:y.id,label:y.label})}t(h)},c=MediaStreamTrack;c.getSources(o)})},e}();var Xe=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Xe||{}),s2=function(){function e(){this.state=Xe.NOT_STARTED,this.onGoingTransactionNewState=Xe.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Xe.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Xe.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Xe.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Xe.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Xe.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Xe.UNKNOWN:throw"Transition from unknown is not allowed";case Xe.NOT_STARTED:this.failIfNewStateIs(t,[Xe.PAUSED]);break;case Xe.SCANNING:break;case Xe.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var o=0,c=n;o<c.length;o++){var d=c[o];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),a2=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Xe.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Xe.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Xe.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Xe.PAUSED},e}();var E1=function(){function e(){}return e.create=function(){return new a2(new s2)},e}();var c2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gt=function(e){c2(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Bt),l2=function(){function e(t,n){this.logger=n,this.fps=Gt.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Gt.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!tn(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),ki=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o,c;typeof n=="boolean"?this.verbose=n===!0:n&&(c=n,this.verbose=c.verbose===!0,o=c.experimentalFeatures),this.logger=new ec(this.verbose),this.qrcode=new p1(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=E1.create()}return e.prototype.start=function(t,n,o,c){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;c?h=c:h=this.verbose?this.logger.log:function(){};var w=l2.create(n,this.logger);this.clearElement();var x=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=x,v=document.getElementById(this.elementId),b=v.clientWidth?v.clientWidth:Gt.DEFAULT_WIDTH;v.style.position="relative",this.shouldScan=!0,this.element=v;var k=this,O=this.stateManagerProxy.startTransition(Xe.SCANNING);return new Promise(function(G,X){var Y=y?w.videoConstraints:k.createVideoConstraints(t);if(!Y){O.cancel(),X("videoConstraints should be defined");return}var H={};(!y||w.aspectRatio)&&(H.aspectRatio=w.aspectRatio);var re={onRenderSurfaceReady:function($e,ae){k.setupUi($e,ae,w),k.isScanning=!0,k.foreverScan(w,o,h)}};x1.failIfNotSupported().then(function($e){$e.create(Y).then(function(ae){return ae.render(d.element,H,re).then(function(j){k.renderedCamera=j,O.execute(),G(null)}).catch(function(j){O.cancel(),X(j)})}).catch(function(ae){O.cancel(),X(pr.errorGettingUserMedia(ae))})}).catch(function($e){O.cancel(),X(pr.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Xe.PAUSED),this.showPausedState(),(tn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Xe.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Xe.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var d=document.getElementById(Gt.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),o(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),n.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,n){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tn(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var w=h.width,x=h.height,y=document.getElementById(o.elementId),v=y.clientWidth?y.clientWidth:Gt.DEFAULT_WIDTH,b=Math.max(y.clientHeight?y.clientHeight:x,Gt.FILE_SCAN_MIN_HEIGHT),k=o.computeCanvasDrawConfig(w,x,v,b);if(n){var O=o.createCanvasElement(v,b,"qr-canvas-visible");O.style.display="inline-block",y.appendChild(O);var G=O.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=v,G.canvas.height=b,G.drawImage(h,0,0,w,x,k.x,k.y,k.width,k.height)}var X=Gt.FILE_SCAN_HIDDEN_CANVAS_PADDING,Y=Math.max(h.width,k.width),H=Math.max(h.height,k.height),re=Y+2*X,$e=H+2*X,ae=o.createCanvasElement(re,$e);y.appendChild(ae);var j=ae.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=re,j.canvas.height=$e,j.drawImage(h,0,0,w,x,X,X,Y,H);try{o.qrcode.decodeRobustlyAsync(ae).then(function(ce){c(Pd.createFromQrcodeResult(ce))}).catch(d)}catch(ce){d("QR code parse error, error = ".concat(ce))}},h.onerror=d,h.onabort=d,h.onstalled=d,h.onsuspend=d,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return C1.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!kd.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[$.QR_CODE,$.AZTEC,$.CODABAR,$.CODE_39,$.CODE_93,$.CODE_128,$.DATA_MATRIX,$.MAXICODE,$.ITF,$.EAN_13,$.EAN_8,$.PDF_417,$.RSS_14,$.RSS_EXPANDED,$.UPC_A,$.UPC_E,$.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],c=0,d=t.formatsToSupport;c<d.length;c++){var h=d[c];a1(h)?o.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(tn(t))return!0;if(!tn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(tn(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return tn(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,o){var c=this,d=o.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(t,n,d),w=function(y){if(y<Gt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Gt.MIN_QR_BOX_SIZE,"px.")},x=function(y){return y>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};w(h.width),w(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,n)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return o},e.prototype.setupUi=function(t,n,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,o);var c=tn(o.qrbox)?{width:t,height:n}:o.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,n,c);d.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=o.isShadedBoxEnabled()&&d.height<=n,w={x:0,y:0,width:t,height:n},x=h?this.getShadedRegionBounds(t,n,d):w,y=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},b=y.getContext("2d",v);b.canvas.width=x.width,b.canvas.height=x.height,this.element.append(y),h&&this.possiblyInsertShadingElement(this.element,t,n,d),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=b,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=pr.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,Pd.createFromQrcodeResult(c)),o.possiblyUpdateShaders(!0),!0}).catch(function(c){o.possiblyUpdateShaders(!1);var d=pr.codeParseError(c);return n(d,Ja.createFrom(d)),!1})},e.prototype.foreverScan=function(t,n,o){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),h=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,y=this.qrRegion.height*w,v=this.qrRegion.x*h,b=this.qrRegion.y*w;this.context.drawImage(d,v,b,x,y,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,n,o)},c.getTimeoutFps(t.fps))};this.scanContext(n,o).then(function(O){!O&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(n,o).finally(function(){k()})):k()}).catch(function(O){c.logger.logError("Error happend while scanning context",O),k()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",o="deviceId",c={user:!0,environment:!0},d="exact",h=function(G){if(G in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==o)throw"Only '".concat(n,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var y=t.facingMode;if(typeof y=="string"){if(h(y))return{facingMode:y}}else if(typeof y=="object")if(d in y){if(h(y["".concat(d)]))return{facingMode:{exact:y["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var v=typeof y;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(d in b)return{deviceId:{exact:b["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var k=typeof b;throw"Invalid type of 'deviceId' = ".concat(k)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(t,n,o,c){if(t<=o&&n<=c){var d=(o-t)/2,h=(c-n)/2;return{x:d,y:h,width:t,height:n}}else{var w=t,x=n;return t>o&&(n=o/t*n,t=o),n>c&&(t=c/n*t,n=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,o,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Gt.BORDER_SHADER_MATCH_COLOR:Gt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,o){var c=t,d=n,h=document.createElement("canvas");return h.style.width="".concat(c,"px"),h.style.height="".concat(d,"px"),h.style.display="none",h.id=tn(o)?"qr-canvas":o,h},e.prototype.getShadedRegionBounds=function(t,n,o){if(o.width>t||o.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(n-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,n,o,c){if(!(n-c.width<1||o-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var h=(n-c.width)/2,w=(o-c.height)/2;if(d.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Gt.SHADED_REGION_ELEMENT_ID),n-c.width<11||o-c.height<11)this.hasBorderShaders=!1;else{var x=5,y=40;this.insertShaderBorders(d,y,x,-x,null,0,!0),this.insertShaderBorders(d,y,x,-x,null,0,!1),this.insertShaderBorders(d,y,x,null,-x,0,!0),this.insertShaderBorders(d,y,x,null,-x,0,!1),this.insertShaderBorders(d,x,y+x,-x,null,-x,!0),this.insertShaderBorders(d,x,y+x,null,-x,-x,!0),this.insertShaderBorders(d,x,y+x,-x,null,-x,!1),this.insertShaderBorders(d,x,y+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,n,o,c,d,h,w){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Gt.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(o,"px"),c!==null&&(x.style.top="".concat(c,"px")),d!==null&&(x.style.bottom="".concat(d,"px")),w?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();var Vd="data:image/svg+xml;base64,",I1=Vd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",v1=Vd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Hd=Vd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",D1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var A1=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),b1=function(){function e(){this.data=A1.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=A1.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}();var u2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Fd.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var o=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(c);var d=document.createElement("a");d.innerText=Fd.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),d2=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Hd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return n.onHoverIn()},this.infoIcon.onmouseout=function(o){return n.onHoverOut()},this.infoIcon.onclick=function(o){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=D1,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Hd,this.infoIcon.style.opacity="0.6")},e}(),S1=function(){function e(){var t=this;this.infoDiv=new u2,this.infoIcon=new d2(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}();var f2=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},h2=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},zd=function(){function e(){}return e.hasPermissions=function(){return f2(this,void 0,void 0,function(){var t,n,o,c;return h2(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=d.sent(),n=0,o=t;n<o.length;n++)if(c=o[n],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}();var Gn=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var o=n[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Nn.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Nn.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Bt.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Bt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var o=0,c=t;o<c.length;o++){var d=c[o];if(!Bt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return t},e}();var ht=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}();var jt=function(){function e(){}return e.createElement=function(t,n){var o=document.createElement(t);return o.id=n,o.classList.add(ht.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e}();var M1=function(e,t,n,o){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function w(v){try{y(o.next(v))}catch(b){h(b)}}function x(v){try{y(o.throw(v))}catch(b){h(b)}}function y(v){v.done?d(v.value):c(v.value).then(w,x)}y((o=o.apply(e,t||[])).next())})},N1=function(e,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(y){return function(v){return x([y,v])}}function x(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(v){y=[6,v],c=0}finally{o=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},T1=function(){function e(t,n,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return M1(this,void 0,void 0,function(){var t,n;return N1(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=o.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Te.torchOffButton():Te.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var o=t?Te.torchOnFailedMessage():Te.torchOffFailedMessage();n&&(o+="; Error = "+n),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),_1=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=jt.createElement("button",ht.TORCH_BUTTON_ID),this.torchController=new T1(t,this,n)}return e.prototype.render=function(t,n){var o=this;this.torchButton.innerText=Te.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var c=this;this.torchButton.addEventListener("click",function(d){return M1(o,void 0,void 0,function(){return N1(this,function(h){switch(h.label){case 0:return[4,c.torchController.flipState()];case 1:return h.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(ht.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(ht.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(ht.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(ht.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new T1(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Te.torchOnButton(),this.torchController.reset()},e.create=function(t,n,o,c){var d=new e(n,c);return d.render(t,o),d},e}();var R1=function(){function e(t,n,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=jt.createElement("button",ht.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=jt.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var x=w.target;if(!(x.files&&x.files.length===0)){var y=x.files,v=y[0],b=v.name;d.setImageNameToButton(b),o(v)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var x=w.dataTransfer;if(x){var y=x.files;if(!y||y.length===0)return;for(var v=!1,b=0;b<y.length;++b){var k=y.item(b);if(k){var O=/image.*/;if(k.type.match(O)){v=!0;var G=k.name;d.setImageNameToButton(G),o(k),h.innerText=Te.dragAndDropMessage();break}}}v||(h.innerText=Te.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Te.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var o=t.substring(0,8),c=t.length,d=t.substring(c-8,c);t="".concat(o,"....").concat(d)}var h=Te.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=Te.fileSelectionChooseImage()+" - "+Te.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,o){var c=new e(t,n,o);return c},e}();var O1=function(){function e(t){this.selectElement=jt.createElement("select",ht.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)n.style.display="none";else{var c=Te.selectCamera();n.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var d=1,h=0,w=this.cameras;h<w.length;h++){var x=w[h],y=x.id,v=x.label==null?y:x.label;(!v||v==="")&&(v=[Te.anonymousCameraPrefix(),d++].join(" "));var b=document.createElement("option");b.value=y,b.innerText=v,this.options.push(b),this.selectElement.appendChild(b)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,o=this.options;n<o.length;n++){var c=o[n];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var o=new e(n);return o.render(t),o},e}();var L1=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=jt.createElement("input",ht.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,o,c){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var o=new e;return o.render(t,n),o},e}();var nn=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(nn||{});function p2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function g2(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var m2=function(){function e(t,n,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Gn(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ec(this.verbose),this.persistedDataManager=new b1,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,h){if(t)t(d,h);else{if(o.lastMatchFound===d)return;o.lastMatchFound=d,o.setHeaderMessage(Te.lastMatch(d),nn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,h){n&&n(d,h)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new ki(this.getScanRegionId(),g2(this.config,this.verbose))},e.prototype.pause=function(t){(tn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,c){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(d){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),n(),o()}).catch(function(d){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",d),c(d)}):(t.html5Qrcode.clear(),n(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Bt.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Bt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Bt.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Bt.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Bt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Bt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Bt.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),o=this.getScanRegionId();n.id=o,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Gn.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),d=this.getDashboardId();c.id=d,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var o=new S1;o.renderInto(n);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",n.appendChild(c)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,o){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(Te.cameraPermissionRequesting());var d=function(){o||c.createPermissionButton(t,n)};ki.getCameras().then(function(h){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),c.renderCameraSelection(h)):(c.setHeaderMessage(Te.noCameraFound(),nn.STATUS_WARNING),d())}).catch(function(h){c.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:d(),c.setHeaderMessage(h,nn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var o=this,c=jt.createElement("button",this.getCameraPermissionButtonId());c.innerText=Te.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,o.createCameraListUi(t,n,c)}),n.appendChild(c)},e.prototype.createPermissionsUi=function(t,n){var o=this;if(Gn.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){zd.hasPermissions().then(function(c){c?o.createCameraListUi(t,n):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,n))}).catch(function(c){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Gn.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(o);var c=document.createElement("div");c.style.textAlign="center",o.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,c),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Gn.isFileScanType(this.currentScanType),o=this,c=function(d){if(!o.html5Qrcode)throw"html5Qrcode not defined";Gn.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Te.loadingImage()),o.html5Qrcode.scanFileV2(d,!0).then(function(h){o.resetHeaderMessage(),o.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){o.setHeaderMessage(h,nn.STATUS_WARNING),o.qrCodeErrorCallback(h,Ja.createFrom(h))}))};this.fileSelectionUi=R1.create(t,n,c)},e.prototype.renderCameraSelection=function(t){var n=this,o=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var d=L1.create(c,!1),h=function(X){var Y=X.zoomFeature();if(Y.isSupported()){d.setOnCameraZoomValueChangeCallback(function(re){Y.apply(re)});var H=1;n.config.defaultZoomValueIfSupported&&(H=n.config.defaultZoomValueIfSupported),H=l1(H,Y.min(),Y.max()),d.setValues(Y.min(),Y.max(),H,Y.step()),d.show()}},w=O1.create(c,t),x=document.createElement("span"),y=jt.createElement("button",ht.CAMERA_START_BUTTON_ID);y.innerText=Te.scanButtonStartScanningText(),x.appendChild(y);var v=jt.createElement("button",ht.CAMERA_STOP_BUTTON_ID);v.innerText=Te.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,x.appendChild(v);var b,k=function(X){if(!X.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(X.torchFeature()):b=_1.create(x,X.torchFeature(),{display:"none",marginLeft:"5px"},function(Y){o.setHeaderMessage(Y,nn.STATUS_WARNING)}),b.show()};c.appendChild(x);var O=function(X){X||(y.style.display="none"),y.innerText=Te.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,X&&(y.style.display="inline-block")};if(y.addEventListener("click",function(X){y.innerText=Te.scanButtonScanningStarting(),w.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var Y=w.getValue();o.persistedDataManager.setLastUsedCameraId(Y),o.html5Qrcode.start(Y,p2(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(H){v.disabled=!1,v.style.display="inline-block",O(!1);var re=o.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&k(re),n.config.showZoomSliderIfSupported===!0&&h(re)}).catch(function(H){o.showHideScanTypeSwapLink(!0),w.enable(),O(!0),o.setHeaderMessage(H,nn.STATUS_WARNING)})}),w.hasSingleItem()&&y.click(),v.addEventListener("click",function(X){if(!o.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,o.html5Qrcode.stop().then(function(Y){n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),w.enable(),y.disabled=!1,v.style.display="none",y.style.display="inline-block",b&&(b.reset(),b.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(Y){v.disabled=!1,o.setHeaderMessage(Y,nn.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var G=o.persistedDataManager.getLastUsedCameraId();w.hasValue(G)?(w.setValue(G),y.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Te.textIfCameraScanSelected(),o=Te.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var h=jt.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Gn.isCameraScanType(this.currentScanType)?n:o,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Gn.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=o,t.currentScanType=Nn.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=Nn.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),d.appendChild(h),c.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){zd.hasPermissions().then(function(o){if(o){var c=document.getElementById(n.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(o){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=nn.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",n){case nn.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case nn.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case nn.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=I1,this.cameraScanImage.alt=Te.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=v1,this.fileScanImage.alt=Te.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ht.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ht.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();var y2=e=>({width:"400px",display:e});function w2(e,t){if(e&1){let n=Vg();Lr(0,"button",5),Co("click",function(){Ap(n);let c=Ru();return bp(c.triggerInstallPrompt())}),Eo(1," Install app "),Pr()}}function x2(e,t){if(e&1&&(Lr(0,"h1"),Eo(1),Pr()),e&2){let n=Ru();vi(),Sa("Scanned text: ",n.qrCodeScanResult,"")}}var ic=class e{title="pwa-poc";deferredInstallPrompt=null;isPwaInstalled=!1;html5QrcodeScanner=null;qrCodeScanResult="";ngOnInit(){this.html5QrcodeScanner=new ki("reader"),this.html5QrcodeScanner.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},this.onScanSuccess.bind(this),this.onScanFailure.bind(this))}onContentLoaded(t){this.isPwaInstalled=this.checkIfPwaInstalled(),console.log("isDomContentLoaded",t)}onBeforeInstallPrompt(t){console.log("beforeinstallprompt",t),this.deferredInstallPrompt=t,t.preventDefault()}onAppInstalled(t){this.deferredInstallPrompt=null,this.isPwaInstalled=!0,console.log("PWA was installed")}triggerInstallPrompt(){return Mc(this,null,function*(){if(!this.isPwaInstalled){this.deferredInstallPrompt?.prompt();let t=yield this.deferredInstallPrompt?.userChoice;console.log(`User response to the install prompt: ${t?.outcome}`),this.deferredInstallPrompt=null}})}checkIfPwaInstalled(){let t=navigator.userAgent,n=t.match(/iPhone|iPad|iPod/),o=t.match(/Android/),c=n?"ios":o?"android":"unknown",h=!!(window.matchMedia("(display-mode: standalone)").matches||n&&!t.match(/Safari/));return console.log(`PWA is ${h?"":"NOT"} installed on ${c}`),h}onScanSuccess(t,n){console.log(`Code matched = ${t}`,n),this.qrCodeScanResult=t,this.html5QrcodeScanner?.stop().then(o=>{}).catch(o=>{})}onScanFailure(t,n){}shouldShowQrCodeScanner(){return this.isPwaInstalled&&this.qrCodeScanResult===""}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=da({type:e,selectors:[["app-root"]],hostBindings:function(n,o){n&1&&Co("DOMContentLoaded",function(d){return o.onContentLoaded(d)},!1,xa)("beforeinstallprompt",function(d){return o.onBeforeInstallPrompt(d)},!1,xa)("appinstalled",function(d){return o.onAppInstalled(d)},!1,xa)},standalone:!0,features:[Ta],decls:10,vars:6,consts:[[1,"main"],[1,"content"],[3,"click",4,"ngIf"],["id","reader",3,"ngStyle"],[4,"ngIf"],[3,"click"]],template:function(n,o){n&1&&(Lr(0,"main",0)(1,"div",1)(2,"h1"),Eo(3,"PWA PoC"),Pr(),ba(4,w2,2,0,"button",2),Lr(5,"p"),Eo(6),Pr()()(),Di(7,"div",3),ba(8,x2,2,1,"h1",4),Di(9,"router-outlet")),n&2&&(vi(4),xo("ngIf",o.deferredInstallPrompt&&!o.isPwaInstalled),vi(2),Sa("PWA is",o.isPwaInstalled?"":" NOT"," installed!"),vi(),xo("ngStyle",Hg(4,y2,o.shouldShowQrCodeScanner()?"block":"none")),vi(),xo("ngIf",o.qrCodeScanResult))},dependencies:[Md,a0,c0],encapsulation:2})};m0(ic,o1).catch(e=>console.error(e));
